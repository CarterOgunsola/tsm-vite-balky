var dy=Object.defineProperty;var py=(li,Ie,hi)=>Ie in li?dy(li,Ie,{enumerable:!0,configurable:!0,writable:!0,value:hi}):li[Ie]=hi;var wr=(li,Ie,hi)=>(py(li,typeof Ie!="symbol"?Ie+"":Ie,hi),hi);(function(li){typeof define=="function"&&define.amd?define(li):li()})(function(){"use strict";var li=document.createElement("style");li.textContent=`@charset "UTF-8";body{margin:0;padding:0}#canvas{position:absolute;top:0;right:0;bottom:0;left:0}[data-plane]{opacity:0;visibility:hidden}#canvas{position:fixed;top:0;right:0;left:0;height:100vh;z-index:5;pointer-events:none;opacity:0;transition:opacity .5s ease-in}.planes-loaded #canvas{opacity:1}.swiper-slide.is-gallery .home_slider-content-wrapper{opacity:.2;transform:scale(.95)}.swiper-slide.is-gallery.swiper-slide-active .home_slider-content-wrapper{opacity:1;transform:scale(1)}.swiper-slide.is-gallery .home_slider-content-vid-wrapper .home_slider-content-vid{transform:scale(1.1)}.swiper-slide.is-gallery.swiper-slide-active .home_slider-content-vid-wrapper .home_slider-content-vid{transform:scale(1)}.swiper-slide.is-gallery .home_slider-info-wrapper .home_slider-info-meta{transform:translateY(100%);opacity:0%}.swiper-slide.is-gallery.swiper-slide-active .home_slider-info-wrapper .home_slider-info-meta{transform:translateY(0);opacity:100%}.swiper-slide.is-gallery .home_slider-info-wrapper .home_slider-info-num{transform:translateY(100%);opacity:0%;transition-delay:.1s}.swiper-slide.is-gallery.swiper-slide-active .home_slider-info-wrapper .home_slider-info-num{transform:translateY(0);opacity:100%}.home_slider-cursor-parent{pointer-events:none;opacity:0%;transition:cubic-bezier(.075,.82,.165,1) .3s;transition-property:all}@media (pointer: fine){.home_slider-main:hover .home_slider-cursor-parent{opacity:100%}}html{--plyr-color-main: #f3f0eb;--plyr-tab-focus-color: transparent;--plyr-video-control-color-hover: #1d1d1b;--plyr-control-icon-size: 1.25em;--plyr-range-thumb-height: 5px;--plyr-range-track-height: 1px;--plyr-video-control-background-hover: transparent;--plyr-control-spacing: 1.125rem;--plyr-font-family: Ng-mono, sans-serif, monospace;--plyr-font-size-base: .825rem;--plyr-tooltip-radius: 0rem;--plyr-tooltip-background: #f3f0eb;--plyr-tooltip-color: #1d1d1b}.plyr__control--overlaid{color:#1d1d1b}.plyr__volume{width:auto;min-width:auto;max-width:auto}.plyr{width:100%;height:100%}.plyr video{object-fit:cover}.contain-video video{object-fit:contain}.hide-cover .plyr_cover{opacity:0;pointer-events:none}.hide-cover .plyr_cover-img{transform:scale(1.4)}html.lenis{height:auto}.lenis.lenis-smooth{scroll-behavior:auto!important}.lenis.lenis-smooth [data-lenis-prevent]{overscroll-behavior:contain}.lenis.lenis-stopped{overflow:hidden}.lenis.lenis-scrolling iframe{pointer-events:none}[a-line-wrap]{display:inline-flex;align-items:center;position:relative;cursor:pointer}[a-line]{position:relative}[a-underline]{position:absolute;bottom:0;left:0;width:100%;height:1px;background-color:currentColor;transform:scaleX(0);transform-origin:left}[nav-link-dot]{opacity:0;transition:opacity .3s ease}[nav-link].w--current [nav-link-dot]{opacity:1}@keyframes plyr-progress{to{background-position:25px 0;background-position:var(--plyr-progress-loading-size,25px) 0}}@keyframes plyr-popup{0%{opacity:.5;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes plyr-fade-in{0%{opacity:0}to{opacity:1}}.plyr{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;align-items:center;direction:ltr;display:flex;flex-direction:column;font-family:inherit;font-family:var(--plyr-font-family,inherit);font-variant-numeric:tabular-nums;font-weight:400;font-weight:var(--plyr-font-weight-regular,400);line-height:1.7;line-height:var(--plyr-line-height,1.7);max-width:100%;min-width:200px;position:relative;text-shadow:none;transition:box-shadow .3s ease;z-index:0}.plyr audio,.plyr iframe,.plyr video{display:block;height:100%;width:100%}.plyr button{font:inherit;line-height:inherit;width:auto}.plyr:focus{outline:0}.plyr--full-ui{box-sizing:border-box}.plyr--full-ui *,.plyr--full-ui :after,.plyr--full-ui :before{box-sizing:inherit}.plyr--full-ui a,.plyr--full-ui button,.plyr--full-ui input,.plyr--full-ui label{touch-action:manipulation}.plyr__badge{background:#4a5464;background:var(--plyr-badge-background,#4a5464);border-radius:2px;border-radius:var(--plyr-badge-border-radius,2px);color:#fff;color:var(--plyr-badge-text-color,#fff);font-size:9px;font-size:var(--plyr-font-size-badge,9px);line-height:1;padding:3px 4px}.plyr--full-ui ::-webkit-media-text-track-container{display:none}.plyr__captions{animation:plyr-fade-in .3s ease;bottom:0;display:none;font-size:13px;font-size:var(--plyr-font-size-small,13px);left:0;padding:10px;padding:var(--plyr-control-spacing,10px);position:absolute;text-align:center;transition:transform .4s ease-in-out;width:100%}.plyr__captions span:empty{display:none}@media (min-width:480px){.plyr__captions{font-size:15px;font-size:var(--plyr-font-size-base,15px);padding:20px;padding:calc(var(--plyr-control-spacing, 10px)*2)}}@media (min-width:768px){.plyr__captions{font-size:18px;font-size:var(--plyr-font-size-large,18px)}}.plyr--captions-active .plyr__captions{display:block}.plyr:not(.plyr--hide-controls) .plyr__controls:not(:empty)~.plyr__captions{transform:translateY(-40px);transform:translateY(calc(var(--plyr-control-spacing, 10px)*-4))}.plyr__caption{background:#000c;background:var(--plyr-captions-background,#000c);border-radius:2px;-webkit-box-decoration-break:clone;box-decoration-break:clone;color:#fff;color:var(--plyr-captions-text-color,#fff);line-height:185%;padding:.2em .5em;white-space:pre-wrap}.plyr__caption div{display:inline}.plyr__control{background:#0000;border:0;border-radius:4px;border-radius:var(--plyr-control-radius,4px);color:inherit;cursor:pointer;flex-shrink:0;overflow:visible;padding:7px;padding:calc(var(--plyr-control-spacing, 10px)*.7);position:relative;transition:all .3s ease}.plyr__control svg{fill:currentColor;display:block;height:18px;height:var(--plyr-control-icon-size,18px);pointer-events:none;width:18px;width:var(--plyr-control-icon-size,18px)}.plyr__control:focus{outline:0}.plyr__control:focus-visible{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}a.plyr__control{text-decoration:none}.plyr__control.plyr__control--pressed .icon--not-pressed,.plyr__control.plyr__control--pressed .label--not-pressed,.plyr__control:not(.plyr__control--pressed) .icon--pressed,.plyr__control:not(.plyr__control--pressed) .label--pressed,a.plyr__control:after,a.plyr__control:before{display:none}.plyr--full-ui ::-webkit-media-controls{display:none}.plyr__controls{align-items:center;display:flex;justify-content:flex-end;text-align:center}.plyr__controls .plyr__progress__container{flex:1;min-width:0}.plyr__controls .plyr__controls__item{margin-left:2.5px;margin-left:calc(var(--plyr-control-spacing, 10px)/4)}.plyr__controls .plyr__controls__item:first-child{margin-left:0;margin-right:auto}.plyr__controls .plyr__controls__item.plyr__progress__container{padding-left:2.5px;padding-left:calc(var(--plyr-control-spacing, 10px)/4)}.plyr__controls .plyr__controls__item.plyr__time{padding:0 5px;padding:0 calc(var(--plyr-control-spacing, 10px)/2)}.plyr__controls .plyr__controls__item.plyr__progress__container:first-child,.plyr__controls .plyr__controls__item.plyr__time+.plyr__time,.plyr__controls .plyr__controls__item.plyr__time:first-child{padding-left:0}.plyr [data-plyr=airplay],.plyr [data-plyr=captions],.plyr [data-plyr=fullscreen],.plyr [data-plyr=pip],.plyr__controls:empty{display:none}.plyr--airplay-supported [data-plyr=airplay],.plyr--captions-enabled [data-plyr=captions],.plyr--fullscreen-enabled [data-plyr=fullscreen],.plyr--pip-supported [data-plyr=pip]{display:inline-block}.plyr__menu{display:flex;position:relative}.plyr__menu .plyr__control svg{transition:transform .3s ease}.plyr__menu .plyr__control[aria-expanded=true] svg{transform:rotate(90deg)}.plyr__menu .plyr__control[aria-expanded=true] .plyr__tooltip{display:none}.plyr__menu__container{animation:plyr-popup .2s ease;background:#ffffffe6;background:var(--plyr-menu-background,#ffffffe6);border-radius:8px;border-radius:var(--plyr-menu-radius,8px);bottom:100%;box-shadow:0 1px 2px #00000026;box-shadow:var(--plyr-menu-shadow,0 1px 2px #00000026);color:#4a5464;color:var(--plyr-menu-color,#4a5464);font-size:15px;font-size:var(--plyr-font-size-base,15px);margin-bottom:10px;position:absolute;right:-3px;text-align:left;white-space:nowrap;z-index:3}.plyr__menu__container>div{overflow:hidden;transition:height .35s cubic-bezier(.4,0,.2,1),width .35s cubic-bezier(.4,0,.2,1)}.plyr__menu__container:after{border:4px solid #0000;border-top-color:#ffffffe6;border:var(--plyr-menu-arrow-size,4px) solid #0000;border-top-color:var(--plyr-menu-background,#ffffffe6);content:"";height:0;position:absolute;right:14px;right:calc(var(--plyr-control-icon-size, 18px)/2 + var(--plyr-control-spacing, 10px)*.7 - var(--plyr-menu-arrow-size, 4px)/2);top:100%;width:0}.plyr__menu__container [role=menu]{padding:7px;padding:calc(var(--plyr-control-spacing, 10px)*.7)}.plyr__menu__container [role=menuitem],.plyr__menu__container [role=menuitemradio]{margin-top:2px}.plyr__menu__container [role=menuitem]:first-child,.plyr__menu__container [role=menuitemradio]:first-child{margin-top:0}.plyr__menu__container .plyr__control{align-items:center;color:#4a5464;color:var(--plyr-menu-color,#4a5464);display:flex;font-size:13px;font-size:var(--plyr-font-size-menu,var(--plyr-font-size-small,13px));padding:4.66667px 10.5px;padding:calc(var(--plyr-control-spacing, 10px)*.7/1.5) calc(var(--plyr-control-spacing, 10px)*.7*1.5);-webkit-user-select:none;user-select:none;width:100%}.plyr__menu__container .plyr__control>span{align-items:inherit;display:flex;width:100%}.plyr__menu__container .plyr__control:after{border:4px solid #0000;border:var(--plyr-menu-item-arrow-size,4px) solid #0000;content:"";position:absolute;top:50%;transform:translateY(-50%)}.plyr__menu__container .plyr__control--forward{padding-right:28px;padding-right:calc(var(--plyr-control-spacing, 10px)*.7*4)}.plyr__menu__container .plyr__control--forward:after{border-left-color:#728197;border-left-color:var(--plyr-menu-arrow-color,#728197);right:6.5px;right:calc(var(--plyr-control-spacing, 10px)*.7*1.5 - var(--plyr-menu-item-arrow-size, 4px))}.plyr__menu__container .plyr__control--forward:focus-visible:after,.plyr__menu__container .plyr__control--forward:hover:after{border-left-color:initial}.plyr__menu__container .plyr__control--back{font-weight:400;font-weight:var(--plyr-font-weight-regular,400);margin:7px;margin:calc(var(--plyr-control-spacing, 10px)*.7);margin-bottom:3.5px;margin-bottom:calc(var(--plyr-control-spacing, 10px)*.7/2);padding-left:28px;padding-left:calc(var(--plyr-control-spacing, 10px)*.7*4);position:relative;width:calc(100% - 14px);width:calc(100% - var(--plyr-control-spacing, 10px)*.7*2)}.plyr__menu__container .plyr__control--back:after{border-right-color:#728197;border-right-color:var(--plyr-menu-arrow-color,#728197);left:6.5px;left:calc(var(--plyr-control-spacing, 10px)*.7*1.5 - var(--plyr-menu-item-arrow-size, 4px))}.plyr__menu__container .plyr__control--back:before{background:#dcdfe5;background:var(--plyr-menu-back-border-color,#dcdfe5);box-shadow:0 1px #fff;box-shadow:0 1px 0 var(--plyr-menu-back-border-shadow-color,#fff);content:"";height:1px;left:0;margin-top:3.5px;margin-top:calc(var(--plyr-control-spacing, 10px)*.7/2);overflow:hidden;position:absolute;right:0;top:100%}.plyr__menu__container .plyr__control--back:focus-visible:after,.plyr__menu__container .plyr__control--back:hover:after{border-right-color:initial}.plyr__menu__container .plyr__control[role=menuitemradio]{padding-left:7px;padding-left:calc(var(--plyr-control-spacing, 10px)*.7)}.plyr__menu__container .plyr__control[role=menuitemradio]:after,.plyr__menu__container .plyr__control[role=menuitemradio]:before{border-radius:100%}.plyr__menu__container .plyr__control[role=menuitemradio]:before{background:#0000001a;content:"";display:block;flex-shrink:0;height:16px;margin-right:10px;margin-right:var(--plyr-control-spacing,10px);transition:all .3s ease;width:16px}.plyr__menu__container .plyr__control[role=menuitemradio]:after{background:#fff;border:0;height:6px;left:12px;opacity:0;top:50%;transform:translateY(-50%) scale(0);transition:transform .3s ease,opacity .3s ease;width:6px}.plyr__menu__container .plyr__control[role=menuitemradio][aria-checked=true]:before{background:#00b2ff;background:var(--plyr-control-toggle-checked-background,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)))}.plyr__menu__container .plyr__control[role=menuitemradio][aria-checked=true]:after{opacity:1;transform:translateY(-50%) scale(1)}.plyr__menu__container .plyr__control[role=menuitemradio]:focus-visible:before,.plyr__menu__container .plyr__control[role=menuitemradio]:hover:before{background:#23282f1a}.plyr__menu__container .plyr__menu__value{align-items:center;display:flex;margin-left:auto;margin-right:-5px;margin-right:calc(var(--plyr-control-spacing, 10px)*.7*-1 - -2px);overflow:hidden;padding-left:24.5px;padding-left:calc(var(--plyr-control-spacing, 10px)*.7*3.5);pointer-events:none}.plyr--full-ui input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#0000;border:0;border-radius:26px;border-radius:calc(var(--plyr-range-thumb-height, 13px)*2);color:#00b2ff;color:var(--plyr-range-fill-background,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));display:block;height:19px;height:calc(var(--plyr-range-thumb-active-shadow-width, 3px)*2 + var(--plyr-range-thumb-height, 13px));margin:0;min-width:0;padding:0;transition:box-shadow .3s ease;width:100%}.plyr--full-ui input[type=range]::-webkit-slider-runnable-track{background:#0000;background-image:linear-gradient(90deg,currentColor 0,#0000 0);background-image:linear-gradient(to right,currentColor var(--value,0),#0000 var(--value,0));border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-webkit-transition:box-shadow .3s ease;transition:box-shadow .3s ease;-webkit-user-select:none;user-select:none}.plyr--full-ui input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33);height:13px;height:var(--plyr-range-thumb-height,13px);margin-top:-4px;margin-top:calc((var(--plyr-range-thumb-height, 13px) - var(--plyr-range-track-height, 5px))/2*-1);position:relative;-webkit-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-moz-range-track{background:#0000;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-moz-transition:box-shadow .3s ease;transition:box-shadow .3s ease;-webkit-user-select:none;user-select:none}.plyr--full-ui input[type=range]::-moz-range-thumb{background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33);height:13px;height:var(--plyr-range-thumb-height,13px);position:relative;-moz-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-moz-range-progress{background:currentColor;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px)}.plyr--full-ui input[type=range]::-ms-track{color:#0000}.plyr--full-ui input[type=range]::-ms-fill-upper,.plyr--full-ui input[type=range]::-ms-track{background:#0000;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-ms-transition:box-shadow .3s ease;transition:box-shadow .3s ease;-webkit-user-select:none;user-select:none}.plyr--full-ui input[type=range]::-ms-fill-lower{background:#0000;background:currentColor;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-ms-transition:box-shadow .3s ease;transition:box-shadow .3s ease;-webkit-user-select:none;user-select:none}.plyr--full-ui input[type=range]::-ms-thumb{background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33);height:13px;height:var(--plyr-range-thumb-height,13px);margin-top:0;position:relative;-ms-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-ms-tooltip{display:none}.plyr--full-ui input[type=range]::-moz-focus-outer{border:0}.plyr--full-ui input[type=range]:focus{outline:0}.plyr--full-ui input[type=range]:focus-visible::-webkit-slider-runnable-track{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}.plyr--full-ui input[type=range]:focus-visible::-moz-range-track{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}.plyr--full-ui input[type=range]:focus-visible::-ms-track{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}.plyr__poster{background-color:#000;background-color:var(--plyr-video-background,var(--plyr-video-background,#000));background-position:50% 50%;background-repeat:no-repeat;background-size:contain;height:100%;left:0;opacity:0;position:absolute;top:0;transition:opacity .2s ease;width:100%;z-index:1}.plyr--stopped.plyr__poster-enabled .plyr__poster{opacity:1}.plyr--youtube.plyr--paused.plyr__poster-enabled:not(.plyr--stopped) .plyr__poster{display:none}.plyr__time{font-size:13px;font-size:var(--plyr-font-size-time,var(--plyr-font-size-small,13px))}.plyr__time+.plyr__time:before{content:"⁄";margin-right:10px;margin-right:var(--plyr-control-spacing,10px)}@media (max-width:767px){.plyr__time+.plyr__time{display:none}}.plyr__tooltip{background:#fff;background:var(--plyr-tooltip-background,#fff);border-radius:5px;border-radius:var(--plyr-tooltip-radius,5px);bottom:100%;box-shadow:0 1px 2px #00000026;box-shadow:var(--plyr-tooltip-shadow,0 1px 2px #00000026);color:#4a5464;color:var(--plyr-tooltip-color,#4a5464);font-size:13px;font-size:var(--plyr-font-size-small,13px);font-weight:400;font-weight:var(--plyr-font-weight-regular,400);left:50%;line-height:1.3;margin-bottom:10px;margin-bottom:calc(var(--plyr-control-spacing, 10px)/2*2);opacity:0;padding:5px 7.5px;padding:calc(var(--plyr-control-spacing, 10px)/2) calc(var(--plyr-control-spacing, 10px)/2*1.5);pointer-events:none;position:absolute;transform:translate(-50%,10px) scale(.8);transform-origin:50% 100%;transition:transform .2s ease .1s,opacity .2s ease .1s;white-space:nowrap;z-index:2}.plyr__tooltip:before{border-left:4px solid #0000;border-left:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-right:4px solid #0000;border-right:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-top:4px solid #fff;border-top:var(--plyr-tooltip-arrow-size,4px) solid var(--plyr-tooltip-background,#fff);bottom:-4px;bottom:calc(var(--plyr-tooltip-arrow-size, 4px)*-1);content:"";height:0;left:50%;position:absolute;transform:translate(-50%);width:0;z-index:2}.plyr .plyr__control:focus-visible .plyr__tooltip,.plyr .plyr__control:hover .plyr__tooltip,.plyr__tooltip--visible{opacity:1;transform:translate(-50%) scale(1)}.plyr .plyr__control:hover .plyr__tooltip{z-index:3}.plyr__controls>.plyr__control:first-child .plyr__tooltip,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip{left:0;transform:translateY(10px) scale(.8);transform-origin:0 100%}.plyr__controls>.plyr__control:first-child .plyr__tooltip:before,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip:before{left:16px;left:calc(var(--plyr-control-icon-size, 18px)/2 + var(--plyr-control-spacing, 10px)*.7)}.plyr__controls>.plyr__control:last-child .plyr__tooltip{left:auto;right:0;transform:translateY(10px) scale(.8);transform-origin:100% 100%}.plyr__controls>.plyr__control:last-child .plyr__tooltip:before{left:auto;right:16px;right:calc(var(--plyr-control-icon-size, 18px)/2 + var(--plyr-control-spacing, 10px)*.7);transform:translate(50%)}.plyr__controls>.plyr__control:first-child .plyr__tooltip--visible,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip--visible,.plyr__controls>.plyr__control:first-child+.plyr__control:focus-visible .plyr__tooltip,.plyr__controls>.plyr__control:first-child+.plyr__control:hover .plyr__tooltip,.plyr__controls>.plyr__control:first-child:focus-visible .plyr__tooltip,.plyr__controls>.plyr__control:first-child:hover .plyr__tooltip,.plyr__controls>.plyr__control:last-child .plyr__tooltip--visible,.plyr__controls>.plyr__control:last-child:focus-visible .plyr__tooltip,.plyr__controls>.plyr__control:last-child:hover .plyr__tooltip{transform:translate(0) scale(1)}.plyr__progress{left:6.5px;left:calc(var(--plyr-range-thumb-height, 13px)*.5);margin-right:13px;margin-right:var(--plyr-range-thumb-height,13px);position:relative}.plyr__progress input[type=range],.plyr__progress__buffer{margin-left:-6.5px;margin-left:calc(var(--plyr-range-thumb-height, 13px)*-.5);margin-right:-6.5px;margin-right:calc(var(--plyr-range-thumb-height, 13px)*-.5);width:calc(100% + 13px);width:calc(100% + var(--plyr-range-thumb-height, 13px))}.plyr__progress input[type=range]{position:relative;z-index:2}.plyr__progress .plyr__tooltip{left:0;max-width:120px;overflow-wrap:break-word}.plyr__progress__buffer{-webkit-appearance:none;background:#0000;border:0;border-radius:100px;height:5px;height:var(--plyr-range-track-height,5px);left:0;margin-top:-2.5px;margin-top:calc((var(--plyr-range-track-height, 5px)/2)*-1);padding:0;position:absolute;top:50%}.plyr__progress__buffer::-webkit-progress-bar{background:#0000}.plyr__progress__buffer::-webkit-progress-value{background:currentColor;border-radius:100px;min-width:5px;min-width:var(--plyr-range-track-height,5px);-webkit-transition:width .2s ease;transition:width .2s ease}.plyr__progress__buffer::-moz-progress-bar{background:currentColor;border-radius:100px;min-width:5px;min-width:var(--plyr-range-track-height,5px);-moz-transition:width .2s ease;transition:width .2s ease}.plyr__progress__buffer::-ms-fill{border-radius:100px;-ms-transition:width .2s ease;transition:width .2s ease}.plyr--loading .plyr__progress__buffer{animation:plyr-progress 1s linear infinite;background-image:linear-gradient(-45deg,#23282f99 25%,#0000 0,#0000 50%,#23282f99 0,#23282f99 75%,#0000 0,#0000);background-image:linear-gradient(-45deg,var(--plyr-progress-loading-background,#23282f99) 25%,#0000 25%,#0000 50%,var(--plyr-progress-loading-background,#23282f99) 50%,var(--plyr-progress-loading-background,#23282f99) 75%,#0000 75%,#0000);background-repeat:repeat-x;background-size:25px 25px;background-size:var(--plyr-progress-loading-size,25px) var(--plyr-progress-loading-size,25px);color:#0000}.plyr--video.plyr--loading .plyr__progress__buffer{background-color:#ffffff40;background-color:var(--plyr-video-progress-buffered-background,#ffffff40)}.plyr--audio.plyr--loading .plyr__progress__buffer{background-color:#c1c8d199;background-color:var(--plyr-audio-progress-buffered-background,#c1c8d199)}.plyr__progress__marker{background-color:#fff;background-color:var(--plyr-progress-marker-background,#fff);border-radius:1px;height:5px;height:var(--plyr-range-track-height,5px);position:absolute;top:50%;transform:translate(-50%,-50%);width:3px;width:var(--plyr-progress-marker-width,3px);z-index:3}.plyr__volume{align-items:center;display:flex;position:relative}.plyr__volume input[type=range]{margin-left:5px;margin-left:calc(var(--plyr-control-spacing, 10px)/2);margin-right:5px;margin-right:calc(var(--plyr-control-spacing, 10px)/2);max-width:90px;min-width:60px;position:relative;z-index:2}.plyr--audio{display:block}.plyr--audio .plyr__controls{background:#fff;background:var(--plyr-audio-controls-background,#fff);border-radius:inherit;color:#4a5464;color:var(--plyr-audio-control-color,#4a5464);padding:10px;padding:var(--plyr-control-spacing,10px)}.plyr--audio .plyr__control:focus-visible,.plyr--audio .plyr__control:hover,.plyr--audio .plyr__control[aria-expanded=true]{background:#00b2ff;background:var(--plyr-audio-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));color:#fff;color:var(--plyr-audio-control-color-hover,#fff)}.plyr--full-ui.plyr--audio input[type=range]::-webkit-slider-runnable-track{background-color:#c1c8d199;background-color:var(--plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,#c1c8d199))}.plyr--full-ui.plyr--audio input[type=range]::-moz-range-track{background-color:#c1c8d199;background-color:var(--plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,#c1c8d199))}.plyr--full-ui.plyr--audio input[type=range]::-ms-track{background-color:#c1c8d199;background-color:var(--plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,#c1c8d199))}.plyr--full-ui.plyr--audio input[type=range]:active::-webkit-slider-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #23282f1a;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#23282f1a)}.plyr--full-ui.plyr--audio input[type=range]:active::-moz-range-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #23282f1a;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#23282f1a)}.plyr--full-ui.plyr--audio input[type=range]:active::-ms-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #23282f1a;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#23282f1a)}.plyr--audio .plyr__progress__buffer{color:#c1c8d199;color:var(--plyr-audio-progress-buffered-background,#c1c8d199)}.plyr--video{overflow:hidden}.plyr--video.plyr--menu-open{overflow:visible}.plyr__video-wrapper{background:#000;background:var(--plyr-video-background,var(--plyr-video-background,#000));border-radius:inherit;height:100%;margin:auto;overflow:hidden;position:relative;width:100%}.plyr__video-embed,.plyr__video-wrapper--fixed-ratio{aspect-ratio:16/9}@supports not (aspect-ratio:16/9){.plyr__video-embed,.plyr__video-wrapper--fixed-ratio{height:0;padding-bottom:56.25%;position:relative}}.plyr__video-embed iframe,.plyr__video-wrapper--fixed-ratio video{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.plyr--full-ui .plyr__video-embed>.plyr__video-embed__container{padding-bottom:240%;position:relative;transform:translateY(-38.28125%)}.plyr--video .plyr__controls{background:linear-gradient(#0000,#000000bf);background:var(--plyr-video-controls-background,linear-gradient(#0000,#000000bf));border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;bottom:0;color:#fff;color:var(--plyr-video-control-color,#fff);left:0;padding:5px;padding:calc(var(--plyr-control-spacing, 10px)/2);padding-top:20px;padding-top:calc(var(--plyr-control-spacing, 10px)*2);position:absolute;right:0;transition:opacity .4s ease-in-out,transform .4s ease-in-out;z-index:3}@media (min-width:480px){.plyr--video .plyr__controls{padding:10px;padding:var(--plyr-control-spacing,10px);padding-top:35px;padding-top:calc(var(--plyr-control-spacing, 10px)*3.5)}}.plyr--video.plyr--hide-controls .plyr__controls{opacity:0;pointer-events:none;transform:translateY(100%)}.plyr--video .plyr__control:focus-visible,.plyr--video .plyr__control:hover,.plyr--video .plyr__control[aria-expanded=true]{background:#00b2ff;background:var(--plyr-video-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));color:#fff;color:var(--plyr-video-control-color-hover,#fff)}.plyr__control--overlaid{background:#00b2ff;background:var(--plyr-video-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));border:0;border-radius:100%;color:#fff;color:var(--plyr-video-control-color,#fff);display:none;left:50%;opacity:.9;padding:15px;padding:calc(var(--plyr-control-spacing, 10px)*1.5);position:absolute;top:50%;transform:translate(-50%,-50%);transition:.3s;z-index:2}.plyr__control--overlaid svg{left:2px;position:relative}.plyr__control--overlaid:focus,.plyr__control--overlaid:hover{opacity:1}.plyr--playing .plyr__control--overlaid{opacity:0;visibility:hidden}.plyr--full-ui.plyr--video .plyr__control--overlaid{display:block}.plyr--full-ui.plyr--video input[type=range]::-webkit-slider-runnable-track{background-color:#ffffff40;background-color:var(--plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,#ffffff40))}.plyr--full-ui.plyr--video input[type=range]::-moz-range-track{background-color:#ffffff40;background-color:var(--plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,#ffffff40))}.plyr--full-ui.plyr--video input[type=range]::-ms-track{background-color:#ffffff40;background-color:var(--plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,#ffffff40))}.plyr--full-ui.plyr--video input[type=range]:active::-webkit-slider-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #ffffff80;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#ffffff80)}.plyr--full-ui.plyr--video input[type=range]:active::-moz-range-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #ffffff80;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#ffffff80)}.plyr--full-ui.plyr--video input[type=range]:active::-ms-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #ffffff80;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#ffffff80)}.plyr--video .plyr__progress__buffer{color:#ffffff40;color:var(--plyr-video-progress-buffered-background,#ffffff40)}.plyr:fullscreen{background:#000;border-radius:0!important;height:100%;margin:0;width:100%}.plyr:fullscreen video{height:100%}.plyr:fullscreen .plyr__control .icon--exit-fullscreen{display:block}.plyr:fullscreen .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr:fullscreen.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr:fullscreen .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr--fullscreen-fallback{background:#000;border-radius:0!important;bottom:0;height:100%;left:0;margin:0;position:fixed;right:0;top:0;width:100%;z-index:10000000}.plyr--fullscreen-fallback video{height:100%}.plyr--fullscreen-fallback .plyr__control .icon--exit-fullscreen{display:block}.plyr--fullscreen-fallback .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr--fullscreen-fallback.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr--fullscreen-fallback .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr__ads{border-radius:inherit;bottom:0;cursor:pointer;left:0;overflow:hidden;position:absolute;right:0;top:0;z-index:-1}.plyr__ads>div,.plyr__ads>div iframe{height:100%;position:absolute;width:100%}.plyr__ads:after{background:#23282f;border-radius:2px;bottom:10px;bottom:var(--plyr-control-spacing,10px);color:#fff;content:attr(data-badge-text);font-size:11px;padding:2px 6px;pointer-events:none;position:absolute;right:10px;right:var(--plyr-control-spacing,10px);z-index:3}.plyr__ads:empty:after{display:none}.plyr__cues{background:currentColor;display:block;height:5px;height:var(--plyr-range-track-height,5px);left:0;opacity:.8;position:absolute;top:50%;transform:translateY(-50%);width:3px;z-index:3}.plyr__preview-thumb{background-color:#fff;background-color:var(--plyr-tooltip-background,#fff);border-radius:8px;border-radius:var(--plyr-menu-radius,8px);bottom:100%;box-shadow:0 1px 2px #00000026;box-shadow:var(--plyr-tooltip-shadow,0 1px 2px #00000026);margin-bottom:10px;margin-bottom:calc(var(--plyr-control-spacing, 10px)/2*2);opacity:0;padding:3px;pointer-events:none;position:absolute;transform:translateY(10px) scale(.8);transform-origin:50% 100%;transition:transform .2s ease .1s,opacity .2s ease .1s;z-index:2}.plyr__preview-thumb--is-shown{opacity:1;transform:translate(0) scale(1)}.plyr__preview-thumb:before{border-left:4px solid #0000;border-left:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-right:4px solid #0000;border-right:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-top:4px solid #fff;border-top:var(--plyr-tooltip-arrow-size,4px) solid var(--plyr-tooltip-background,#fff);bottom:-4px;bottom:calc(var(--plyr-tooltip-arrow-size, 4px)*-1);content:"";height:0;left:calc(50% + var(--preview-arrow-offset));position:absolute;transform:translate(-50%);width:0;z-index:2}.plyr__preview-thumb__image-container{background:#c1c8d1;border-radius:7px;border-radius:calc(var(--plyr-menu-radius, 8px) - 1px);overflow:hidden;position:relative;z-index:0}.plyr__preview-thumb__image-container img,.plyr__preview-thumb__image-container:after{height:100%;left:0;position:absolute;top:0;width:100%}.plyr__preview-thumb__image-container:after{border-radius:inherit;box-shadow:inset 0 0 0 1px #00000026;content:"";pointer-events:none}.plyr__preview-thumb__image-container img{max-height:none;max-width:none}.plyr__preview-thumb__time-container{background:linear-gradient(#0000,#000000bf);background:var(--plyr-video-controls-background,linear-gradient(#0000,#000000bf));border-bottom-left-radius:7px;border-bottom-left-radius:calc(var(--plyr-menu-radius, 8px) - 1px);border-bottom-right-radius:7px;border-bottom-right-radius:calc(var(--plyr-menu-radius, 8px) - 1px);bottom:0;left:0;line-height:1.1;padding:20px 6px 6px;position:absolute;right:0;z-index:3}.plyr__preview-thumb__time-container span{color:#fff;font-size:13px;font-size:var(--plyr-font-size-time,var(--plyr-font-size-small,13px))}.plyr__preview-scrubbing{bottom:0;filter:blur(1px);height:100%;left:0;margin:auto;opacity:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .3s ease;width:100%;z-index:1}.plyr__preview-scrubbing--is-shown{opacity:1}.plyr__preview-scrubbing img{height:100%;left:0;max-height:none;max-width:none;object-fit:contain;position:absolute;top:0;width:100%}.plyr--no-transition{transition:none!important}.plyr__sr-only{clip:rect(1px,1px,1px,1px);border:0!important;height:1px!important;overflow:hidden;padding:0!important;position:absolute!important;width:1px!important}.plyr [hidden]{display:none!important}
`,document.head.appendChild(li);function Ie(){if(!(this instanceof Ie))return new Ie;this.size=0,this.uid=0,this.selectors=[],this.selectorObjects={},this.indexes=Object.create(this.indexes),this.activeIndexes=[]}var hi=window.document.documentElement,np=hi.matches||hi.webkitMatchesSelector||hi.mozMatchesSelector||hi.oMatchesSelector||hi.msMatchesSelector;Ie.prototype.matchesSelector=function(s,e){return np.call(s,e)},Ie.prototype.querySelectorAll=function(s,e){return e.querySelectorAll(s)},Ie.prototype.indexes=[];var ap=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;Ie.prototype.indexes.push({name:"ID",selector:function(e){var t;if(t=e.match(ap))return t[0].slice(1)},element:function(e){if(e.id)return[e.id]}});var op=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;Ie.prototype.indexes.push({name:"CLASS",selector:function(e){var t;if(t=e.match(op))return t[0].slice(1)},element:function(e){var t=e.className;if(t){if(typeof t=="string")return t.split(/\s/);if(typeof t=="object"&&"baseVal"in t)return t.baseVal.split(/\s/)}}});var lp=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;Ie.prototype.indexes.push({name:"TAG",selector:function(e){var t;if(t=e.match(lp))return t[0].toUpperCase()},element:function(e){return[e.nodeName.toUpperCase()]}}),Ie.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}};var no;typeof window.Map=="function"?no=window.Map:no=function(){function s(){this.map={}}return s.prototype.get=function(e){return this.map[e+" "]},s.prototype.set=function(e,t){this.map[e+" "]=t},s}();var ph=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function fh(s,e){s=s.slice(0).concat(s.default);var t=s.length,i,r,n,a,o=e,l,h,c=[];do if(ph.exec(""),(n=ph.exec(o))&&(o=n[3],n[2]||!o)){for(i=0;i<t;i++)if(h=s[i],l=h.selector(n[1])){for(r=c.length,a=!1;r--;)if(c[r].index===h&&c[r].key===l){a=!0;break}a||c.push({index:h,key:l});break}}while(n);return c}function hp(s,e){var t,i,r;for(t=0,i=s.length;t<i;t++)if(r=s[t],e.isPrototypeOf(r))return r}Ie.prototype.logDefaultIndexUsed=function(){},Ie.prototype.add=function(s,e){var t,i,r,n,a,o,l,h,c=this.activeIndexes,u=this.selectors,d=this.selectorObjects;if(typeof s=="string"){for(t={id:this.uid++,selector:s,data:e},d[t.id]=t,l=fh(this.indexes,s),i=0;i<l.length;i++)h=l[i],n=h.key,r=h.index,a=hp(c,r),a||(a=Object.create(r),a.map=new no,c.push(a)),r===this.indexes.default&&this.logDefaultIndexUsed(t),o=a.map.get(n),o||(o=[],a.map.set(n,o)),o.push(t);this.size++,u.push(s)}},Ie.prototype.remove=function(s,e){if(typeof s=="string"){var t,i,r,n,a,o,l,h,c=this.activeIndexes,u=this.selectors=[],d=this.selectorObjects,p={},g=arguments.length===1;for(t=fh(this.indexes,s),r=0;r<t.length;r++)for(i=t[r],n=c.length;n--;)if(o=c[n],i.index.isPrototypeOf(o)){if(l=o.map.get(i.key),l)for(a=l.length;a--;)h=l[a],h.selector===s&&(g||h.data===e)&&(l.splice(a,1),p[h.id]=!0);break}for(r in p)delete d[r],this.size--;for(r in d)u.push(d[r].selector)}};function gh(s,e){return s.id-e.id}Ie.prototype.queryAll=function(s){if(!this.selectors.length)return[];var e={},t=[],i=this.querySelectorAll(this.selectors.join(", "),s),r,n,a,o,l,h,c,u;for(r=0,a=i.length;r<a;r++)for(l=i[r],h=this.matches(l),n=0,o=h.length;n<o;n++)u=h[n],e[u.id]?c=e[u.id]:(c={id:u.id,selector:u.selector,data:u.data,elements:[]},e[u.id]=c,t.push(c)),c.elements.push(l);return t.sort(gh)},Ie.prototype.matches=function(s){if(!s)return[];var e,t,i,r,n,a,o,l,h,c,u,d=this.activeIndexes,p={},g=[];for(e=0,r=d.length;e<r;e++)if(o=d[e],l=o.element(s),l){for(t=0,n=l.length;t<n;t++)if(h=o.map.get(l[t]))for(i=0,a=h.length;i<a;i++)c=h[i],u=c.id,!p[u]&&this.matchesSelector(s,c.selector)&&(p[u]=!0,g.push(c))}return g.sort(gh)},new DOMParser;function Ui(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function mh(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s,s.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Bt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},is={duration:.5,overwrite:!1,delay:0},ao,pt,Ce,Kt=1e8,ke=1/Kt,oo=Math.PI*2,cp=oo/4,up=0,_h=Math.sqrt,dp=Math.cos,pp=Math.sin,et=function(e){return typeof e=="string"},Fe=function(e){return typeof e=="function"},Bi=function(e){return typeof e=="number"},lo=function(e){return typeof e>"u"},Ti=function(e){return typeof e=="object"},Dt=function(e){return e!==!1},ho=function(){return typeof window<"u"},Bn=function(e){return Fe(e)||et(e)},yh=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ft=Array.isArray,co=/(?:-?\.?\d|\.)+/gi,bh=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,rs=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,uo=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,vh=/[+-]=-?[.\d]+/,xh=/[^,'"\[\]\s]+/gi,fp=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Re,ki,po,fo,$t={},$n={},wh,Th=function(e){return($n=kr(e,$t))&&Ft},go=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Os=function(e,t){return!t&&console.warn(e)},kh=function(e,t){return e&&($t[e]=t)&&$n&&($n[e]=t)||$t},Ls=function(){return 0},gp={suppressEvents:!0,isStart:!0,kill:!1},Wn={suppressEvents:!0,kill:!1},mp={suppressEvents:!0},mo={},tr=[],_o={},Sh,Wt={},yo={},Ph=30,qn=[],bo="",vo=function(e){var t=e[0],i,r;if(Ti(t)||Fe(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(r=qn.length;r--&&!qn[r].targetTest(t););i=qn[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new tc(e[r],i)))||e.splice(r,1);return e},Tr=function(e){return e._gsap||vo(Jt(e))[0]._gsap},Eh=function(e,t,i){return(i=e[t])&&Fe(i)?e[t]():lo(i)&&e.getAttribute&&e.getAttribute(t)||i},zt=function(e,t){return(e=e.split(",")).forEach(t)||e},Ue=function(e){return Math.round(e*1e5)/1e5||0},tt=function(e){return Math.round(e*1e7)/1e7||0},ss=function(e,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+r:i==="-"?e-r:i==="*"?e*r:e/r},_p=function(e,t){for(var i=t.length,r=0;e.indexOf(t[r])<0&&++r<i;);return r<i},jn=function(){var e=tr.length,t=tr.slice(0),i,r;for(_o={},tr.length=0,i=0;i<e;i++)r=t[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},Ch=function(e,t,i,r){tr.length&&!pt&&jn(),e.render(t,i,r||pt&&t<0&&(e._initted||e._startAt)),tr.length&&!pt&&jn()},Ah=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(xh).length<2?t:et(e)?e.trim():e},Mh=function(e){return e},Qt=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},yp=function(e){return function(t,i){for(var r in i)r in t||r==="duration"&&e||r==="ease"||(t[r]=i[r])}},kr=function(e,t){for(var i in t)e[i]=t[i];return e},Rh=function s(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=Ti(t[i])?s(e[i]||(e[i]={}),t[i]):t[i]);return e},Hn=function(e,t){var i={},r;for(r in e)r in t||(i[r]=e[r]);return i},Ds=function(e){var t=e.parent||Re,i=e.keyframes?yp(ft(e.keyframes)):Qt;if(Dt(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},bp=function(e,t){for(var i=e.length,r=i===t.length;r&&i--&&e[i]===t[i];);return i<0},Oh=function(e,t,i,r,n){i===void 0&&(i="_first"),r===void 0&&(r="_last");var a=e[r],o;if(n)for(o=t[n];a&&a[n]>o;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[r]=t,t._prev=a,t.parent=t._dp=e,t},Yn=function(e,t,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var n=t._prev,a=t._next;n?n._next=a:e[i]===t&&(e[i]=a),a?a._prev=n:e[r]===t&&(e[r]=n),t._next=t._prev=t.parent=null},ir=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Sr=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},vp=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},xo=function(e,t,i,r){return e._startAt&&(pt?e._startAt.revert(Wn):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},xp=function s(e){return!e||e._ts&&s(e.parent)},Lh=function(e){return e._repeat?ns(e._tTime,e=e.duration()+e._rDelay)*e:0},ns=function(e,t){var i=Math.floor(e/=t);return e&&i===e?i-1:i},Xn=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Gn=function(e){return e._end=tt(e._start+(e._tDur/Math.abs(e._ts||e._rts||ke)||0))},Kn=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=tt(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Gn(e),i._dirty||Sr(i,e)),e},Dh=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=Xn(e.rawTime(),t),(!t._dur||Is(0,t.totalDuration(),i)-t._tTime>ke)&&t.render(i,!0)),Sr(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-ke}},Si=function(e,t,i,r){return t.parent&&ir(t),t._start=tt((Bi(i)?i:i||e!==Re?Zt(e,i,t):e._time)+t._delay),t._end=tt(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Oh(e,t,"_first","_last",e._sort?"_start":0),wo(t)||(e._recent=t),r||Dh(e,t),e._ts<0&&Kn(e,e._tTime),e},zh=function(e,t){return($t.ScrollTrigger||go("scrollTrigger",t))&&$t.ScrollTrigger.create(t,e)},Ih=function(e,t,i,r,n){if(Ro(e,t,n),!e._initted)return 1;if(!i&&e._pt&&!pt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Sh!==jt.frame)return tr.push(e),e._lazy=[n,r],1},wp=function s(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||s(t))},wo=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},Tp=function(e,t,i,r){var n=e.ratio,a=t<0||!t&&(!e._start&&wp(e)&&!(!e._initted&&wo(e))||(e._ts<0||e._dp._ts<0)&&!wo(e))?0:1,o=e._rDelay,l=0,h,c,u;if(o&&e._repeat&&(l=Is(0,e._tDur,t),c=ns(l,o),e._yoyo&&c&1&&(a=1-a),c!==ns(e._tTime,o)&&(n=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==n||pt||r||e._zTime===ke||!t&&e._zTime){if(!e._initted&&Ih(e,t,r,i,l))return;for(u=e._zTime,e._zTime=t||(i?ke:0),i||(i=t&&!u),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=l,h=e._pt;h;)h.r(a,h.d),h=h._next;t<0&&xo(e,t,i,!0),e._onUpdate&&!i&&qt(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&qt(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&ir(e,1),!i&&!pt&&(qt(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},kp=function(e,t,i){var r;if(i>t)for(r=e._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},as=function(e,t,i,r){var n=e._repeat,a=tt(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=n?n<0?1e10:tt(a*(n+1)+e._rDelay*n):a,o>0&&!r&&Kn(e,e._tTime=e._tDur*o),e.parent&&Gn(e),i||Sr(e.parent,e),e},Fh=function(e){return e instanceof Tt?Sr(e):as(e,e._dur)},Sp={_start:0,endTime:Ls,totalDuration:Ls},Zt=function s(e,t,i){var r=e.labels,n=e._recent||Sp,a=e.duration()>=Kt?n.endTime(!1):e._dur,o,l,h;return et(t)&&(isNaN(t)||t in r)?(l=t.charAt(0),h=t.substr(-1)==="%",o=t.indexOf("="),l==="<"||l===">"?(o>=0&&(t=t.replace(/=/,"")),(l==="<"?n._start:n.endTime(n._repeat>=0))+(parseFloat(t.substr(1))||0)*(h?(o<0?n:i).totalDuration()/100:1)):o<0?(t in r||(r[t]=a),r[t]):(l=parseFloat(t.charAt(o-1)+t.substr(o+1)),h&&i&&(l=l/100*(ft(i)?i[0]:i).totalDuration()),o>1?s(e,t.substr(0,o-1),i)+l:a+l)):t==null?a:+t},zs=function(e,t,i){var r=Bi(t[1]),n=(r?2:1)+(e<2?0:1),a=t[n],o,l;if(r&&(a.duration=t[1]),a.parent=i,e){for(o=a,l=i;l&&!("immediateRender"in o);)o=l.vars.defaults||{},l=Dt(l.vars.inherit)&&l.parent;a.immediateRender=Dt(o.immediateRender),e<2?a.runBackwards=1:a.startAt=t[n-1]}return new Ye(t[0],a,t[n+1])},rr=function(e,t){return e||e===0?t(e):t},Is=function(e,t,i){return i<e?e:i>t?t:i},gt=function(e,t){return!et(e)||!(t=fp.exec(e))?"":t[1]},Pp=function(e,t,i){return rr(i,function(r){return Is(e,t,r)})},To=[].slice,Nh=function(e,t){return e&&Ti(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Ti(e[0]))&&!e.nodeType&&e!==ki},Ep=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(r){var n;return et(r)&&!t||Nh(r,1)?(n=i).push.apply(n,Jt(r)):i.push(r)})||i},Jt=function(e,t,i){return Ce&&!t&&Ce.selector?Ce.selector(e):et(e)&&!i&&(po||!ls())?To.call((t||fo).querySelectorAll(e),0):ft(e)?Ep(e,i):Nh(e)?To.call(e,0):e?[e]:[]},ko=function(e){return e=Jt(e)[0]||Os("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return Jt(t,i.querySelectorAll?i:i===e?Os("Invalid scope")||fo.createElement("div"):e)}},Vh=function(e){return e.sort(function(){return .5-Math.random()})},Uh=function(e){if(Fe(e))return e;var t=Ti(e)?e:{each:e},i=Pr(t.ease),r=t.from||0,n=parseFloat(t.base)||0,a={},o=r>0&&r<1,l=isNaN(r)||o,h=t.axis,c=r,u=r;return et(r)?c=u={center:.5,edges:.5,end:1}[r]||0:!o&&l&&(c=r[0],u=r[1]),function(d,p,g){var f=(g||t).length,y=a[f],b,m,v,x,w,T,k,A,E;if(!y){if(E=t.grid==="auto"?0:(t.grid||[1,Kt])[1],!E){for(k=-Kt;k<(k=g[E++].getBoundingClientRect().left)&&E<f;);E<f&&E--}for(y=a[f]=[],b=l?Math.min(E,f)*c-.5:r%E,m=E===Kt?0:l?f*u/E-.5:r/E|0,k=0,A=Kt,T=0;T<f;T++)v=T%E-b,x=m-(T/E|0),y[T]=w=h?Math.abs(h==="y"?x:v):_h(v*v+x*x),w>k&&(k=w),w<A&&(A=w);r==="random"&&Vh(y),y.max=k-A,y.min=A,y.v=f=(parseFloat(t.amount)||parseFloat(t.each)*(E>f?f-1:h?h==="y"?f/E:E:Math.max(E,f/E))||0)*(r==="edges"?-1:1),y.b=f<0?n-f:n,y.u=gt(t.amount||t.each)||0,i=i&&f<0?Zh(i):i}return f=(y[d]-y.min)/y.max||0,tt(y.b+(i?i(f):f)*y.v)+y.u}},So=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=tt(Math.round(parseFloat(i)/e)*e*t);return(r-r%1)/t+(Bi(i)?0:gt(i))}},Bh=function(e,t){var i=ft(e),r,n;return!i&&Ti(e)&&(r=i=e.radius||Kt,e.values?(e=Jt(e.values),(n=!Bi(e[0]))&&(r*=r)):e=So(e.increment)),rr(t,i?Fe(e)?function(a){return n=e(a),Math.abs(n-a)<=r?n:a}:function(a){for(var o=parseFloat(n?a.x:a),l=parseFloat(n?a.y:0),h=Kt,c=0,u=e.length,d,p;u--;)n?(d=e[u].x-o,p=e[u].y-l,d=d*d+p*p):d=Math.abs(e[u]-o),d<h&&(h=d,c=u);return c=!r||h<=r?e[c]:a,n||c===a||Bi(a)?c:c+gt(a)}:So(e))},$h=function(e,t,i,r){return rr(ft(e)?!t:i===!0?!!(i=0):!r,function(){return ft(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*r)/r})},Cp=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduce(function(n,a){return a(n)},r)}},Ap=function(e,t){return function(i){return e(parseFloat(i))+(t||gt(i))}},Mp=function(e,t,i){return qh(e,t,0,1,i)},Wh=function(e,t,i){return rr(i,function(r){return e[~~t(r)]})},Rp=function s(e,t,i){var r=t-e;return ft(e)?Wh(e,s(0,e.length),t):rr(i,function(n){return(r+(n-e)%r)%r+e})},Op=function s(e,t,i){var r=t-e,n=r*2;return ft(e)?Wh(e,s(0,e.length-1),t):rr(i,function(a){return a=(n+(a-e)%n)%n||0,e+(a>r?n-a:a)})},Fs=function(e){for(var t=0,i="",r,n,a,o;~(r=e.indexOf("random(",t));)a=e.indexOf(")",r),o=e.charAt(r+7)==="[",n=e.substr(r+7,a-r-7).match(o?xh:co),i+=e.substr(t,r-t)+$h(o?n:+n[0],o?0:+n[1],+n[2]||1e-5),t=a+1;return i+e.substr(t,e.length-t)},qh=function(e,t,i,r,n){var a=t-e,o=r-i;return rr(n,function(l){return i+((l-e)/a*o||0)})},Lp=function s(e,t,i,r){var n=isNaN(e+t)?0:function(p){return(1-p)*e+p*t};if(!n){var a=et(e),o={},l,h,c,u,d;if(i===!0&&(r=1)&&(i=null),a)e={p:e},t={p:t};else if(ft(e)&&!ft(t)){for(c=[],u=e.length,d=u-2,h=1;h<u;h++)c.push(s(e[h-1],e[h]));u--,n=function(g){g*=u;var f=Math.min(d,~~g);return c[f](g-f)},i=t}else r||(e=kr(ft(e)?[]:{},e));if(!c){for(l in t)Ao.call(o,e,l,"get",t[l]);n=function(g){return Do(g,o)||(a?e.p:e)}}}return rr(i,n)},jh=function(e,t,i){var r=e.labels,n=Kt,a,o,l;for(a in r)o=r[a]-t,o<0==!!i&&o&&n>(o=Math.abs(o))&&(l=a,n=o);return l},qt=function(e,t,i){var r=e.vars,n=r[t],a=Ce,o=e._ctx,l,h,c;if(n)return l=r[t+"Params"],h=r.callbackScope||e,i&&tr.length&&jn(),o&&(Ce=o),c=l?n.apply(h,l):n.call(h),Ce=a,c},Ns=function(e){return ir(e),e.scrollTrigger&&e.scrollTrigger.kill(!!pt),e.progress()<1&&qt(e,"onInterrupt"),e},os,Hh=[],Yh=function(e){if(e)if(e=!e.name&&e.default||e,ho()||e.headless){var t=e.name,i=Fe(e),r=t&&!i&&e.init?function(){this._props=[]}:e,n={init:Ls,render:Do,add:Ao,kill:Gp,modifier:Xp,rawVars:0},a={targetTest:0,get:0,getSetter:Lo,aliases:{},register:0};if(ls(),e!==r){if(Wt[t])return;Qt(r,Qt(Hn(e,n),a)),kr(r.prototype,kr(n,Hn(e,a))),Wt[r.prop=t]=r,e.targetTest&&(qn.push(r),mo[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}kh(t,r),e.register&&e.register(Ft,r,It)}else Hh.push(e)},we=255,Vs={aqua:[0,we,we],lime:[0,we,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,we],navy:[0,0,128],white:[we,we,we],olive:[128,128,0],yellow:[we,we,0],orange:[we,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[we,0,0],pink:[we,192,203],cyan:[0,we,we],transparent:[we,we,we,0]},Po=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*we+.5|0},Xh=function(e,t,i){var r=e?Bi(e)?[e>>16,e>>8&we,e&we]:0:Vs.black,n,a,o,l,h,c,u,d,p,g;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Vs[e])r=Vs[e];else if(e.charAt(0)==="#"){if(e.length<6&&(n=e.charAt(1),a=e.charAt(2),o=e.charAt(3),e="#"+n+n+a+a+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&we,r&we,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&we,e&we]}else if(e.substr(0,3)==="hsl"){if(r=g=e.match(co),!t)l=+r[0]%360/360,h=+r[1]/100,c=+r[2]/100,a=c<=.5?c*(h+1):c+h-c*h,n=c*2-a,r.length>3&&(r[3]*=1),r[0]=Po(l+1/3,n,a),r[1]=Po(l,n,a),r[2]=Po(l-1/3,n,a);else if(~e.indexOf("="))return r=e.match(bh),i&&r.length<4&&(r[3]=1),r}else r=e.match(co)||Vs.transparent;r=r.map(Number)}return t&&!g&&(n=r[0]/we,a=r[1]/we,o=r[2]/we,u=Math.max(n,a,o),d=Math.min(n,a,o),c=(u+d)/2,u===d?l=h=0:(p=u-d,h=c>.5?p/(2-u-d):p/(u+d),l=u===n?(a-o)/p+(a<o?6:0):u===a?(o-n)/p+2:(n-a)/p+4,l*=60),r[0]=~~(l+.5),r[1]=~~(h*100+.5),r[2]=~~(c*100+.5)),i&&r.length<4&&(r[3]=1),r},Gh=function(e){var t=[],i=[],r=-1;return e.split(sr).forEach(function(n){var a=n.match(rs)||[];t.push.apply(t,a),i.push(r+=a.length+1)}),t.c=i,t},Kh=function(e,t,i){var r="",n=(e+r).match(sr),a=t?"hsla(":"rgba(",o=0,l,h,c,u;if(!n)return e;if(n=n.map(function(d){return(d=Xh(d,t,1))&&a+(t?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),i&&(c=Gh(e),l=i.c,l.join(r)!==c.c.join(r)))for(h=e.replace(sr,"1").split(rs),u=h.length-1;o<u;o++)r+=h[o]+(~l.indexOf(o)?n.shift()||a+"0,0,0,0)":(c.length?c:n.length?n:i).shift());if(!h)for(h=e.split(sr),u=h.length-1;o<u;o++)r+=h[o]+n[o];return r+h[u]},sr=function(){var s="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Vs)s+="|"+e+"\\b";return new RegExp(s+")","gi")}(),Dp=/hsl[a]?\(/,Qh=function(e){var t=e.join(" "),i;if(sr.lastIndex=0,sr.test(t))return i=Dp.test(t),e[1]=Kh(e[1],i),e[0]=Kh(e[0],i,Gh(e[1])),!0},Us,jt=function(){var s=Date.now,e=500,t=33,i=s(),r=i,n=1e3/240,a=n,o=[],l,h,c,u,d,p,g=function f(y){var b=s()-r,m=y===!0,v,x,w,T;if((b>e||b<0)&&(i+=b-t),r+=b,w=r-i,v=w-a,(v>0||m)&&(T=++u.frame,d=w-u.time*1e3,u.time=w=w/1e3,a+=v+(v>=n?4:n-v),x=1),m||(l=h(f)),x)for(p=0;p<o.length;p++)o[p](w,d,T,y)};return u={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(y){return d/(1e3/(y||60))},wake:function(){wh&&(!po&&ho()&&(ki=po=window,fo=ki.document||{},$t.gsap=Ft,(ki.gsapVersions||(ki.gsapVersions=[])).push(Ft.version),Th($n||ki.GreenSockGlobals||!ki.gsap&&ki||{}),Hh.forEach(Yh)),c=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&u.sleep(),h=c||function(y){return setTimeout(y,a-u.time*1e3+1|0)},Us=1,g(2))},sleep:function(){(c?cancelAnimationFrame:clearTimeout)(l),Us=0,h=Ls},lagSmoothing:function(y,b){e=y||1/0,t=Math.min(b||33,e)},fps:function(y){n=1e3/(y||240),a=u.time*1e3+n},add:function(y,b,m){var v=b?function(x,w,T,k){y(x,w,T,k),u.remove(v)}:y;return u.remove(y),o[m?"unshift":"push"](v),ls(),v},remove:function(y,b){~(b=o.indexOf(y))&&o.splice(b,1)&&p>=b&&p--},_listeners:o},u}(),ls=function(){return!Us&&jt.wake()},he={},zp=/^[\d.\-M][\d.\-,\s]/,Ip=/["']/g,Fp=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),r=i[0],n=1,a=i.length,o,l,h;n<a;n++)l=i[n],o=n!==a-1?l.lastIndexOf(","):l.length,h=l.substr(0,o),t[r]=isNaN(h)?h.replace(Ip,"").trim():+h,r=l.substr(o+1).trim();return t},Np=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<i?e.indexOf(")",i+1):i)},Vp=function(e){var t=(e+"").split("("),i=he[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[Fp(t[1])]:Np(e).split(",").map(Ah)):he._CE&&zp.test(e)?he._CE("",e):i},Zh=function(e){return function(t){return 1-e(1-t)}},Jh=function s(e,t){for(var i=e._first,r;i;)i instanceof Tt?s(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?s(i.timeline,t):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=t)),i=i._next},Pr=function(e,t){return e&&(Fe(e)?e:he[e]||Vp(e))||t},Er=function(e,t,i,r){i===void 0&&(i=function(l){return 1-t(1-l)}),r===void 0&&(r=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var n={easeIn:t,easeOut:i,easeInOut:r},a;return zt(e,function(o){he[o]=$t[o]=n,he[a=o.toLowerCase()]=i;for(var l in n)he[a+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=he[o+"."+l]=n[l]}),n},ec=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},Eo=function s(e,t,i){var r=t>=1?t:1,n=(i||(e?.3:.45))/(t<1?t:1),a=n/oo*(Math.asin(1/r)||0),o=function(c){return c===1?1:r*Math.pow(2,-10*c)*pp((c-a)*n)+1},l=e==="out"?o:e==="in"?function(h){return 1-o(1-h)}:ec(o);return n=oo/n,l.config=function(h,c){return s(e,h,c)},l},Co=function s(e,t){t===void 0&&(t=1.70158);var i=function(a){return a?--a*a*((t+1)*a+t)+1:0},r=e==="out"?i:e==="in"?function(n){return 1-i(1-n)}:ec(i);return r.config=function(n){return s(e,n)},r};zt("Linear,Quad,Cubic,Quart,Quint,Strong",function(s,e){var t=e<5?e+1:e;Er(s+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})}),he.Linear.easeNone=he.none=he.Linear.easeIn,Er("Elastic",Eo("in"),Eo("out"),Eo()),function(s,e){var t=1/e,i=2*t,r=2.5*t,n=function(o){return o<t?s*o*o:o<i?s*Math.pow(o-1.5/e,2)+.75:o<r?s*(o-=2.25/e)*o+.9375:s*Math.pow(o-2.625/e,2)+.984375};Er("Bounce",function(a){return 1-n(1-a)},n)}(7.5625,2.75),Er("Expo",function(s){return s?Math.pow(2,10*(s-1)):0}),Er("Circ",function(s){return-(_h(1-s*s)-1)}),Er("Sine",function(s){return s===1?1:-dp(s*cp)+1}),Er("Back",Co("in"),Co("out"),Co()),he.SteppedEase=he.steps=$t.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,r=e+(t?0:1),n=t?1:0,a=1-ke;return function(o){return((r*Is(0,a,o)|0)+n)*i}}},is.ease=he["quad.out"],zt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(s){return bo+=s+","+s+"Params,"});var tc=function(e,t){this.id=up++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Eh,this.set=t?t.getSetter:Lo},Bs=function(){function s(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,as(this,+t.duration,1,1),this.data=t.data,Ce&&(this._ctx=Ce,Ce.data.push(this)),Us||jt.wake()}var e=s.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,as(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(ls(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Kn(this,i),!n._dp||n.parent||Dh(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&Si(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===ke||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),Ch(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+Lh(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+Lh(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,r){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*n,r):this._repeat?ns(this._tTime,n)+1:1},e.timeScale=function(i,r){if(!arguments.length)return this._rts===-ke?0:this._rts;if(this._rts===i)return this;var n=this.parent&&this._ts?Xn(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-ke?0:this._rts,this.totalTime(Is(-Math.abs(this._delay),this._tDur,n),r!==!1),Gn(this),vp(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ls(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ke&&(this._tTime-=ke)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&Si(r,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(Dt(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Xn(r.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=mp);var r=pt;return pt=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),pt=r,this},e.globalTime=function(i){for(var r=this,n=arguments.length?i:r.rawTime();r;)n=r._start+n/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(i):n},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,Fh(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,Fh(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(Zt(this,i),Dt(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,Dt(r))},e.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-ke:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-ke,this},e.isActive=function(){var i=this.parent||this._dp,r=this._start,n;return!!(!i||this._ts&&this._initted&&i.isActive()&&(n=i.rawTime(!0))>=r&&n<this.endTime(!0)-ke)},e.eventCallback=function(i,r,n){var a=this.vars;return arguments.length>1?(r?(a[i]=r,n&&(a[i+"Params"]=n),i==="onUpdate"&&(this._onUpdate=r)):delete a[i],this):a[i]},e.then=function(i){var r=this;return new Promise(function(n){var a=Fe(i)?i:Mh,o=function(){var h=r.then;r.then=null,Fe(a)&&(a=a(r))&&(a.then||a===r)&&(r.then=h),n(a),r.then=h};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?o():r._prom=o})},e.kill=function(){Ns(this)},s}();Qt(Bs.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ke,_prom:0,_ps:!1,_rts:1});var Tt=function(s){mh(e,s);function e(i,r){var n;return i===void 0&&(i={}),n=s.call(this,i)||this,n.labels={},n.smoothChildTiming=!!i.smoothChildTiming,n.autoRemoveChildren=!!i.autoRemoveChildren,n._sort=Dt(i.sortChildren),Re&&Si(i.parent||Re,Ui(n),r),i.reversed&&n.reverse(),i.paused&&n.paused(!0),i.scrollTrigger&&zh(Ui(n),i.scrollTrigger),n}var t=e.prototype;return t.to=function(r,n,a){return zs(0,arguments,this),this},t.from=function(r,n,a){return zs(1,arguments,this),this},t.fromTo=function(r,n,a,o){return zs(2,arguments,this),this},t.set=function(r,n,a){return n.duration=0,n.parent=this,Ds(n).repeatDelay||(n.repeat=0),n.immediateRender=!!n.immediateRender,new Ye(r,n,Zt(this,a),1),this},t.call=function(r,n,a){return Si(this,Ye.delayedCall(0,r,n),a)},t.staggerTo=function(r,n,a,o,l,h,c){return a.duration=n,a.stagger=a.stagger||o,a.onComplete=h,a.onCompleteParams=c,a.parent=this,new Ye(r,a,Zt(this,l)),this},t.staggerFrom=function(r,n,a,o,l,h,c){return a.runBackwards=1,Ds(a).immediateRender=Dt(a.immediateRender),this.staggerTo(r,n,a,o,l,h,c)},t.staggerFromTo=function(r,n,a,o,l,h,c,u){return o.startAt=a,Ds(o).immediateRender=Dt(o.immediateRender),this.staggerTo(r,n,o,l,h,c,u)},t.render=function(r,n,a){var o=this._time,l=this._dirty?this.totalDuration():this._tDur,h=this._dur,c=r<=0?0:tt(r),u=this._zTime<0!=r<0&&(this._initted||!h),d,p,g,f,y,b,m,v,x,w,T,k;if(this!==Re&&c>l&&r>=0&&(c=l),c!==this._tTime||a||u){if(o!==this._time&&h&&(c+=this._time-o,r+=this._time-o),d=c,x=this._start,v=this._ts,b=!v,u&&(h||(o=this._zTime),(r||!n)&&(this._zTime=r)),this._repeat){if(T=this._yoyo,y=h+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(y*100+r,n,a);if(d=tt(c%y),c===l?(f=this._repeat,d=h):(f=~~(c/y),f&&f===c/y&&(d=h,f--),d>h&&(d=h)),w=ns(this._tTime,y),!o&&this._tTime&&w!==f&&this._tTime-w*y-this._dur<=0&&(w=f),T&&f&1&&(d=h-d,k=1),f!==w&&!this._lock){var A=T&&w&1,E=A===(T&&f&1);if(f<w&&(A=!A),o=A?0:c%h?h:c,this._lock=1,this.render(o||(k?0:tt(f*y)),n,!h)._lock=0,this._tTime=c,!n&&this.parent&&qt(this,"onRepeat"),this.vars.repeatRefresh&&!k&&(this.invalidate()._lock=1),o&&o!==this._time||b!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,l=this._tDur,E&&(this._lock=2,o=A?h:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!k&&this.invalidate()),this._lock=0,!this._ts&&!b)return this;Jh(this,k)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(m=kp(this,tt(o),tt(d)),m&&(c-=d-(d=m._start))),this._tTime=c,this._time=d,this._act=!v,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,o=0),!o&&d&&!n&&!f&&(qt(this,"onStart"),this._tTime!==c))return this;if(d>=o&&r>=0)for(p=this._first;p;){if(g=p._next,(p._act||d>=p._start)&&p._ts&&m!==p){if(p.parent!==this)return this.render(r,n,a);if(p.render(p._ts>0?(d-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(d-p._start)*p._ts,n,a),d!==this._time||!this._ts&&!b){m=0,g&&(c+=this._zTime=-ke);break}}p=g}else{p=this._last;for(var P=r<0?r:d;p;){if(g=p._prev,(p._act||P<=p._end)&&p._ts&&m!==p){if(p.parent!==this)return this.render(r,n,a);if(p.render(p._ts>0?(P-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(P-p._start)*p._ts,n,a||pt&&(p._initted||p._startAt)),d!==this._time||!this._ts&&!b){m=0,g&&(c+=this._zTime=P?-ke:ke);break}}p=g}}if(m&&!n&&(this.pause(),m.render(d>=o?0:-ke)._zTime=d>=o?1:-1,this._ts))return this._start=x,Gn(this),this.render(r,n,a);this._onUpdate&&!n&&qt(this,"onUpdate",!0),(c===l&&this._tTime>=this.totalDuration()||!c&&o)&&(x===this._start||Math.abs(v)!==Math.abs(this._ts))&&(this._lock||((r||!h)&&(c===l&&this._ts>0||!c&&this._ts<0)&&ir(this,1),!n&&!(r<0&&!o)&&(c||o||!l)&&(qt(this,c===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,n){var a=this;if(Bi(n)||(n=Zt(this,n,r)),!(r instanceof Bs)){if(ft(r))return r.forEach(function(o){return a.add(o,n)}),this;if(et(r))return this.addLabel(r,n);if(Fe(r))r=Ye.delayedCall(0,r);else return this}return this!==r?Si(this,r,n):this},t.getChildren=function(r,n,a,o){r===void 0&&(r=!0),n===void 0&&(n=!0),a===void 0&&(a=!0),o===void 0&&(o=-Kt);for(var l=[],h=this._first;h;)h._start>=o&&(h instanceof Ye?n&&l.push(h):(a&&l.push(h),r&&l.push.apply(l,h.getChildren(!0,n,a)))),h=h._next;return l},t.getById=function(r){for(var n=this.getChildren(1,1,1),a=n.length;a--;)if(n[a].vars.id===r)return n[a]},t.remove=function(r){return et(r)?this.removeLabel(r):Fe(r)?this.killTweensOf(r):(Yn(this,r),r===this._recent&&(this._recent=this._last),Sr(this))},t.totalTime=function(r,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=tt(jt.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),s.prototype.totalTime.call(this,r,n),this._forcing=0,this):this._tTime},t.addLabel=function(r,n){return this.labels[r]=Zt(this,n),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,n,a){var o=Ye.delayedCall(0,n||Ls,a);return o.data="isPause",this._hasPause=1,Si(this,o,Zt(this,r))},t.removePause=function(r){var n=this._first;for(r=Zt(this,r);n;)n._start===r&&n.data==="isPause"&&ir(n),n=n._next},t.killTweensOf=function(r,n,a){for(var o=this.getTweensOf(r,a),l=o.length;l--;)nr!==o[l]&&o[l].kill(r,n);return this},t.getTweensOf=function(r,n){for(var a=[],o=Jt(r),l=this._first,h=Bi(n),c;l;)l instanceof Ye?_p(l._targets,o)&&(h?(!nr||l._initted&&l._ts)&&l.globalTime(0)<=n&&l.globalTime(l.totalDuration())>n:!n||l.isActive())&&a.push(l):(c=l.getTweensOf(o,n)).length&&a.push.apply(a,c),l=l._next;return a},t.tweenTo=function(r,n){n=n||{};var a=this,o=Zt(a,r),l=n,h=l.startAt,c=l.onStart,u=l.onStartParams,d=l.immediateRender,p,g=Ye.to(a,Qt({ease:n.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:n.duration||Math.abs((o-(h&&"time"in h?h.time:a._time))/a.timeScale())||ke,onStart:function(){if(a.pause(),!p){var y=n.duration||Math.abs((o-(h&&"time"in h?h.time:a._time))/a.timeScale());g._dur!==y&&as(g,y,0,1).render(g._time,!0,!0),p=1}c&&c.apply(g,u||[])}},n));return d?g.render(0):g},t.tweenFromTo=function(r,n,a){return this.tweenTo(n,Qt({startAt:{time:Zt(this,r)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),jh(this,Zt(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),jh(this,Zt(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+ke)},t.shiftChildren=function(r,n,a){a===void 0&&(a=0);for(var o=this._first,l=this.labels,h;o;)o._start>=a&&(o._start+=r,o._end+=r),o=o._next;if(n)for(h in l)l[h]>=a&&(l[h]+=r);return Sr(this)},t.invalidate=function(r){var n=this._first;for(this._lock=0;n;)n.invalidate(r),n=n._next;return s.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var n=this._first,a;n;)a=n._next,this.remove(n),n=a;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Sr(this)},t.totalDuration=function(r){var n=0,a=this,o=a._last,l=Kt,h,c,u;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-r:r));if(a._dirty){for(u=a.parent;o;)h=o._prev,o._dirty&&o.totalDuration(),c=o._start,c>l&&a._sort&&o._ts&&!a._lock?(a._lock=1,Si(a,o,c-o._delay,1)._lock=0):l=c,c<0&&o._ts&&(n-=c,(!u&&!a._dp||u&&u.smoothChildTiming)&&(a._start+=c/a._ts,a._time-=c,a._tTime-=c),a.shiftChildren(-c,!1,-1/0),l=0),o._end>n&&o._ts&&(n=o._end),o=h;as(a,a===Re&&a._time>n?a._time:n,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(r){if(Re._ts&&(Ch(Re,Xn(r,Re)),Sh=jt.frame),jt.frame>=Ph){Ph+=Bt.autoSleep||120;var n=Re._first;if((!n||!n._ts)&&Bt.autoSleep&&jt._listeners.length<2){for(;n&&!n._ts;)n=n._next;n||jt.sleep()}}},e}(Bs);Qt(Tt.prototype,{_lock:0,_hasPause:0,_forcing:0});var Up=function(e,t,i,r,n,a,o){var l=new It(this._pt,e,t,0,1,oc,null,n),h=0,c=0,u,d,p,g,f,y,b,m;for(l.b=i,l.e=r,i+="",r+="",(b=~r.indexOf("random("))&&(r=Fs(r)),a&&(m=[i,r],a(m,e,t),i=m[0],r=m[1]),d=i.match(uo)||[];u=uo.exec(r);)g=u[0],f=r.substring(h,u.index),p?p=(p+1)%5:f.substr(-5)==="rgba("&&(p=1),g!==d[c++]&&(y=parseFloat(d[c-1])||0,l._pt={_next:l._pt,p:f||c===1?f:",",s:y,c:g.charAt(1)==="="?ss(y,g)-y:parseFloat(g)-y,m:p&&p<4?Math.round:0},h=uo.lastIndex);return l.c=h<r.length?r.substring(h,r.length):"",l.fp=o,(vh.test(r)||b)&&(l.e=0),this._pt=l,l},Ao=function(e,t,i,r,n,a,o,l,h,c){Fe(r)&&(r=r(n||0,e,a));var u=e[t],d=i!=="get"?i:Fe(u)?h?e[t.indexOf("set")||!Fe(e["get"+t.substr(3)])?t:"get"+t.substr(3)](h):e[t]():u,p=Fe(u)?h?jp:nc:Oo,g;if(et(r)&&(~r.indexOf("random(")&&(r=Fs(r)),r.charAt(1)==="="&&(g=ss(d,r)+(gt(d)||0),(g||g===0)&&(r=g))),!c||d!==r||Mo)return!isNaN(d*r)&&r!==""?(g=new It(this._pt,e,t,+d||0,r-(d||0),typeof u=="boolean"?Yp:ac,0,p),h&&(g.fp=h),o&&g.modifier(o,this,e),this._pt=g):(!u&&!(t in e)&&go(t,r),Up.call(this,e,t,d,r,p,l||Bt.stringFilter,h))},Bp=function(e,t,i,r,n){if(Fe(e)&&(e=$s(e,n,t,i,r)),!Ti(e)||e.style&&e.nodeType||ft(e)||yh(e))return et(e)?$s(e,n,t,i,r):e;var a={},o;for(o in e)a[o]=$s(e[o],n,t,i,r);return a},ic=function(e,t,i,r,n,a){var o,l,h,c;if(Wt[e]&&(o=new Wt[e]).init(n,o.rawVars?t[e]:Bp(t[e],r,n,a,i),i,r,a)!==!1&&(i._pt=l=new It(i._pt,n,e,0,1,o.render,o,0,o.priority),i!==os))for(h=i._ptLookup[i._targets.indexOf(n)],c=o._props.length;c--;)h[o._props[c]]=l;return o},nr,Mo,Ro=function s(e,t,i){var r=e.vars,n=r.ease,a=r.startAt,o=r.immediateRender,l=r.lazy,h=r.onUpdate,c=r.runBackwards,u=r.yoyoEase,d=r.keyframes,p=r.autoRevert,g=e._dur,f=e._startAt,y=e._targets,b=e.parent,m=b&&b.data==="nested"?b.vars.targets:y,v=e._overwrite==="auto"&&!ao,x=e.timeline,w,T,k,A,E,P,R,M,N,z,O,L,U;if(x&&(!d||!n)&&(n="none"),e._ease=Pr(n,is.ease),e._yEase=u?Zh(Pr(u===!0?n:u,is.ease)):0,u&&e._yoyo&&!e._repeat&&(u=e._yEase,e._yEase=e._ease,e._ease=u),e._from=!x&&!!r.runBackwards,!x||d&&!r.stagger){if(M=y[0]?Tr(y[0]).harness:0,L=M&&r[M.prop],w=Hn(r,mo),f&&(f._zTime<0&&f.progress(1),t<0&&c&&o&&!p?f.render(-1,!0):f.revert(c&&g?Wn:gp),f._lazy=0),a){if(ir(e._startAt=Ye.set(y,Qt({data:"isStart",overwrite:!1,parent:b,immediateRender:!0,lazy:!f&&Dt(l),startAt:null,delay:0,onUpdate:h&&function(){return qt(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(pt||!o&&!p)&&e._startAt.revert(Wn),o&&g&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(c&&g&&!f){if(t&&(o=!1),k=Qt({overwrite:!1,data:"isFromStart",lazy:o&&!f&&Dt(l),immediateRender:o,stagger:0,parent:b},w),L&&(k[M.prop]=L),ir(e._startAt=Ye.set(y,k)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(pt?e._startAt.revert(Wn):e._startAt.render(-1,!0)),e._zTime=t,!o)s(e._startAt,ke,ke);else if(!t)return}for(e._pt=e._ptCache=0,l=g&&Dt(l)||l&&!g,T=0;T<y.length;T++){if(E=y[T],R=E._gsap||vo(y)[T]._gsap,e._ptLookup[T]=z={},_o[R.id]&&tr.length&&jn(),O=m===y?T:m.indexOf(E),M&&(N=new M).init(E,L||w,e,O,m)!==!1&&(e._pt=A=new It(e._pt,E,N.name,0,1,N.render,N,0,N.priority),N._props.forEach(function(G){z[G]=A}),N.priority&&(P=1)),!M||L)for(k in w)Wt[k]&&(N=ic(k,w,e,O,E,m))?N.priority&&(P=1):z[k]=A=Ao.call(e,E,k,"get",w[k],O,m,0,r.stringFilter);e._op&&e._op[T]&&e.kill(E,e._op[T]),v&&e._pt&&(nr=e,Re.killTweensOf(E,z,e.globalTime(t)),U=!e.parent,nr=0),e._pt&&l&&(_o[R.id]=1)}P&&lc(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!U,d&&t<=0&&x.render(Kt,!0,!0)},$p=function(e,t,i,r,n,a,o,l){var h=(e._pt&&e._ptCache||(e._ptCache={}))[t],c,u,d,p;if(!h)for(h=e._ptCache[t]=[],d=e._ptLookup,p=e._targets.length;p--;){if(c=d[p][t],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return Mo=1,e.vars[t]="+=0",Ro(e,o),Mo=0,l?Os(t+" not eligible for reset"):1;h.push(c)}for(p=h.length;p--;)u=h[p],c=u._pt||u,c.s=(r||r===0)&&!n?r:c.s+(r||0)+a*c.c,c.c=i-c.s,u.e&&(u.e=Ue(i)+gt(u.e)),u.b&&(u.b=c.s+gt(u.b))},Wp=function(e,t){var i=e[0]?Tr(e[0]).harness:0,r=i&&i.aliases,n,a,o,l;if(!r)return t;n=kr({},t);for(a in r)if(a in n)for(l=r[a].split(","),o=l.length;o--;)n[l[o]]=n[a];return n},qp=function(e,t,i,r){var n=t.ease||r||"power1.inOut",a,o;if(ft(t))o=i[e]||(i[e]=[]),t.forEach(function(l,h){return o.push({t:h/(t.length-1)*100,v:l,e:n})});else for(a in t)o=i[a]||(i[a]=[]),a==="ease"||o.push({t:parseFloat(e),v:t[a],e:n})},$s=function(e,t,i,r,n){return Fe(e)?e.call(t,i,r,n):et(e)&&~e.indexOf("random(")?Fs(e):e},rc=bo+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",sc={};zt(rc+",id,stagger,delay,duration,paused,scrollTrigger",function(s){return sc[s]=1});var Ye=function(s){mh(e,s);function e(i,r,n,a){var o;typeof r=="number"&&(n.duration=r,r=n,n=null),o=s.call(this,a?r:Ds(r))||this;var l=o.vars,h=l.duration,c=l.delay,u=l.immediateRender,d=l.stagger,p=l.overwrite,g=l.keyframes,f=l.defaults,y=l.scrollTrigger,b=l.yoyoEase,m=r.parent||Re,v=(ft(i)||yh(i)?Bi(i[0]):"length"in r)?[i]:Jt(i),x,w,T,k,A,E,P,R;if(o._targets=v.length?vo(v):Os("GSAP target "+i+" not found. https://gsap.com",!Bt.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=p,g||d||Bn(h)||Bn(c)){if(r=o.vars,x=o.timeline=new Tt({data:"nested",defaults:f||{},targets:m&&m.data==="nested"?m.vars.targets:v}),x.kill(),x.parent=x._dp=Ui(o),x._start=0,d||Bn(h)||Bn(c)){if(k=v.length,P=d&&Uh(d),Ti(d))for(A in d)~rc.indexOf(A)&&(R||(R={}),R[A]=d[A]);for(w=0;w<k;w++)T=Hn(r,sc),T.stagger=0,b&&(T.yoyoEase=b),R&&kr(T,R),E=v[w],T.duration=+$s(h,Ui(o),w,E,v),T.delay=(+$s(c,Ui(o),w,E,v)||0)-o._delay,!d&&k===1&&T.delay&&(o._delay=c=T.delay,o._start+=c,T.delay=0),x.to(E,T,P?P(w,E,v):0),x._ease=he.none;x.duration()?h=c=0:o.timeline=0}else if(g){Ds(Qt(x.vars.defaults,{ease:"none"})),x._ease=Pr(g.ease||r.ease||"none");var M=0,N,z,O;if(ft(g))g.forEach(function(L){return x.to(v,L,">")}),x.duration();else{T={};for(A in g)A==="ease"||A==="easeEach"||qp(A,g[A],T,g.easeEach);for(A in T)for(N=T[A].sort(function(L,U){return L.t-U.t}),M=0,w=0;w<N.length;w++)z=N[w],O={ease:z.e,duration:(z.t-(w?N[w-1].t:0))/100*h},O[A]=z.v,x.to(v,O,M),M+=O.duration;x.duration()<h&&x.to({},{duration:h-x.duration()})}}h||o.duration(h=x.duration())}else o.timeline=0;return p===!0&&!ao&&(nr=Ui(o),Re.killTweensOf(v),nr=0),Si(m,Ui(o),n),r.reversed&&o.reverse(),r.paused&&o.paused(!0),(u||!h&&!g&&o._start===tt(m._time)&&Dt(u)&&xp(Ui(o))&&m.data!=="nested")&&(o._tTime=-ke,o.render(Math.max(0,-c)||0)),y&&zh(Ui(o),y),o}var t=e.prototype;return t.render=function(r,n,a){var o=this._time,l=this._tDur,h=this._dur,c=r<0,u=r>l-ke&&!c?l:r<ke?0:r,d,p,g,f,y,b,m,v,x;if(!h)Tp(this,r,n,a);else if(u!==this._tTime||!r||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c){if(d=u,v=this.timeline,this._repeat){if(f=h+this._rDelay,this._repeat<-1&&c)return this.totalTime(f*100+r,n,a);if(d=tt(u%f),u===l?(g=this._repeat,d=h):(g=~~(u/f),g&&g===tt(u/f)&&(d=h,g--),d>h&&(d=h)),b=this._yoyo&&g&1,b&&(x=this._yEase,d=h-d),y=ns(this._tTime,f),d===o&&!a&&this._initted&&g===y)return this._tTime=u,this;g!==y&&(v&&this._yEase&&Jh(v,b),this.vars.repeatRefresh&&!b&&!this._lock&&this._time!==f&&this._initted&&(this._lock=a=1,this.render(tt(f*g),!0).invalidate()._lock=0))}if(!this._initted){if(Ih(this,c?r:d,a,n,u))return this._tTime=0,this;if(o!==this._time&&!(a&&this.vars.repeatRefresh&&g!==y))return this;if(h!==this._dur)return this.render(r,n,a)}if(this._tTime=u,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=m=(x||this._ease)(d/h),this._from&&(this.ratio=m=1-m),d&&!o&&!n&&!g&&(qt(this,"onStart"),this._tTime!==u))return this;for(p=this._pt;p;)p.r(m,p.d),p=p._next;v&&v.render(r<0?r:v._dur*v._ease(d/this._dur),n,a)||this._startAt&&(this._zTime=r),this._onUpdate&&!n&&(c&&xo(this,r,n,a),qt(this,"onUpdate")),this._repeat&&g!==y&&this.vars.onRepeat&&!n&&this.parent&&qt(this,"onRepeat"),(u===this._tDur||!u)&&this._tTime===u&&(c&&!this._onUpdate&&xo(this,r,!0,!0),(r||!h)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&ir(this,1),!n&&!(c&&!o)&&(u||o||b)&&(qt(this,u===l?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),s.prototype.invalidate.call(this,r)},t.resetTo=function(r,n,a,o,l){Us||jt.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||Ro(this,h),c=this._ease(h/this._dur),$p(this,r,n,a,o,c,h,l)?this.resetTo(r,n,a,o,1):(Kn(this,0),this.parent||Oh(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,n){if(n===void 0&&(n="all"),!r&&(!n||n==="all"))return this._lazy=this._pt=0,this.parent?Ns(this):this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(r,n,nr&&nr.vars.overwrite!==!0)._first||Ns(this),this.parent&&a!==this.timeline.totalDuration()&&as(this,this._dur*this.timeline._tDur/a,0,1),this}var o=this._targets,l=r?Jt(r):o,h=this._ptLookup,c=this._pt,u,d,p,g,f,y,b;if((!n||n==="all")&&bp(o,l))return n==="all"&&(this._pt=0),Ns(this);for(u=this._op=this._op||[],n!=="all"&&(et(n)&&(f={},zt(n,function(m){return f[m]=1}),n=f),n=Wp(o,n)),b=o.length;b--;)if(~l.indexOf(o[b])){d=h[b],n==="all"?(u[b]=n,g=d,p={}):(p=u[b]=u[b]||{},g=n);for(f in g)y=d&&d[f],y&&((!("kill"in y.d)||y.d.kill(f)===!0)&&Yn(this,y,"_pt"),delete d[f]),p!=="all"&&(p[f]=1)}return this._initted&&!this._pt&&c&&Ns(this),this},e.to=function(r,n){return new e(r,n,arguments[2])},e.from=function(r,n){return zs(1,arguments)},e.delayedCall=function(r,n,a,o){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:n,onReverseComplete:n,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:o})},e.fromTo=function(r,n,a){return zs(2,arguments)},e.set=function(r,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(r,n)},e.killTweensOf=function(r,n,a){return Re.killTweensOf(r,n,a)},e}(Bs);Qt(Ye.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),zt("staggerTo,staggerFrom,staggerFromTo",function(s){Ye[s]=function(){var e=new Tt,t=To.call(arguments,0);return t.splice(s==="staggerFromTo"?5:4,0,0),e[s].apply(e,t)}});var Oo=function(e,t,i){return e[t]=i},nc=function(e,t,i){return e[t](i)},jp=function(e,t,i,r){return e[t](r.fp,i)},Hp=function(e,t,i){return e.setAttribute(t,i)},Lo=function(e,t){return Fe(e[t])?nc:lo(e[t])&&e.setAttribute?Hp:Oo},ac=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Yp=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},oc=function(e,t){var i=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},Do=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},Xp=function(e,t,i,r){for(var n=this._pt,a;n;)a=n._next,n.p===r&&n.modifier(e,t,i),n=a},Gp=function(e){for(var t=this._pt,i,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?Yn(this,t,"_pt"):t.dep||(i=1),t=r;return!i},Kp=function(e,t,i,r){r.mSet(e,t,r.m.call(r.tween,i,r.mt),r)},lc=function(e){for(var t=e._pt,i,r,n,a;t;){for(i=t._next,r=n;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:a)?t._prev._next=t:n=t,(t._next=r)?r._prev=t:a=t,t=i}e._pt=n},It=function(){function s(t,i,r,n,a,o,l,h,c){this.t=i,this.s=n,this.c=a,this.p=r,this.r=o||ac,this.d=l||this,this.set=h||Oo,this.pr=c||0,this._next=t,t&&(t._prev=this)}var e=s.prototype;return e.modifier=function(i,r,n){this.mSet=this.mSet||this.set,this.set=Kp,this.m=i,this.mt=n,this.tween=r},s}();zt(bo+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(s){return mo[s]=1}),$t.TweenMax=$t.TweenLite=Ye,$t.TimelineLite=$t.TimelineMax=Tt,Re=new Tt({sortChildren:!1,defaults:is,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Bt.stringFilter=Qh;var Cr=[],Qn={},Qp=[],hc=0,Zp=0,zo=function(e){return(Qn[e]||Qp).map(function(t){return t()})},Io=function(){var e=Date.now(),t=[];e-hc>2&&(zo("matchMediaInit"),Cr.forEach(function(i){var r=i.queries,n=i.conditions,a,o,l,h;for(o in r)a=ki.matchMedia(r[o]).matches,a&&(l=1),a!==n[o]&&(n[o]=a,h=1);h&&(i.revert(),l&&t.push(i))}),zo("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i,function(r){return i.add(null,r)})}),hc=e,zo("matchMedia"))},cc=function(){function s(t,i){this.selector=i&&ko(i),this.data=[],this._r=[],this.isReverted=!1,this.id=Zp++,t&&this.add(t)}var e=s.prototype;return e.add=function(i,r,n){Fe(i)&&(n=r,r=i,i=Fe);var a=this,o=function(){var h=Ce,c=a.selector,u;return h&&h!==a&&h.data.push(a),n&&(a.selector=ko(n)),Ce=a,u=r.apply(a,arguments),Fe(u)&&a._r.push(u),Ce=h,a.selector=c,a.isReverted=!1,u};return a.last=o,i===Fe?o(a,function(l){return a.add(null,l)}):i?a[i]=o:o},e.ignore=function(i){var r=Ce;Ce=null,i(this),Ce=r},e.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof s?i.push.apply(i,r.getTweens()):r instanceof Ye&&!(r.parent&&r.parent.data==="nested")&&i.push(r)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,r){var n=this;if(i?function(){for(var o=n.getTweens(),l=n.data.length,h;l--;)h=n.data[l],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(c){return o.splice(o.indexOf(c),1)}));for(o.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,u){return u.g-c.g||-1/0}).forEach(function(c){return c.t.revert(i)}),l=n.data.length;l--;)h=n.data[l],h instanceof Tt?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof Ye)&&h.revert&&h.revert(i);n._r.forEach(function(c){return c(i,n)}),n.isReverted=!0}():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),r)for(var a=Cr.length;a--;)Cr[a].id===this.id&&Cr.splice(a,1)},e.revert=function(i){this.kill(i||{})},s}(),Jp=function(){function s(t){this.contexts=[],this.scope=t,Ce&&Ce.data.push(this)}var e=s.prototype;return e.add=function(i,r,n){Ti(i)||(i={matches:i});var a=new cc(0,n||this.scope),o=a.conditions={},l,h,c;Ce&&!a.selector&&(a.selector=Ce.selector),this.contexts.push(a),r=a.add("onMatch",r),a.queries=i;for(h in i)h==="all"?c=1:(l=ki.matchMedia(i[h]),l&&(Cr.indexOf(a)<0&&Cr.push(a),(o[h]=l.matches)&&(c=1),l.addListener?l.addListener(Io):l.addEventListener("change",Io)));return c&&r(a,function(u){return a.add(null,u)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},s}(),Zn={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(r){return Yh(r)})},timeline:function(e){return new Tt(e)},getTweensOf:function(e,t){return Re.getTweensOf(e,t)},getProperty:function(e,t,i,r){et(e)&&(e=Jt(e)[0]);var n=Tr(e||{}).get,a=i?Mh:Ah;return i==="native"&&(i=""),e&&(t?a((Wt[t]&&Wt[t].get||n)(e,t,i,r)):function(o,l,h){return a((Wt[o]&&Wt[o].get||n)(e,o,l,h))})},quickSetter:function(e,t,i){if(e=Jt(e),e.length>1){var r=e.map(function(c){return Ft.quickSetter(c,t,i)}),n=r.length;return function(c){for(var u=n;u--;)r[u](c)}}e=e[0]||{};var a=Wt[t],o=Tr(e),l=o.harness&&(o.harness.aliases||{})[t]||t,h=a?function(c){var u=new a;os._pt=0,u.init(e,i?c+i:c,os,0,[e]),u.render(1,u),os._pt&&Do(1,os)}:o.set(e,l);return a?h:function(c){return h(e,l,i?c+i:c,o,1)}},quickTo:function(e,t,i){var r,n=Ft.to(e,kr((r={},r[t]="+=0.1",r.paused=!0,r),i||{})),a=function(l,h,c){return n.resetTo(t,l,h,c)};return a.tween=n,a},isTweening:function(e){return Re.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Pr(e.ease,is.ease)),Rh(is,e||{})},config:function(e){return Rh(Bt,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,r=e.plugins,n=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach(function(o){return o&&!Wt[o]&&!$t[o]&&Os(t+" effect requires "+o+" plugin.")}),yo[t]=function(o,l,h){return i(Jt(o),Qt(l||{},n),h)},a&&(Tt.prototype[t]=function(o,l,h){return this.add(yo[t](o,Ti(l)?l:(h=l)&&{},this),h)})},registerEase:function(e,t){he[e]=Pr(t)},parseEase:function(e,t){return arguments.length?Pr(e,t):he},getById:function(e){return Re.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new Tt(e),r,n;for(i.smoothChildTiming=Dt(e.smoothChildTiming),Re.remove(i),i._dp=0,i._time=i._tTime=Re._time,r=Re._first;r;)n=r._next,(t||!(!r._dur&&r instanceof Ye&&r.vars.onComplete===r._targets[0]))&&Si(i,r,r._start-r._delay),r=n;return Si(Re,i,0),i},context:function(e,t){return e?new cc(e,t):Ce},matchMedia:function(e){return new Jp(e)},matchMediaRefresh:function(){return Cr.forEach(function(e){var t=e.conditions,i,r;for(r in t)t[r]&&(t[r]=!1,i=1);i&&e.revert()})||Io()},addEventListener:function(e,t){var i=Qn[e]||(Qn[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=Qn[e],r=i&&i.indexOf(t);r>=0&&i.splice(r,1)},utils:{wrap:Rp,wrapYoyo:Op,distribute:Uh,random:$h,snap:Bh,normalize:Mp,getUnit:gt,clamp:Pp,splitColor:Xh,toArray:Jt,selector:ko,mapRange:qh,pipe:Cp,unitize:Ap,interpolate:Lp,shuffle:Vh},install:Th,effects:yo,ticker:jt,updateRoot:Tt.updateRoot,plugins:Wt,globalTimeline:Re,core:{PropTween:It,globals:kh,Tween:Ye,Timeline:Tt,Animation:Bs,getCache:Tr,_removeLinkedListItem:Yn,reverting:function(){return pt},context:function(e){return e&&Ce&&(Ce.data.push(e),e._ctx=Ce),Ce},suppressOverwrites:function(e){return ao=e}}};zt("to,from,fromTo,delayedCall,set,killTweensOf",function(s){return Zn[s]=Ye[s]}),jt.add(Tt.updateRoot),os=Zn.to({},{duration:0});var ef=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},tf=function(e,t){var i=e._targets,r,n,a;for(r in t)for(n=i.length;n--;)a=e._ptLookup[n][r],a&&(a=a.d)&&(a._pt&&(a=ef(a,r)),a&&a.modifier&&a.modifier(t[r],e,i[n],r))},Fo=function(e,t){return{name:e,rawVars:1,init:function(r,n,a){a._onInit=function(o){var l,h;if(et(n)&&(l={},zt(n,function(c){return l[c]=1}),n=l),t){l={};for(h in n)l[h]=t(n[h]);n=l}tf(o,n)}}}},Ft=Zn.registerPlugin({name:"attr",init:function(e,t,i,r,n){var a,o,l;this.tween=i;for(a in t)l=e.getAttribute(a)||"",o=this.add(e,"setAttribute",(l||0)+"",t[a],r,n,0,0,a),o.op=a,o.b=l,this._props.push(a)},render:function(e,t){for(var i=t._pt;i;)pt?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},Fo("roundProps",So),Fo("modifiers"),Fo("snap",Bh))||Zn;Ye.version=Tt.version=Ft.version="3.12.5",wh=1,ho()&&ls(),he.Power0,he.Power1,he.Power2,he.Power3,he.Power4,he.Linear,he.Quad,he.Cubic,he.Quart,he.Quint,he.Strong,he.Elastic,he.Back,he.SteppedEase,he.Bounce,he.Sine,he.Expo,he.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var uc,ar,hs,No,Ar,dc,Vo,rf=function(){return typeof window<"u"},$i={},Mr=180/Math.PI,cs=Math.PI/180,us=Math.atan2,pc=1e8,Uo=/([A-Z])/g,sf=/(left|right|width|margin|padding|x)/i,nf=/[\s,\(]\S/,Pi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Bo=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},af=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},of=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},lf=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},fc=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},gc=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},hf=function(e,t,i){return e.style[t]=i},cf=function(e,t,i){return e.style.setProperty(t,i)},uf=function(e,t,i){return e._gsap[t]=i},df=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},pf=function(e,t,i,r,n){var a=e._gsap;a.scaleX=a.scaleY=i,a.renderTransform(n,a)},ff=function(e,t,i,r,n){var a=e._gsap;a[t]=i,a.renderTransform(n,a)},Oe="transform",Nt=Oe+"Origin",gf=function s(e,t){var i=this,r=this.target,n=r.style,a=r._gsap;if(e in $i&&n){if(this.tfm=this.tfm||{},e!=="transform")e=Pi[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return i.tfm[o]=Wi(r,o)}):this.tfm[e]=a.x?a[e]:Wi(r,e),e===Nt&&(this.tfm.zOrigin=a.zOrigin);else return Pi.transform.split(",").forEach(function(o){return s.call(i,o,t)});if(this.props.indexOf(Oe)>=0)return;a.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(Nt,t,"")),e=Oe}(n||t)&&this.props.push(e,t,n[e])},mc=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},mf=function(){var e=this.props,t=this.target,i=t.style,r=t._gsap,n,a;for(n=0;n<e.length;n+=3)e[n+1]?t[e[n]]=e[n+2]:e[n+2]?i[e[n]]=e[n+2]:i.removeProperty(e[n].substr(0,2)==="--"?e[n]:e[n].replace(Uo,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)r[a]=this.tfm[a];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),n=Vo(),(!n||!n.isStart)&&!i[Oe]&&(mc(i),r.zOrigin&&i[Nt]&&(i[Nt]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},_c=function(e,t){var i={target:e,props:[],revert:mf,save:gf};return e._gsap||Ft.core.getCache(e),t&&t.split(",").forEach(function(r){return i.save(r)}),i},yc,$o=function(e,t){var i=ar.createElementNS?ar.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ar.createElement(e);return i&&i.style?i:ar.createElement(e)},Ei=function s(e,t,i){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(Uo,"-$1").toLowerCase())||r.getPropertyValue(t)||!i&&s(e,ds(t)||t,1)||""},bc="O,Moz,ms,Ms,Webkit".split(","),ds=function(e,t,i){var r=t||Ar,n=r.style,a=5;if(e in n&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(bc[a]+e in n););return a<0?null:(a===3?"ms":a>=0?bc[a]:"")+e},Wo=function(){rf()&&window.document&&(uc=window,ar=uc.document,hs=ar.documentElement,Ar=$o("div")||{style:{}},$o("div"),Oe=ds(Oe),Nt=Oe+"Origin",Ar.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",yc=!!ds("perspective"),Vo=Ft.core.reverting,No=1)},qo=function s(e){var t=$o("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,n=this.style.cssText,a;if(hs.appendChild(t),t.appendChild(this),this.style.display="block",e)try{a=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=s}catch{}else this._gsapBBox&&(a=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),hs.removeChild(t),this.style.cssText=n,a},vc=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},xc=function(e){var t;try{t=e.getBBox()}catch{t=qo.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===qo||(t=qo.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+vc(e,["x","cx","x1"])||0,y:+vc(e,["y","cy","y1"])||0,width:0,height:0}:t},wc=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&xc(e))},Rr=function(e,t){if(t){var i=e.style,r;t in $i&&t!==Nt&&(t=Oe),i.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(r==="--"?t:t.replace(Uo,"-$1").toLowerCase())):i.removeAttribute(t)}},or=function(e,t,i,r,n,a){var o=new It(e._pt,t,i,0,1,a?gc:fc);return e._pt=o,o.b=r,o.e=n,e._props.push(i),o},Tc={deg:1,rad:1,turn:1},_f={grid:1,flex:1},lr=function s(e,t,i,r){var n=parseFloat(i)||0,a=(i+"").trim().substr((n+"").length)||"px",o=Ar.style,l=sf.test(t),h=e.tagName.toLowerCase()==="svg",c=(h?"client":"offset")+(l?"Width":"Height"),u=100,d=r==="px",p=r==="%",g,f,y,b;if(r===a||!n||Tc[r]||Tc[a])return n;if(a!=="px"&&!d&&(n=s(e,t,i,"px")),b=e.getCTM&&wc(e),(p||a==="%")&&($i[t]||~t.indexOf("adius")))return g=b?e.getBBox()[l?"width":"height"]:e[c],Ue(p?n/g*u:n/100*g);if(o[l?"width":"height"]=u+(d?a:r),f=~t.indexOf("adius")||r==="em"&&e.appendChild&&!h?e:e.parentNode,b&&(f=(e.ownerSVGElement||{}).parentNode),(!f||f===ar||!f.appendChild)&&(f=ar.body),y=f._gsap,y&&p&&y.width&&l&&y.time===jt.time&&!y.uncache)return Ue(n/y.width*u);if(p&&(t==="height"||t==="width")){var m=e.style[t];e.style[t]=u+r,g=e[c],m?e.style[t]=m:Rr(e,t)}else(p||a==="%")&&!_f[Ei(f,"display")]&&(o.position=Ei(e,"position")),f===e&&(o.position="static"),f.appendChild(Ar),g=Ar[c],f.removeChild(Ar),o.position="absolute";return l&&p&&(y=Tr(f),y.time=jt.time,y.width=f[c]),Ue(d?g*n/u:g&&n?u/g*n:0)},Wi=function(e,t,i,r){var n;return No||Wo(),t in Pi&&t!=="transform"&&(t=Pi[t],~t.indexOf(",")&&(t=t.split(",")[0])),$i[t]&&t!=="transform"?(n=qs(e,r),n=t!=="transformOrigin"?n[t]:n.svg?n.origin:ea(Ei(e,Nt))+" "+n.zOrigin+"px"):(n=e.style[t],(!n||n==="auto"||r||~(n+"").indexOf("calc("))&&(n=Jn[t]&&Jn[t](e,t,i)||Ei(e,t)||Eh(e,t)||(t==="opacity"?1:0))),i&&!~(n+"").trim().indexOf(" ")?lr(e,t,n,i)+i:n},yf=function(e,t,i,r){if(!i||i==="none"){var n=ds(t,e,1),a=n&&Ei(e,n,1);a&&a!==i?(t=n,i=a):t==="borderColor"&&(i=Ei(e,"borderTopColor"))}var o=new It(this._pt,e.style,t,0,1,oc),l=0,h=0,c,u,d,p,g,f,y,b,m,v,x,w;if(o.b=i,o.e=r,i+="",r+="",r==="auto"&&(f=e.style[t],e.style[t]=r,r=Ei(e,t)||r,f?e.style[t]=f:Rr(e,t)),c=[i,r],Qh(c),i=c[0],r=c[1],d=i.match(rs)||[],w=r.match(rs)||[],w.length){for(;u=rs.exec(r);)y=u[0],m=r.substring(l,u.index),g?g=(g+1)%5:(m.substr(-5)==="rgba("||m.substr(-5)==="hsla(")&&(g=1),y!==(f=d[h++]||"")&&(p=parseFloat(f)||0,x=f.substr((p+"").length),y.charAt(1)==="="&&(y=ss(p,y)+x),b=parseFloat(y),v=y.substr((b+"").length),l=rs.lastIndex-v.length,v||(v=v||Bt.units[t]||x,l===r.length&&(r+=v,o.e+=v)),x!==v&&(p=lr(e,t,f,v)||0),o._pt={_next:o._pt,p:m||h===1?m:",",s:p,c:b-p,m:g&&g<4||t==="zIndex"?Math.round:0});o.c=l<r.length?r.substring(l,r.length):""}else o.r=t==="display"&&r==="none"?gc:fc;return vh.test(r)&&(o.e=0),this._pt=o,o},kc={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},bf=function(e){var t=e.split(" "),i=t[0],r=t[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(e=i,i=r,r=e),t[0]=kc[i]||i,t[1]=kc[r]||r,t.join(" ")},vf=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,r=i.style,n=t.u,a=i._gsap,o,l,h;if(n==="all"||n===!0)r.cssText="",l=1;else for(n=n.split(","),h=n.length;--h>-1;)o=n[h],$i[o]&&(l=1,o=o==="transformOrigin"?Nt:Oe),Rr(i,o);l&&(Rr(i,Oe),a&&(a.svg&&i.removeAttribute("transform"),qs(i,1),a.uncache=1,mc(r)))}},Jn={clearProps:function(e,t,i,r,n){if(n.data!=="isFromStart"){var a=e._pt=new It(e._pt,t,i,0,0,vf);return a.u=r,a.pr=-10,a.tween=n,e._props.push(i),1}}},Ws=[1,0,0,1,0,0],Sc={},Pc=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Ec=function(e){var t=Ei(e,Oe);return Pc(t)?Ws:t.substr(7).match(bh).map(Ue)},jo=function(e,t){var i=e._gsap||Tr(e),r=e.style,n=Ec(e),a,o,l,h;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,n=[l.a,l.b,l.c,l.d,l.e,l.f],n.join(",")==="1,0,0,1,0,0"?Ws:n):(n===Ws&&!e.offsetParent&&e!==hs&&!i.svg&&(l=r.display,r.display="block",a=e.parentNode,(!a||!e.offsetParent)&&(h=1,o=e.nextElementSibling,hs.appendChild(e)),n=Ec(e),l?r.display=l:Rr(e,"display"),h&&(o?a.insertBefore(e,o):a?a.appendChild(e):hs.removeChild(e))),t&&n.length>6?[n[0],n[1],n[4],n[5],n[12],n[13]]:n)},Ho=function(e,t,i,r,n,a){var o=e._gsap,l=n||jo(e,!0),h=o.xOrigin||0,c=o.yOrigin||0,u=o.xOffset||0,d=o.yOffset||0,p=l[0],g=l[1],f=l[2],y=l[3],b=l[4],m=l[5],v=t.split(" "),x=parseFloat(v[0])||0,w=parseFloat(v[1])||0,T,k,A,E;i?l!==Ws&&(k=p*y-g*f)&&(A=x*(y/k)+w*(-f/k)+(f*m-y*b)/k,E=x*(-g/k)+w*(p/k)-(p*m-g*b)/k,x=A,w=E):(T=xc(e),x=T.x+(~v[0].indexOf("%")?x/100*T.width:x),w=T.y+(~(v[1]||v[0]).indexOf("%")?w/100*T.height:w)),r||r!==!1&&o.smooth?(b=x-h,m=w-c,o.xOffset=u+(b*p+m*f)-b,o.yOffset=d+(b*g+m*y)-m):o.xOffset=o.yOffset=0,o.xOrigin=x,o.yOrigin=w,o.smooth=!!r,o.origin=t,o.originIsAbsolute=!!i,e.style[Nt]="0px 0px",a&&(or(a,o,"xOrigin",h,x),or(a,o,"yOrigin",c,w),or(a,o,"xOffset",u,o.xOffset),or(a,o,"yOffset",d,o.yOffset)),e.setAttribute("data-svg-origin",x+" "+w)},qs=function(e,t){var i=e._gsap||new tc(e);if("x"in i&&!t&&!i.uncache)return i;var r=e.style,n=i.scaleX<0,a="px",o="deg",l=getComputedStyle(e),h=Ei(e,Nt)||"0",c,u,d,p,g,f,y,b,m,v,x,w,T,k,A,E,P,R,M,N,z,O,L,U,G,ue,S,Q,ge,Ae,le,Z;return c=u=d=f=y=b=m=v=x=0,p=g=1,i.svg=!!(e.getCTM&&wc(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[Oe]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Oe]!=="none"?l[Oe]:"")),r.scale=r.rotate=r.translate="none"),k=jo(e,i.svg),i.svg&&(i.uncache?(G=e.getBBox(),h=i.xOrigin-G.x+"px "+(i.yOrigin-G.y)+"px",U=""):U=!t&&e.getAttribute("data-svg-origin"),Ho(e,U||h,!!U||i.originIsAbsolute,i.smooth!==!1,k)),w=i.xOrigin||0,T=i.yOrigin||0,k!==Ws&&(R=k[0],M=k[1],N=k[2],z=k[3],c=O=k[4],u=L=k[5],k.length===6?(p=Math.sqrt(R*R+M*M),g=Math.sqrt(z*z+N*N),f=R||M?us(M,R)*Mr:0,m=N||z?us(N,z)*Mr+f:0,m&&(g*=Math.abs(Math.cos(m*cs))),i.svg&&(c-=w-(w*R+T*N),u-=T-(w*M+T*z))):(Z=k[6],Ae=k[7],S=k[8],Q=k[9],ge=k[10],le=k[11],c=k[12],u=k[13],d=k[14],A=us(Z,ge),y=A*Mr,A&&(E=Math.cos(-A),P=Math.sin(-A),U=O*E+S*P,G=L*E+Q*P,ue=Z*E+ge*P,S=O*-P+S*E,Q=L*-P+Q*E,ge=Z*-P+ge*E,le=Ae*-P+le*E,O=U,L=G,Z=ue),A=us(-N,ge),b=A*Mr,A&&(E=Math.cos(-A),P=Math.sin(-A),U=R*E-S*P,G=M*E-Q*P,ue=N*E-ge*P,le=z*P+le*E,R=U,M=G,N=ue),A=us(M,R),f=A*Mr,A&&(E=Math.cos(A),P=Math.sin(A),U=R*E+M*P,G=O*E+L*P,M=M*E-R*P,L=L*E-O*P,R=U,O=G),y&&Math.abs(y)+Math.abs(f)>359.9&&(y=f=0,b=180-b),p=Ue(Math.sqrt(R*R+M*M+N*N)),g=Ue(Math.sqrt(L*L+Z*Z)),A=us(O,L),m=Math.abs(A)>2e-4?A*Mr:0,x=le?1/(le<0?-le:le):0),i.svg&&(U=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!Pc(Ei(e,Oe)),U&&e.setAttribute("transform",U))),Math.abs(m)>90&&Math.abs(m)<270&&(n?(p*=-1,m+=f<=0?180:-180,f+=f<=0?180:-180):(g*=-1,m+=m<=0?180:-180)),t=t||i.uncache,i.x=c-((i.xPercent=c&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+a,i.y=u-((i.yPercent=u&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-u)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+a,i.z=d+a,i.scaleX=Ue(p),i.scaleY=Ue(g),i.rotation=Ue(f)+o,i.rotationX=Ue(y)+o,i.rotationY=Ue(b)+o,i.skewX=m+o,i.skewY=v+o,i.transformPerspective=x+a,(i.zOrigin=parseFloat(h.split(" ")[2])||!t&&i.zOrigin||0)&&(r[Nt]=ea(h)),i.xOffset=i.yOffset=0,i.force3D=Bt.force3D,i.renderTransform=i.svg?wf:yc?Cc:xf,i.uncache=0,i},ea=function(e){return(e=e.split(" "))[0]+" "+e[1]},Yo=function(e,t,i){var r=gt(t);return Ue(parseFloat(t)+parseFloat(lr(e,"x",i+"px",r)))+r},xf=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Cc(e,t)},Or="0deg",js="0px",Lr=") ",Cc=function(e,t){var i=t||this,r=i.xPercent,n=i.yPercent,a=i.x,o=i.y,l=i.z,h=i.rotation,c=i.rotationY,u=i.rotationX,d=i.skewX,p=i.skewY,g=i.scaleX,f=i.scaleY,y=i.transformPerspective,b=i.force3D,m=i.target,v=i.zOrigin,x="",w=b==="auto"&&e&&e!==1||b===!0;if(v&&(u!==Or||c!==Or)){var T=parseFloat(c)*cs,k=Math.sin(T),A=Math.cos(T),E;T=parseFloat(u)*cs,E=Math.cos(T),a=Yo(m,a,k*E*-v),o=Yo(m,o,-Math.sin(T)*-v),l=Yo(m,l,A*E*-v+v)}y!==js&&(x+="perspective("+y+Lr),(r||n)&&(x+="translate("+r+"%, "+n+"%) "),(w||a!==js||o!==js||l!==js)&&(x+=l!==js||w?"translate3d("+a+", "+o+", "+l+") ":"translate("+a+", "+o+Lr),h!==Or&&(x+="rotate("+h+Lr),c!==Or&&(x+="rotateY("+c+Lr),u!==Or&&(x+="rotateX("+u+Lr),(d!==Or||p!==Or)&&(x+="skew("+d+", "+p+Lr),(g!==1||f!==1)&&(x+="scale("+g+", "+f+Lr),m.style[Oe]=x||"translate(0, 0)"},wf=function(e,t){var i=t||this,r=i.xPercent,n=i.yPercent,a=i.x,o=i.y,l=i.rotation,h=i.skewX,c=i.skewY,u=i.scaleX,d=i.scaleY,p=i.target,g=i.xOrigin,f=i.yOrigin,y=i.xOffset,b=i.yOffset,m=i.forceCSS,v=parseFloat(a),x=parseFloat(o),w,T,k,A,E;l=parseFloat(l),h=parseFloat(h),c=parseFloat(c),c&&(c=parseFloat(c),h+=c,l+=c),l||h?(l*=cs,h*=cs,w=Math.cos(l)*u,T=Math.sin(l)*u,k=Math.sin(l-h)*-d,A=Math.cos(l-h)*d,h&&(c*=cs,E=Math.tan(h-c),E=Math.sqrt(1+E*E),k*=E,A*=E,c&&(E=Math.tan(c),E=Math.sqrt(1+E*E),w*=E,T*=E)),w=Ue(w),T=Ue(T),k=Ue(k),A=Ue(A)):(w=u,A=d,T=k=0),(v&&!~(a+"").indexOf("px")||x&&!~(o+"").indexOf("px"))&&(v=lr(p,"x",a,"px"),x=lr(p,"y",o,"px")),(g||f||y||b)&&(v=Ue(v+g-(g*w+f*k)+y),x=Ue(x+f-(g*T+f*A)+b)),(r||n)&&(E=p.getBBox(),v=Ue(v+r/100*E.width),x=Ue(x+n/100*E.height)),E="matrix("+w+","+T+","+k+","+A+","+v+","+x+")",p.setAttribute("transform",E),m&&(p.style[Oe]=E)},Tf=function(e,t,i,r,n){var a=360,o=et(n),l=parseFloat(n)*(o&&~n.indexOf("rad")?Mr:1),h=l-r,c=r+h+"deg",u,d;return o&&(u=n.split("_")[1],u==="short"&&(h%=a,h!==h%(a/2)&&(h+=h<0?a:-a)),u==="cw"&&h<0?h=(h+a*pc)%a-~~(h/a)*a:u==="ccw"&&h>0&&(h=(h-a*pc)%a-~~(h/a)*a)),e._pt=d=new It(e._pt,t,i,r,h,af),d.e=c,d.u="deg",e._props.push(i),d},Ac=function(e,t){for(var i in t)e[i]=t[i];return e},kf=function(e,t,i){var r=Ac({},i._gsap),n="perspective,force3D,transformOrigin,svgOrigin",a=i.style,o,l,h,c,u,d,p,g;r.svg?(h=i.getAttribute("transform"),i.setAttribute("transform",""),a[Oe]=t,o=qs(i,1),Rr(i,Oe),i.setAttribute("transform",h)):(h=getComputedStyle(i)[Oe],a[Oe]=t,o=qs(i,1),a[Oe]=h);for(l in $i)h=r[l],c=o[l],h!==c&&n.indexOf(l)<0&&(p=gt(h),g=gt(c),u=p!==g?lr(i,l,h,g):parseFloat(h),d=parseFloat(c),e._pt=new It(e._pt,o,l,u,d-u,Bo),e._pt.u=g||0,e._props.push(l));Ac(o,r)};zt("padding,margin,Width,Radius",function(s,e){var t="Top",i="Right",r="Bottom",n="Left",a=(e<3?[t,i,r,n]:[t+n,t+i,r+i,r+n]).map(function(o){return e<2?s+o:"border"+o+s});Jn[e>1?"border"+s:s]=function(o,l,h,c,u){var d,p;if(arguments.length<4)return d=a.map(function(g){return Wi(o,g,h)}),p=d.join(" "),p.split(d[0]).length===5?d[0]:p;d=(c+"").split(" "),p={},a.forEach(function(g,f){return p[g]=d[f]=d[f]||d[(f-1)/2|0]}),o.init(l,p,u)}});var Mc={name:"css",register:Wo,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,r,n){var a=this._props,o=e.style,l=i.vars.startAt,h,c,u,d,p,g,f,y,b,m,v,x,w,T,k,A;No||Wo(),this.styles=this.styles||_c(e),A=this.styles.props,this.tween=i;for(f in t)if(f!=="autoRound"&&(c=t[f],!(Wt[f]&&ic(f,t,i,r,e,n)))){if(p=typeof c,g=Jn[f],p==="function"&&(c=c.call(i,r,e,n),p=typeof c),p==="string"&&~c.indexOf("random(")&&(c=Fs(c)),g)g(this,e,f,c,i)&&(k=1);else if(f.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(f)+"").trim(),c+="",sr.lastIndex=0,sr.test(h)||(y=gt(h),b=gt(c)),b?y!==b&&(h=lr(e,f,h,b)+b):y&&(c+=y),this.add(o,"setProperty",h,c,r,n,0,0,f),a.push(f),A.push(f,0,o[f]);else if(p!=="undefined"){if(l&&f in l?(h=typeof l[f]=="function"?l[f].call(i,r,e,n):l[f],et(h)&&~h.indexOf("random(")&&(h=Fs(h)),gt(h+"")||h==="auto"||(h+=Bt.units[f]||gt(Wi(e,f))||""),(h+"").charAt(1)==="="&&(h=Wi(e,f))):h=Wi(e,f),d=parseFloat(h),m=p==="string"&&c.charAt(1)==="="&&c.substr(0,2),m&&(c=c.substr(2)),u=parseFloat(c),f in Pi&&(f==="autoAlpha"&&(d===1&&Wi(e,"visibility")==="hidden"&&u&&(d=0),A.push("visibility",0,o.visibility),or(this,o,"visibility",d?"inherit":"hidden",u?"inherit":"hidden",!u)),f!=="scale"&&f!=="transform"&&(f=Pi[f],~f.indexOf(",")&&(f=f.split(",")[0]))),v=f in $i,v){if(this.styles.save(f),x||(w=e._gsap,w.renderTransform&&!t.parseTransform||qs(e,t.parseTransform),T=t.smoothOrigin!==!1&&w.smooth,x=this._pt=new It(this._pt,o,Oe,0,1,w.renderTransform,w,0,-1),x.dep=1),f==="scale")this._pt=new It(this._pt,w,"scaleY",w.scaleY,(m?ss(w.scaleY,m+u):u)-w.scaleY||0,Bo),this._pt.u=0,a.push("scaleY",f),f+="X";else if(f==="transformOrigin"){A.push(Nt,0,o[Nt]),c=bf(c),w.svg?Ho(e,c,0,T,0,this):(b=parseFloat(c.split(" ")[2])||0,b!==w.zOrigin&&or(this,w,"zOrigin",w.zOrigin,b),or(this,o,f,ea(h),ea(c)));continue}else if(f==="svgOrigin"){Ho(e,c,1,T,0,this);continue}else if(f in Sc){Tf(this,w,f,d,m?ss(d,m+c):c);continue}else if(f==="smoothOrigin"){or(this,w,"smooth",w.smooth,c);continue}else if(f==="force3D"){w[f]=c;continue}else if(f==="transform"){kf(this,c,e);continue}}else f in o||(f=ds(f)||f);if(v||(u||u===0)&&(d||d===0)&&!nf.test(c)&&f in o)y=(h+"").substr((d+"").length),u||(u=0),b=gt(c)||(f in Bt.units?Bt.units[f]:y),y!==b&&(d=lr(e,f,h,b)),this._pt=new It(this._pt,v?w:o,f,d,(m?ss(d,m+u):u)-d,!v&&(b==="px"||f==="zIndex")&&t.autoRound!==!1?lf:Bo),this._pt.u=b||0,y!==b&&b!=="%"&&(this._pt.b=h,this._pt.r=of);else if(f in o)yf.call(this,e,f,h,m?m+c:c);else if(f in e)this.add(e,f,h||e[f],m?m+c:c,r,n);else if(f!=="parseTransform"){go(f,c);continue}v||(f in o?A.push(f,0,o[f]):A.push(f,1,h||e[f])),a.push(f)}}k&&lc(this)},render:function(e,t){if(t.tween._time||!Vo())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:Wi,aliases:Pi,getSetter:function(e,t,i){var r=Pi[t];return r&&r.indexOf(",")<0&&(t=r),t in $i&&t!==Nt&&(e._gsap.x||Wi(e,"x"))?i&&dc===i?t==="scale"?df:uf:(dc=i||{})&&(t==="scale"?pf:ff):e.style&&!lo(e.style[t])?hf:~t.indexOf("-")?cf:Lo(e,t)},core:{_removeProperty:Rr,_getMatrix:jo}};Ft.utils.checkPrefix=ds,Ft.core.getStyleSaver=_c,function(s,e,t,i){var r=zt(s+","+e+","+t,function(n){$i[n]=1});zt(e,function(n){Bt.units[n]="deg",Sc[n]=1}),Pi[r[13]]=s+","+e,zt(i,function(n){var a=n.split(":");Pi[a[1]]=r[a[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY"),zt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(s){Bt.units[s]="px"}),Ft.registerPlugin(Mc);var ie=Ft.registerPlugin(Mc)||Ft;ie.core.Tween;/*!
 * paths 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Sf=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,Pf=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig,Ef=Math.PI/180,ta=Math.sin,ia=Math.cos,Hs=Math.abs,Ys=Math.sqrt,Cf=function(e){return typeof e=="number"},Rc=1e5,hr=function(e){return Math.round(e*Rc)/Rc||0};function Af(s,e,t,i,r,n,a){for(var o=s.length,l,h,c,u,d;--o>-1;)for(l=s[o],h=l.length,c=0;c<h;c+=2)u=l[c],d=l[c+1],l[c]=u*e+d*i+n,l[c+1]=u*t+d*r+a;return s._dirty=1,s}function Mf(s,e,t,i,r,n,a,o,l){if(!(s===o&&e===l)){t=Hs(t),i=Hs(i);var h=r%360*Ef,c=ia(h),u=ta(h),d=Math.PI,p=d*2,g=(s-o)/2,f=(e-l)/2,y=c*g+u*f,b=-u*g+c*f,m=y*y,v=b*b,x=m/(t*t)+v/(i*i);x>1&&(t=Ys(x)*t,i=Ys(x)*i);var w=t*t,T=i*i,k=(w*T-w*v-T*m)/(w*v+T*m);k<0&&(k=0);var A=(n===a?-1:1)*Ys(k),E=A*(t*b/i),P=A*-(i*y/t),R=(s+o)/2,M=(e+l)/2,N=R+(c*E-u*P),z=M+(u*E+c*P),O=(y-E)/t,L=(b-P)/i,U=(-y-E)/t,G=(-b-P)/i,ue=O*O+L*L,S=(L<0?-1:1)*Math.acos(O/Ys(ue)),Q=(O*G-L*U<0?-1:1)*Math.acos((O*U+L*G)/Ys(ue*(U*U+G*G)));isNaN(Q)&&(Q=d),!a&&Q>0?Q-=p:a&&Q<0&&(Q+=p),S%=p,Q%=p;var ge=Math.ceil(Hs(Q)/(p/4)),Ae=[],le=Q/ge,Z=4/3*ta(le/2)/(1+ia(le/2)),te=c*t,be=u*t,xe=u*-i,Ne=c*i,me;for(me=0;me<ge;me++)r=S+me*le,y=ia(r),b=ta(r),O=ia(r+=le),L=ta(r),Ae.push(y-Z*b,b+Z*y,O+Z*L,L-Z*O,O,L);for(me=0;me<Ae.length;me+=2)y=Ae[me],b=Ae[me+1],Ae[me]=y*te+b*xe+N,Ae[me+1]=y*be+b*Ne+z;return Ae[me-2]=o,Ae[me-1]=l,Ae}}function Rf(s){var e=(s+"").replace(Pf,function(E){var P=+E;return P<1e-4&&P>-1e-4?0:P}).match(Sf)||[],t=[],i=0,r=0,n=2/3,a=e.length,o=0,l="ERROR: malformed path: "+s,h,c,u,d,p,g,f,y,b,m,v,x,w,T,k,A=function(P,R,M,N){m=(M-P)/3,v=(N-R)/3,f.push(P+m,R+v,M-m,N-v,M,N)};if(!s||!isNaN(e[0])||isNaN(e[1]))return console.log(l),t;for(h=0;h<a;h++)if(w=p,isNaN(e[h])?(p=e[h].toUpperCase(),g=p!==e[h]):h--,u=+e[h+1],d=+e[h+2],g&&(u+=i,d+=r),h||(y=u,b=d),p==="M")f&&(f.length<8?t.length-=1:o+=f.length),i=y=u,r=b=d,f=[u,d],t.push(f),h+=2,p="L";else if(p==="C")f||(f=[0,0]),g||(i=r=0),f.push(u,d,i+e[h+3]*1,r+e[h+4]*1,i+=e[h+5]*1,r+=e[h+6]*1),h+=6;else if(p==="S")m=i,v=r,(w==="C"||w==="S")&&(m+=i-f[f.length-4],v+=r-f[f.length-3]),g||(i=r=0),f.push(m,v,u,d,i+=e[h+3]*1,r+=e[h+4]*1),h+=4;else if(p==="Q")m=i+(u-i)*n,v=r+(d-r)*n,g||(i=r=0),i+=e[h+3]*1,r+=e[h+4]*1,f.push(m,v,i+(u-i)*n,r+(d-r)*n,i,r),h+=4;else if(p==="T")m=i-f[f.length-4],v=r-f[f.length-3],f.push(i+m,r+v,u+(i+m*1.5-u)*n,d+(r+v*1.5-d)*n,i=u,r=d),h+=2;else if(p==="H")A(i,r,i=u,r),h+=1;else if(p==="V")A(i,r,i,r=u+(g?r-i:0)),h+=1;else if(p==="L"||p==="Z")p==="Z"&&(u=y,d=b,f.closed=!0),(p==="L"||Hs(i-u)>.5||Hs(r-d)>.5)&&(A(i,r,u,d),p==="L"&&(h+=2)),i=u,r=d;else if(p==="A"){if(T=e[h+4],k=e[h+5],m=e[h+6],v=e[h+7],c=7,T.length>1&&(T.length<3?(v=m,m=k,c--):(v=k,m=T.substr(2),c-=2),k=T.charAt(1),T=T.charAt(0)),x=Mf(i,r,+e[h+1],+e[h+2],+e[h+3],+T,+k,(g?i:0)+m*1,(g?r:0)+v*1),h+=c,x)for(c=0;c<x.length;c++)f.push(x[c]);i=f[f.length-2],r=f[f.length-1]}else console.log(l);return h=f.length,h<6?(t.pop(),h=0):f[0]===f[h-2]&&f[1]===f[h-1]&&(f.closed=!0),t.totalPoints=o+h,t}function Of(s){Cf(s[0])&&(s=[s]);var e="",t=s.length,i,r,n,a;for(r=0;r<t;r++){for(a=s[r],e+="M"+hr(a[0])+","+hr(a[1])+" C",i=a.length,n=2;n<i;n++)e+=hr(a[n++])+","+hr(a[n++])+" "+hr(a[n++])+","+hr(a[n++])+" "+hr(a[n++])+","+hr(a[n])+" ";a.closed&&(e+="z")}return e}/*!
 * CustomEase 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Vt,Oc,Lc=function(){return Vt||typeof window<"u"&&(Vt=window.gsap)&&Vt.registerPlugin&&Vt},Dc=function(){Vt=Lc(),Vt?(Vt.registerEase("_CE",Xs.create),Oc=1):console.warn("Please gsap.registerPlugin(CustomEase)")},Lf=1e20,ra=function(e){return~~(e*1e3+(e<0?-.5:.5))/1e3},Df=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/gi,zf=/[cLlsSaAhHvVtTqQ]/g,If=function(e){var t=e.length,i=Lf,r;for(r=1;r<t;r+=6)+e[r]<i&&(i=+e[r]);return i},Ff=function(e,t,i){!i&&i!==0&&(i=Math.max(+e[e.length-1],+e[1]));var r=+e[0]*-1,n=-i,a=e.length,o=1/(+e[a-2]+r),l=-t||(Math.abs(+e[a-1]-+e[1])<.01*(+e[a-2]-+e[0])?If(e)+n:+e[a-1]+n),h;for(l?l=1/l:l=-o,h=0;h<a;h+=2)e[h]=(+e[h]+r)*o,e[h+1]=(+e[h+1]+n)*l},Nf=function s(e,t,i,r,n,a,o,l,h,c,u){var d=(e+i)/2,p=(t+r)/2,g=(i+n)/2,f=(r+a)/2,y=(n+o)/2,b=(a+l)/2,m=(d+g)/2,v=(p+f)/2,x=(g+y)/2,w=(f+b)/2,T=(m+x)/2,k=(v+w)/2,A=o-e,E=l-t,P=Math.abs((i-o)*E-(r-l)*A),R=Math.abs((n-o)*E-(a-l)*A),M;return c||(c=[{x:e,y:t},{x:o,y:l}],u=1),c.splice(u||c.length-1,0,{x:T,y:k}),(P+R)*(P+R)>h*(A*A+E*E)&&(M=c.length,s(e,t,d,p,m,v,T,k,h,c,u),s(T,k,x,w,y,b,o,l,h,c,u+1+(c.length-M))),c},Xs=function(){function s(t,i,r){Oc||Dc(),this.id=t,this.setData(i,r)}var e=s.prototype;return e.setData=function(i,r){r=r||{},i=i||"0,0,1,1";var n=i.match(Df),a=1,o=[],l=[],h=r.precision||1,c=h<=1,u,d,p,g,f,y,b,m,v;if(this.data=i,(zf.test(i)||~i.indexOf("M")&&i.indexOf("C")<0)&&(n=Rf(i)[0]),u=n.length,u===4)n.unshift(0,0),n.push(1,1),u=8;else if((u-2)%6)throw"Invalid CustomEase";for((+n[0]!=0||+n[u-2]!=1)&&Ff(n,r.height,r.originY),this.segment=n,g=2;g<u;g+=6)d={x:+n[g-2],y:+n[g-1]},p={x:+n[g+4],y:+n[g+5]},o.push(d,p),Nf(d.x,d.y,+n[g],+n[g+1],+n[g+2],+n[g+3],p.x,p.y,1/(h*2e5),o,o.length-1);for(u=o.length,g=0;g<u;g++)b=o[g],m=o[g-1]||b,(b.x>m.x||m.y!==b.y&&m.x===b.x||b===m)&&b.x<=1?(m.cx=b.x-m.x,m.cy=b.y-m.y,m.n=b,m.nx=b.x,c&&g>1&&Math.abs(m.cy/m.cx-o[g-2].cy/o[g-2].cx)>2&&(c=0),m.cx<a&&(m.cx?a=m.cx:(m.cx=.001,g===u-1&&(m.x-=.001,a=Math.min(a,.001),c=0)))):(o.splice(g--,1),u--);if(u=1/a+1|0,f=1/u,y=0,b=o[0],c){for(g=0;g<u;g++)v=g*f,b.nx<v&&(b=o[++y]),d=b.y+(v-b.x)/b.cx*b.cy,l[g]={x:v,cx:f,y:d,cy:0,nx:9},g&&(l[g-1].cy=d-l[g-1].y);l[u-1].cy=o[o.length-1].y-d}else{for(g=0;g<u;g++)b.nx<g*f&&(b=o[++y]),l[g]=b;y<o.length-1&&(l[g-1]=o[o.length-2])}return this.ease=function(x){var w=l[x*u|0]||l[u-1];return w.nx<x&&(w=w.n),w.y+(x-w.x)/w.cx*w.cy},this.ease.custom=this,this.id&&Vt&&Vt.registerEase(this.id,this.ease),this},e.getSVGData=function(i){return s.getSVGData(this,i)},s.create=function(i,r,n){return new s(i,r,n).ease},s.register=function(i){Vt=i,Dc()},s.get=function(i){return Vt.parseEase(i)},s.getSVGData=function(i,r){r=r||{};var n=r.width||100,a=r.height||100,o=r.x||0,l=(r.y||0)+a,h=Vt.utils.toArray(r.path)[0],c,u,d,p,g,f,y,b,m,v;if(r.invert&&(a=-a,l=0),typeof i=="string"&&(i=Vt.parseEase(i)),i.custom&&(i=i.custom),i instanceof s)c=Of(Af([i.segment],n,0,0,-a,o,l));else{for(c=[o,l],y=Math.max(5,(r.precision||1)*200),p=1/y,y+=2,b=5/y,m=ra(o+p*n),v=ra(l+i(p)*-a),u=(v-l)/(m-o),d=2;d<y;d++)g=ra(o+d*p*n),f=ra(l+i(d*p)*-a),(Math.abs((f-v)/(g-m)-u)>b||d===y-1)&&(c.push(m,v),u=(f-v)/(g-m)),m=g,v=f;c="M"+c.join(",")}return h&&h.setAttribute("d",c),c},s}();Lc()&&Vt.registerPlugin(Xs),Xs.version="3.12.5",ie.registerPlugin(Xs);function Vf(){if(localStorage.getItem("visited")!=="true"){localStorage.setItem("visited","true"),document.querySelector(".page-loader_main").style.display="block",document.querySelector(".page-transition").style.display="none";let s=Xs.create("loaderEase","M0,0,C0.104,0.204,0.492,1,1,1"),e=4,t=ie.timeline({onComplete:()=>{console.log("Loading complete!"),Uf(()=>{document.querySelector(".page-loader_btn").click()})}});t.fromTo(".loader-svg-front",{strokeDashoffset:110},{strokeDashoffset:0,duration:e,ease:s});const i=["TOPSPHERE","DYNAMIC","GLOBAL"],r=e/i.length*.8,n=e/i.length*.2;i.forEach((a,o)=>{t.to("[loader-text='dynamic']",{scrambleText:{text:a,chars:"upperCase",speed:.75,revealDelay:.1,tweenLength:!1,newClass:"scrambled"},duration:r,ease:"none"},o*(r+n))})}else ie.set(".page-loader_main",{display:"none"}),ie.set(".page-loader_main",{display:"none"}),ie.set(".page-transition",{height:"100%",position:"fixed",left:"0%",top:"auto",right:"0%",bottom:"0%"}),ie.to(".page-transition",{height:0,duration:1,ease:"expo.inOut",onComplete:()=>{document.querySelector(".page-transition_btn").click()}})}function Uf(s){let e=ie.timeline({onComplete:s});e.to("[loader-text='dynamic'], [loader-text='static']",{y:-100,duration:1,ease:"power3.inOut"}),e.to(".page_loader-signal-wrap",{opacity:0,y:100,duration:1,ease:"power3.inOut"},"-=1"),e.to(".page-loader_main",{height:0,duration:1.2,ease:"expo.inOut"},"-=0.8"),e.to(".page-loader_main",{display:"none",duration:0})}let Xo=0;function X(){if(!(Xo>100)){if(Xo===100)console.warn("Curtains: too many warnings thrown, stop logging.");else{const s=Array.prototype.slice.call(arguments);console.warn.apply(console,s)}Xo++}}function kt(){const s=Array.prototype.slice.call(arguments);console.error.apply(console,s)}function zc(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{let e=Math.random()*16|0;return(s==="x"?e:e&3|8).toString(16).toUpperCase()})}function Ci(s){return(s&s-1)===0}function Bf(s,e,t){return(1-t)*s+t*e}class $f{constructor(e){if(this.type="Scene",!e||e.type!=="Renderer")kt(this.type+": Renderer not passed as first argument",e);else if(!e.gl){kt(this.type+": Renderer WebGL context is undefined",e);return}this.renderer=e,this.gl=e.gl,this.initStacks()}initStacks(){this.stacks={pingPong:[],renderTargets:[],opaque:[],transparent:[],renderPasses:[],scenePasses:[]}}resetPlaneStacks(){this.stacks.pingPong=[],this.stacks.renderTargets=[],this.stacks.opaque=[],this.stacks.transparent=[];for(let e=0;e<this.renderer.planes.length;e++)this.addPlane(this.renderer.planes[e])}resetShaderPassStacks(){this.stacks.scenePasses=[],this.stacks.renderPasses=[];for(let e=0;e<this.renderer.shaderPasses.length;e++)this.renderer.shaderPasses[e].index=e,this.renderer.shaderPasses[e]._isScenePass?this.stacks.scenePasses.push(this.renderer.shaderPasses[e]):this.stacks.renderPasses.push(this.renderer.shaderPasses[e]);this.stacks.scenePasses.length===0&&(this.renderer.state.scenePassIndex=null)}addToRenderTargetsStack(e){const t=this.renderer.planes.filter(r=>r.type!=="PingPongPlane"&&r.target&&r.uuid!==e.uuid);let i=-1;if(e.target._depth){for(let r=t.length-1;r>=0;r--)if(t[r].target.uuid===e.target.uuid){i=r+1;break}}else i=t.findIndex(r=>r.target.uuid===e.target.uuid);i=Math.max(0,i),t.splice(i,0,e),e.target._depth?(t.sort((r,n)=>r.index-n.index),t.sort((r,n)=>n.renderOrder-r.renderOrder)):(t.sort((r,n)=>n.index-r.index),t.sort((r,n)=>r.renderOrder-n.renderOrder)),t.sort((r,n)=>r.target.index-n.target.index),this.stacks.renderTargets=t}addToRegularPlaneStack(e){const t=this.renderer.planes.filter(r=>r.type!=="PingPongPlane"&&!r.target&&r._transparent===e._transparent&&r.uuid!==e.uuid);let i=-1;for(let r=t.length-1;r>=0;r--)if(t[r]._geometry.definition.id===e._geometry.definition.id){i=r+1;break}return i=Math.max(0,i),t.splice(i,0,e),t.sort((r,n)=>r.index-n.index),t}addPlane(e){if(e.type==="PingPongPlane")this.stacks.pingPong.push(e);else if(e.target)this.addToRenderTargetsStack(e);else if(e._transparent){const t=this.addToRegularPlaneStack(e);t.sort((i,r)=>r.relativeTranslation.z-i.relativeTranslation.z),t.sort((i,r)=>r.renderOrder-i.renderOrder),this.stacks.transparent=t}else{const t=this.addToRegularPlaneStack(e);t.sort((i,r)=>r.renderOrder-i.renderOrder),this.stacks.opaque=t}}removePlane(e){e.type==="PingPongPlane"?this.stacks.pingPong=this.stacks.pingPong.filter(t=>t.uuid!==e.uuid):e.target?this.stacks.renderTargets=this.stacks.renderTargets.filter(t=>t.uuid!==e.uuid):e._transparent?this.stacks.transparent=this.stacks.transparent.filter(t=>t.uuid!==e.uuid):this.stacks.opaque=this.stacks.opaque.filter(t=>t.uuid!==e.uuid)}setPlaneRenderOrder(e){if(e.type==="ShaderPass")this.sortShaderPassStack(e._isScenePass?this.stacks.scenePasses:this.stacks.renderPasses);else if(e.type==="PingPongPlane")return;if(e.target)e.target._depth?(this.stacks.renderTargets.sort((t,i)=>t.index-i.index),this.stacks.renderTargets.sort((t,i)=>i.renderOrder-t.renderOrder)):(this.stacks.renderTargets.sort((t,i)=>i.index-t.index),this.stacks.renderTargets.sort((t,i)=>t.renderOrder-i.renderOrder)),this.stacks.renderTargets.sort((t,i)=>t.target.index-i.target.index);else{const t=e._transparent?this.stacks.transparent:this.stacks.opaque,i=this.stacks.scenePasses.find((r,n)=>r._isScenePass&&!r._depth&&n===0);!this.renderer.depth||i?(t.sort((r,n)=>n.index-r.index),e._transparent&&t.sort((r,n)=>r.relativeTranslation.z-n.relativeTranslation.z),t.sort((r,n)=>r.renderOrder-n.renderOrder)):(t.sort((r,n)=>r.index-n.index),e._transparent&&t.sort((r,n)=>n.relativeTranslation.z-r.relativeTranslation.z),t.sort((r,n)=>n.renderOrder-r.renderOrder))}}addShaderPass(e){e._isScenePass?(this.stacks.scenePasses.push(e),this.sortShaderPassStack(this.stacks.scenePasses)):(this.stacks.renderPasses.push(e),this.sortShaderPassStack(this.stacks.renderPasses))}removeShaderPass(e){this.resetShaderPassStacks()}sortShaderPassStack(e){e.sort((t,i)=>t.index-i.index),e.sort((t,i)=>t.renderOrder-i.renderOrder)}enableShaderPass(){this.stacks.scenePasses.length&&this.stacks.renderPasses.length===0&&this.renderer.planes.length&&(this.renderer.state.scenePassIndex=0,this.renderer.bindFrameBuffer(this.stacks.scenePasses[0].target))}drawRenderPasses(){this.stacks.scenePasses.length&&this.stacks.renderPasses.length&&this.renderer.planes.length&&(this.renderer.state.scenePassIndex=0,this.renderer.bindFrameBuffer(this.stacks.scenePasses[0].target));for(let e=0;e<this.stacks.renderPasses.length;e++)this.stacks.renderPasses[e]._startDrawing(),this.renderer.clearDepth()}drawScenePasses(){for(let e=0;e<this.stacks.scenePasses.length;e++)this.stacks.scenePasses[e]._startDrawing()}drawPingPongStack(){for(let e=0;e<this.stacks.pingPong.length;e++){const t=this.stacks.pingPong[e];t&&t._startDrawing()}}drawStack(e){for(let t=0;t<this.stacks[e].length;t++){const i=this.stacks[e][t];i&&i._startDrawing()}}draw(){this.drawPingPongStack(),this.enableShaderPass(),this.drawStack("renderTargets"),this.drawRenderPasses(),this.renderer.setBlending(!1),this.drawStack("opaque"),this.stacks.transparent.length&&(this.renderer.setBlending(!0),this.drawStack("transparent")),this.drawScenePasses()}}class Wf{constructor(){this.geometries=[],this.clear()}clear(){this.textures=[],this.programs=[]}getGeometryFromID(e){return this.geometries.find(t=>t.id===e)}addGeometry(e,t,i){this.geometries.push({id:e,vertices:t,uvs:i})}isSameShader(e,t){return e.localeCompare(t)===0}getProgramFromShaders(e,t){return this.programs.find(i=>this.isSameShader(i.vsCode,e)&&this.isSameShader(i.fsCode,t))}addProgram(e){this.programs.push(e)}getTextureFromSource(e){const t=typeof e=="string"?e:e.src;return this.textures.find(i=>i.source&&i.source.src===t)}addTexture(e){this.getTextureFromSource(e.source)||this.textures.push(e)}removeTexture(e){this.textures=this.textures.filter(t=>t.uuid!==e.uuid)}}class qf{constructor(){this.clear()}clear(){this.queue=[]}add(e,t=!1){const i={callback:e,keep:t,timeout:null};return i.timeout=setTimeout(()=>{this.queue.push(i)},0),i}execute(){this.queue.map(e=>{e.callback&&e.callback(),clearTimeout(this.queue.timeout)}),this.queue=this.queue.filter(e=>e.keep)}}class jf{constructor({alpha:e,antialias:t,premultipliedAlpha:i,depth:r,failIfMajorPerformanceCaveat:n,preserveDrawingBuffer:a,stencil:o,container:l,pixelRatio:h,renderingScale:c,production:u,onError:d,onSuccess:p,onContextLost:g,onContextRestored:f,onDisposed:y,onSceneChange:b}){this.type="Renderer",this.alpha=e,this.antialias=t,this.premultipliedAlpha=i,this.depth=r,this.failIfMajorPerformanceCaveat=n,this.preserveDrawingBuffer=a,this.stencil=o,this.container=l,this.pixelRatio=h,this._renderingScale=c,this.production=u,this.onError=d,this.onSuccess=p,this.onContextLost=g,this.onContextRestored=f,this.onDisposed=y,this.onSceneChange=b,this.initState(),this.canvas=document.createElement("canvas");const m={alpha:this.alpha,premultipliedAlpha:this.premultipliedAlpha,antialias:this.antialias,depth:this.depth,failIfMajorPerformanceCaveat:this.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.preserveDrawingBuffer,stencil:this.stencil};if(this.gl=this.canvas.getContext("webgl2",m),this._isWebGL2=!!this.gl,this.gl||(this.gl=this.canvas.getContext("webgl",m)||this.canvas.getContext("experimental-webgl",m)),this.gl)this.onSuccess&&this.onSuccess();else{this.production||X(this.type+": WebGL context could not be created"),this.state.isActive=!1,this.onError&&this.onError();return}this.initRenderer()}initState(){this.state={isActive:!0,isContextLost:!0,drawingEnabled:!0,forceRender:!1,currentProgramID:null,currentGeometryID:null,forceBufferUpdate:!1,depthTest:null,blending:null,cullFace:null,frameBufferID:null,scenePassIndex:null,activeTexture:null,unpackAlignment:null,flipY:null,premultiplyAlpha:null}}initCallbackQueueManager(){this.nextRender=new qf}initRenderer(){this.planes=[],this.renderTargets=[],this.shaderPasses=[],this.state.isContextLost=!1,this.state.maxTextureSize=this.gl.getParameter(this.gl.MAX_TEXTURE_SIZE),this.initCallbackQueueManager(),this.setBlendFunc(),this.setDepthFunc(),this.setDepthTest(!0),this.cache=new Wf,this.scene=new $f(this),this.getExtensions(),this._contextLostHandler=this.contextLost.bind(this),this.canvas.addEventListener("webglcontextlost",this._contextLostHandler,!1),this._contextRestoredHandler=this.contextRestored.bind(this),this.canvas.addEventListener("webglcontextrestored",this._contextRestoredHandler,!1)}getExtensions(){this.extensions=[],this._isWebGL2?(this.extensions.EXT_color_buffer_float=this.gl.getExtension("EXT_color_buffer_float"),this.extensions.OES_texture_float_linear=this.gl.getExtension("OES_texture_float_linear"),this.extensions.EXT_texture_filter_anisotropic=this.gl.getExtension("EXT_texture_filter_anisotropic"),this.extensions.WEBGL_lose_context=this.gl.getExtension("WEBGL_lose_context")):(this.extensions.OES_vertex_array_object=this.gl.getExtension("OES_vertex_array_object"),this.extensions.OES_texture_float=this.gl.getExtension("OES_texture_float"),this.extensions.OES_texture_float_linear=this.gl.getExtension("OES_texture_float_linear"),this.extensions.OES_texture_half_float=this.gl.getExtension("OES_texture_half_float"),this.extensions.OES_texture_half_float_linear=this.gl.getExtension("OES_texture_half_float_linear"),this.extensions.EXT_texture_filter_anisotropic=this.gl.getExtension("EXT_texture_filter_anisotropic"),this.extensions.OES_element_index_uint=this.gl.getExtension("OES_element_index_uint"),this.extensions.OES_standard_derivatives=this.gl.getExtension("OES_standard_derivatives"),this.extensions.EXT_sRGB=this.gl.getExtension("EXT_sRGB"),this.extensions.WEBGL_depth_texture=this.gl.getExtension("WEBGL_depth_texture"),this.extensions.WEBGL_draw_buffers=this.gl.getExtension("WEBGL_draw_buffers"),this.extensions.WEBGL_lose_context=this.gl.getExtension("WEBGL_lose_context"))}contextLost(e){this.state.isContextLost=!0,this.state.isActive&&(e.preventDefault(),this.nextRender.add(()=>this.onContextLost&&this.onContextLost()))}restoreContext(){this.state.isActive&&(this.initState(),this.gl&&this.extensions.WEBGL_lose_context?this.extensions.WEBGL_lose_context.restoreContext():(!this.gl&&!this.production?X(this.type+": Could not restore the context because the context is not defined"):!this.extensions.WEBGL_lose_context&&!this.production&&X(this.type+": Could not restore the context because the restore context extension is not defined"),this.onError&&this.onError()))}isContextexFullyRestored(){let e=!0;for(let t=0;t<this.renderTargets.length;t++){this.renderTargets[t].textures[0]._canDraw||(e=!1);break}if(e)for(let t=0;t<this.planes.length;t++)if(this.planes[t]._canDraw){for(let i=0;i<this.planes[t].textures.length;i++)if(!this.planes[t].textures[i]._canDraw){e=!1;break}}else{e=!1;break}if(e)for(let t=0;t<this.shaderPasses.length;t++)if(this.shaderPasses[t]._canDraw){for(let i=0;i<this.shaderPasses[t].textures.length;i++)if(!this.shaderPasses[t].textures[i]._canDraw){e=!1;break}}else{e=!1;break}return e}contextRestored(){this.getExtensions(),this.setBlendFunc(),this.setDepthFunc(),this.setDepthTest(!0),this.cache.clear(),this.scene.initStacks();for(let t=0;t<this.renderTargets.length;t++)this.renderTargets[t]._restoreContext();for(let t=0;t<this.planes.length;t++)this.planes[t]._restoreContext();for(let t=0;t<this.shaderPasses.length;t++)this.shaderPasses[t]._restoreContext();const e=this.nextRender.add(()=>{this.isContextexFullyRestored()&&(e.keep=!1,this.state.isContextLost=!1,this.onContextRestored&&this.onContextRestored(),this.onSceneChange(),this.needRender())},!0)}setPixelRatio(e){this.pixelRatio=e}setSize(){if(!this.gl)return;const e=this.container.getBoundingClientRect();this._boundingRect={width:e.width*this.pixelRatio,height:e.height*this.pixelRatio,top:e.top*this.pixelRatio,left:e.left*this.pixelRatio};const t=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),i=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;if(t&&i){let r=function(n){let a=0;for(;n&&!isNaN(n.offsetTop);)a+=n.offsetTop-n.scrollTop,n=n.offsetParent;return a};this._boundingRect.top=r(this.container)*this.pixelRatio}this.canvas.style.width=Math.floor(this._boundingRect.width/this.pixelRatio)+"px",this.canvas.style.height=Math.floor(this._boundingRect.height/this.pixelRatio)+"px",this.canvas.width=Math.floor(this._boundingRect.width*this._renderingScale),this.canvas.height=Math.floor(this._boundingRect.height*this._renderingScale),this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}resize(){for(let e=0;e<this.planes.length;e++)this.planes[e]._canDraw&&this.planes[e].resize();for(let e=0;e<this.shaderPasses.length;e++)this.shaderPasses[e]._canDraw&&this.shaderPasses[e].resize();for(let e=0;e<this.renderTargets.length;e++)this.renderTargets[e].resize();this.needRender()}clear(){this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}clearDepth(){this.gl.clear(this.gl.DEPTH_BUFFER_BIT)}clearColor(){this.gl.clear(this.gl.COLOR_BUFFER_BIT)}bindFrameBuffer(e,t){let i=null;e?(i=e.index,i!==this.state.frameBufferID&&(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,e._frameBuffer),this.gl.viewport(0,0,e._size.width,e._size.height),e._shouldClear&&!t&&this.clear())):this.state.frameBufferID!==null&&(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)),this.state.frameBufferID=i}setDepthTest(e){e&&!this.state.depthTest?(this.state.depthTest=e,this.gl.enable(this.gl.DEPTH_TEST)):!e&&this.state.depthTest&&(this.state.depthTest=e,this.gl.disable(this.gl.DEPTH_TEST))}setDepthFunc(){this.gl.depthFunc(this.gl.LEQUAL)}setBlending(e=!1){e&&!this.state.blending?(this.state.blending=e,this.gl.enable(this.gl.BLEND)):!e&&this.state.blending&&(this.state.blending=e,this.gl.disable(this.gl.BLEND))}setBlendFunc(){this.gl.enable(this.gl.BLEND),this.premultipliedAlpha?this.gl.blendFuncSeparate(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.gl.blendFuncSeparate(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA)}setFaceCulling(e){if(this.state.cullFace!==e)if(this.state.cullFace=e,e==="none")this.gl.disable(this.gl.CULL_FACE);else{const t=e==="front"?this.gl.FRONT:this.gl.BACK;this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(t)}}useProgram(e){(this.state.currentProgramID===null||this.state.currentProgramID!==e.id)&&(this.gl.useProgram(e.program),this.state.currentProgramID=e.id)}removePlane(e){this.gl&&(this.planes=this.planes.filter(t=>t.uuid!==e.uuid),this.scene.removePlane(e),e=null,this.gl&&this.clear(),this.onSceneChange())}removeRenderTarget(e){if(!this.gl)return;let t=this.planes.find(i=>i.type!=="PingPongPlane"&&i.target&&i.target.uuid===e.uuid);for(let i=0;i<this.planes.length;i++)this.planes[i].target&&this.planes[i].target.uuid===e.uuid&&(this.planes[i].target=null);this.renderTargets=this.renderTargets.filter(i=>i.uuid!==e.uuid);for(let i=0;i<this.renderTargets.length;i++)this.renderTargets[i].index=i;e=null,this.gl&&this.clear(),t&&this.scene.resetPlaneStacks(),this.onSceneChange()}removeShaderPass(e){this.gl&&(this.shaderPasses=this.shaderPasses.filter(t=>t.uuid!==e.uuid),this.scene.removeShaderPass(e),e=null,this.gl&&this.clear(),this.onSceneChange())}enableDrawing(){this.state.drawingEnabled=!0}disableDrawing(){this.state.drawingEnabled=!1}needRender(){this.state.forceRender=!0}render(){this.gl&&(this.clear(),this.state.currentGeometryID=null,this.scene.draw())}deletePrograms(){for(let e=0;e<this.cache.programs.length;e++){const t=this.cache.programs[e];this.gl.deleteProgram(t.program)}}dispose(){if(!this.gl)return;for(this.state.isActive=!1;this.planes.length>0;)this.removePlane(this.planes[0]);for(;this.shaderPasses.length>0;)this.removeShaderPass(this.shaderPasses[0]);for(;this.renderTargets.length>0;)this.removeRenderTarget(this.renderTargets[0]);let e=this.nextRender.add(()=>{this.planes.length===0&&this.shaderPasses.length===0&&this.renderTargets.length===0&&(e.keep=!1,this.deletePrograms(),this.clear(),this.canvas.removeEventListener("webgllost",this._contextLostHandler,!1),this.canvas.removeEventListener("webglrestored",this._contextRestoredHandler,!1),this.gl&&this.extensions.WEBGL_lose_context&&this.extensions.WEBGL_lose_context.loseContext(),this.canvas.width=this.canvas.width,this.gl=null,this.container.removeChild(this.canvas),this.container=null,this.canvas=null,this.onDisposed&&this.onDisposed())},!0)}}class Hf{constructor({xOffset:e=0,yOffset:t=0,lastXDelta:i=0,lastYDelta:r=0,shouldWatch:n=!0,onScroll:a=()=>{}}={}){this.xOffset=e,this.yOffset=t,this.lastXDelta=i,this.lastYDelta=r,this.shouldWatch=n,this.onScroll=a,this.handler=this.scroll.bind(this,!0),this.shouldWatch&&window.addEventListener("scroll",this.handler,{passive:!0})}scroll(){this.updateScrollValues(window.pageXOffset,window.pageYOffset)}updateScrollValues(e,t){const i=this.xOffset;this.xOffset=e,this.lastXDelta=i-this.xOffset;const r=this.yOffset;this.yOffset=t,this.lastYDelta=r-this.yOffset,this.onScroll&&this.onScroll(this.lastXDelta,this.lastYDelta)}dispose(){this.shouldWatch&&window.removeEventListener("scroll",this.handler,{passive:!0})}}const Yf="8.1.5";class Xf{constructor({container:e,alpha:t=!0,premultipliedAlpha:i=!1,antialias:r=!0,depth:n=!0,failIfMajorPerformanceCaveat:a=!0,preserveDrawingBuffer:o=!1,stencil:l=!1,autoResize:h=!0,autoRender:c=!0,watchScroll:u=!0,pixelRatio:d=window.devicePixelRatio||1,renderingScale:p=1,production:g=!1}={}){this.type="Curtains",this._autoResize=h,this._autoRender=c,this._watchScroll=u,this.pixelRatio=d,p=isNaN(p)?1:parseFloat(p),this._renderingScale=Math.max(.25,Math.min(1,p)),this.premultipliedAlpha=i,this.alpha=t,this.antialias=r,this.depth=n,this.failIfMajorPerformanceCaveat=a,this.preserveDrawingBuffer=o,this.stencil=l,this.production=g,this.errors=!1,e?this.setContainer(e):this.production||X(this.type+": no container provided in the initial parameters. Use setContainer() method to set one later and initialize the WebGL context")}setContainer(e){if(e)if(typeof e=="string")if(e=document.getElementById(e),e)this.container=e;else{let t=document.createElement("div");t.setAttribute("id","curtains-canvas"),document.body.appendChild(t),this.container=t,this.production||X('Curtains: no valid container HTML element or ID provided, created a div with "curtains-canvas" ID instead')}else e instanceof Element&&(this.container=e);else{let t=document.createElement("div");t.setAttribute("id","curtains-canvas"),document.body.appendChild(t),this.container=t,this.production||X('Curtains: no valid container HTML element or ID provided, created a div with "curtains-canvas" ID instead')}this._initCurtains()}_initCurtains(){this.planes=[],this.renderTargets=[],this.shaderPasses=[],this._initRenderer(),this.gl&&(this._initScroll(),this._setSize(),this._addListeners(),this.container.appendChild(this.canvas),console.log("curtains.js - v"+Yf),this._animationFrameID=null,this._autoRender&&this._animate())}_initRenderer(){this.renderer=new jf({alpha:this.alpha,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,depth:this.depth,failIfMajorPerformanceCaveat:this.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.preserveDrawingBuffer,stencil:this.stencil,container:this.container,pixelRatio:this.pixelRatio,renderingScale:this._renderingScale,production:this.production,onError:()=>this._onRendererError(),onSuccess:()=>this._onRendererSuccess(),onContextLost:()=>this._onRendererContextLost(),onContextRestored:()=>this._onRendererContextRestored(),onDisposed:()=>this._onRendererDisposed(),onSceneChange:()=>this._keepSync()}),this.gl=this.renderer.gl,this.canvas=this.renderer.canvas}restoreContext(){this.renderer.restoreContext()}_animate(){this.render(),this._animationFrameID=window.requestAnimationFrame(this._animate.bind(this))}enableDrawing(){this.renderer.enableDrawing()}disableDrawing(){this.renderer.disableDrawing()}needRender(){this.renderer.needRender()}nextRender(e,t=!1){return this.renderer.nextRender.add(e,t)}clear(){this.renderer&&this.renderer.clear()}clearDepth(){this.renderer&&this.renderer.clearDepth()}clearColor(){this.renderer&&this.renderer.clearColor()}isWebGL2(){return this.gl?this.renderer._isWebGL2:!1}render(){this.renderer.nextRender.execute(),!(!this.renderer.state.drawingEnabled&&!this.renderer.state.forceRender)&&(this.renderer.state.forceRender&&(this.renderer.state.forceRender=!1),this._onRenderCallback&&this._onRenderCallback(),this.renderer.render())}_addListeners(){this._resizeHandler=null,this._autoResize&&(this._resizeHandler=this.resize.bind(this,!0),window.addEventListener("resize",this._resizeHandler,!1))}setPixelRatio(e,t){this.pixelRatio=parseFloat(Math.max(e,1))||1,this.renderer.setPixelRatio(e),this.resize(t)}_setSize(){this.renderer.setSize(),this._scrollManager.shouldWatch&&(this._scrollManager.xOffset=window.pageXOffset,this._scrollManager.yOffset=window.pageYOffset)}getBoundingRect(){return this.renderer._boundingRect}resize(e){this.gl&&(this._setSize(),this.renderer.resize(),this.nextRender(()=>{this._onAfterResizeCallback&&e&&this._onAfterResizeCallback()}))}_initScroll(){this._scrollManager=new Hf({xOffset:window.pageXOffset,yOffset:window.pageYOffset,lastXDelta:0,lastYDelta:0,shouldWatch:this._watchScroll,onScroll:(e,t)=>this._updateScroll(e,t)})}_updateScroll(e,t){for(let i=0;i<this.planes.length;i++)this.planes[i].watchScroll&&this.planes[i].updateScrollPosition(e,t);this.renderer.needRender(),this._onScrollCallback&&this._onScrollCallback()}updateScrollValues(e,t){this._scrollManager.updateScrollValues(e,t)}getScrollDeltas(){return{x:this._scrollManager.lastXDelta,y:this._scrollManager.lastYDelta}}getScrollValues(){return{x:this._scrollManager.xOffset,y:this._scrollManager.yOffset}}_keepSync(){this.planes=this.renderer.planes,this.shaderPasses=this.renderer.shaderPasses,this.renderTargets=this.renderer.renderTargets}lerp(e,t,i){return Bf(e,t,i)}onAfterResize(e){return e&&(this._onAfterResizeCallback=e),this}onError(e){return e&&(this._onErrorCallback=e),this}_onRendererError(){setTimeout(()=>{this._onErrorCallback&&!this.errors&&this._onErrorCallback(),this.errors=!0},0)}onSuccess(e){return e&&(this._onSuccessCallback=e),this}_onRendererSuccess(){setTimeout(()=>{this._onSuccessCallback&&this._onSuccessCallback()},0)}onContextLost(e){return e&&(this._onContextLostCallback=e),this}_onRendererContextLost(){this._onContextLostCallback&&this._onContextLostCallback()}onContextRestored(e){return e&&(this._onContextRestoredCallback=e),this}_onRendererContextRestored(){this._onContextRestoredCallback&&this._onContextRestoredCallback()}onRender(e){return e&&(this._onRenderCallback=e),this}onScroll(e){return e&&(this._onScrollCallback=e),this}dispose(){this.renderer.dispose()}_onRendererDisposed(){this._animationFrameID&&window.cancelAnimationFrame(this._animationFrameID),this._resizeHandler&&window.removeEventListener("resize",this._resizeHandler,!1),this._scrollManager&&this._scrollManager.dispose()}}class Gf{constructor(e,t,i){if(this.type="Uniforms",!e||e.type!=="Renderer")kt(this.type+": Renderer not passed as first argument",e);else if(!e.gl){kt(this.type+": Renderer WebGL context is undefined",e);return}if(this.renderer=e,this.gl=e.gl,this.program=t,this.uniforms={},i)for(const r in i){const n=i[r];this.uniforms[r]={name:n.name,type:n.type,value:n.value.clone&&typeof n.value.clone=="function"?n.value.clone():n.value,update:null}}}handleUniformSetting(e){switch(e.type){case"1i":e.update=this.setUniform1i.bind(this);break;case"1iv":e.update=this.setUniform1iv.bind(this);break;case"1f":e.update=this.setUniform1f.bind(this);break;case"1fv":e.update=this.setUniform1fv.bind(this);break;case"2i":e.update=this.setUniform2i.bind(this);break;case"2iv":e.update=this.setUniform2iv.bind(this);break;case"2f":e.update=this.setUniform2f.bind(this);break;case"2fv":e.update=this.setUniform2fv.bind(this);break;case"3i":e.update=this.setUniform3i.bind(this);break;case"3iv":e.update=this.setUniform3iv.bind(this);break;case"3f":e.update=this.setUniform3f.bind(this);break;case"3fv":e.update=this.setUniform3fv.bind(this);break;case"4i":e.update=this.setUniform4i.bind(this);break;case"4iv":e.update=this.setUniform4iv.bind(this);break;case"4f":e.update=this.setUniform4f.bind(this);break;case"4fv":e.update=this.setUniform4fv.bind(this);break;case"mat2":e.update=this.setUniformMatrix2fv.bind(this);break;case"mat3":e.update=this.setUniformMatrix3fv.bind(this);break;case"mat4":e.update=this.setUniformMatrix4fv.bind(this);break;default:this.renderer.production||X(this.type+": This uniform type is not handled : ",e.type)}}setInternalFormat(e){e.value.type==="Vec2"?(e._internalFormat="Vec2",e.lastValue=e.value.clone()):e.value.type==="Vec3"?(e._internalFormat="Vec3",e.lastValue=e.value.clone()):e.value.type==="Mat4"?(e._internalFormat="Mat4",e.lastValue=e.value.clone()):e.value.type==="Quat"?(e._internalFormat="Quat",e.lastValue=e.value.clone()):Array.isArray(e.value)?(e._internalFormat="array",e.lastValue=Array.from(e.value)):e.value.constructor===Float32Array?(e._internalFormat="mat",e.lastValue=e.value):(e._internalFormat="float",e.lastValue=e.value)}setUniforms(){if(this.uniforms)for(const e in this.uniforms){let t=this.uniforms[e];t.location=this.gl.getUniformLocation(this.program,t.name),t._internalFormat||this.setInternalFormat(t),t.type||(t._internalFormat==="Vec2"?t.type="2f":t._internalFormat==="Vec3"?t.type="3f":t._internalFormat==="Mat4"?t.type="mat4":t._internalFormat==="array"?t.value.length===4?(t.type="4f",this.renderer.production||X(this.type+": No uniform type declared for "+t.name+", applied a 4f (array of 4 floats) uniform type")):t.value.length===3?(t.type="3f",this.renderer.production||X(this.type+": No uniform type declared for "+t.name+", applied a 3f (array of 3 floats) uniform type")):t.value.length===2&&(t.type="2f",this.renderer.production||X(this.type+": No uniform type declared for "+t.name+", applied a 2f (array of 2 floats) uniform type")):t._internalFormat==="mat"?t.value.length===16?(t.type="mat4",this.renderer.production||X(this.type+": No uniform type declared for "+t.name+", applied a mat4 (4x4 matrix array) uniform type")):t.value.length===9?(t.type="mat3",this.renderer.production||X(this.type+": No uniform type declared for "+t.name+", applied a mat3 (3x3 matrix array) uniform type")):t.value.length===4&&(t.type="mat2",this.renderer.production||X(this.type+": No uniform type declared for "+t.name+", applied a mat2 (2x2 matrix array) uniform type")):(t.type="1f",this.renderer.production||X(this.type+": No uniform type declared for "+t.name+", applied a 1f (float) uniform type"))),this.handleUniformSetting(t),t.update&&t.update(t)}}updateUniforms(){if(this.uniforms)for(const e in this.uniforms){const t=this.uniforms[e];let i=!1;t._internalFormat==="Vec2"||t._internalFormat==="Vec3"||t._internalFormat==="Quat"?t.value.equals(t.lastValue)||(i=!0,t.lastValue.copy(t.value)):t.value.length?JSON.stringify(t.value)!==JSON.stringify(t.lastValue)&&(i=!0,t.lastValue=Array.from(t.value)):t.value!==t.lastValue&&(i=!0,t.lastValue=t.value),i&&t.update&&t.update(t)}}setUniform1i(e){this.gl.uniform1i(e.location,e.value)}setUniform1iv(e){this.gl.uniform1iv(e.location,e.value)}setUniform1f(e){this.gl.uniform1f(e.location,e.value)}setUniform1fv(e){this.gl.uniform1fv(e.location,e.value)}setUniform2i(e){e._internalFormat==="Vec2"?this.gl.uniform2i(e.location,e.value.x,e.value.y):this.gl.uniform2i(e.location,e.value[0],e.value[1])}setUniform2iv(e){e._internalFormat==="Vec2"?this.gl.uniform2iv(e.location,[e.value.x,e.value.y]):this.gl.uniform2iv(e.location,e.value)}setUniform2f(e){e._internalFormat==="Vec2"?this.gl.uniform2f(e.location,e.value.x,e.value.y):this.gl.uniform2f(e.location,e.value[0],e.value[1])}setUniform2fv(e){e._internalFormat==="Vec2"?this.gl.uniform2fv(e.location,[e.value.x,e.value.y]):this.gl.uniform2fv(e.location,e.value)}setUniform3i(e){e._internalFormat==="Vec3"?this.gl.uniform3i(e.location,e.value.x,e.value.y,e.value.z):this.gl.uniform3i(e.location,e.value[0],e.value[1],e.value[2])}setUniform3iv(e){e._internalFormat==="Vec3"?this.gl.uniform3iv(e.location,[e.value.x,e.value.y,e.value.z]):this.gl.uniform3iv(e.location,e.value)}setUniform3f(e){e._internalFormat==="Vec3"?this.gl.uniform3f(e.location,e.value.x,e.value.y,e.value.z):this.gl.uniform3f(e.location,e.value[0],e.value[1],e.value[2])}setUniform3fv(e){e._internalFormat==="Vec3"?this.gl.uniform3fv(e.location,[e.value.x,e.value.y,e.value.z]):this.gl.uniform3fv(e.location,e.value)}setUniform4i(e){e._internalFormat==="Quat"?this.gl.uniform4i(e.location,e.value.elements[0],e.value.elements[1],e.value.elements[2],e.value[3]):this.gl.uniform4i(e.location,e.value[0],e.value[1],e.value[2],e.value[3])}setUniform4iv(e){e._internalFormat==="Quat"?this.gl.uniform4iv(e.location,[e.value.elements[0],e.value.elements[1],e.value.elements[2],e.value[3]]):this.gl.uniform4iv(e.location,e.value)}setUniform4f(e){e._internalFormat==="Quat"?this.gl.uniform4f(e.location,e.value.elements[0],e.value.elements[1],e.value.elements[2],e.value[3]):this.gl.uniform4f(e.location,e.value[0],e.value[1],e.value[2],e.value[3])}setUniform4fv(e){e._internalFormat==="Quat"?this.gl.uniform4fv(e.location,[e.value.elements[0],e.value.elements[1],e.value.elements[2],e.value[3]]):this.gl.uniform4fv(e.location,e.value)}setUniformMatrix2fv(e){this.gl.uniformMatrix2fv(e.location,!1,e.value)}setUniformMatrix3fv(e){this.gl.uniformMatrix3fv(e.location,!1,e.value)}setUniformMatrix4fv(e){e._internalFormat==="Mat4"?this.gl.uniformMatrix4fv(e.location,!1,e.value.elements):this.gl.uniformMatrix4fv(e.location,!1,e.value)}}const sa=`
precision mediump float;
`.replace(/\n/g,""),Ic=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`.replace(/\n/g,""),na=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`.replace(/\n/g,""),Kf=(sa+Ic+na+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`).replace(/\n/g,""),Qf=(sa+na+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`).replace(/\n/g,""),Zf=(sa+Ic+na+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`).replace(/\n/g,""),Jf=(sa+na+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`).replace(/\n/g,"");let Fc=0;class Nc{constructor(e,{parent:t,vertexShader:i,fragmentShader:r}={}){if(this.type="Program",!e||e.type!=="Renderer")kt(this.type+": Renderer not passed as first argument",e);else if(!e.gl){kt(this.type+": Renderer WebGL context is undefined",e);return}this.renderer=e,this.gl=this.renderer.gl,this.parent=t,this.defaultVsCode=this.parent.type==="Plane"?Kf:Zf,this.defaultFsCode=this.parent.type==="Plane"?Qf:Jf,i?this.vsCode=i:(!this.renderer.production&&this.parent.type==="Plane"&&X(this.parent.type+": No vertex shader provided, will use a default one"),this.vsCode=this.defaultVsCode),r?this.fsCode=r:(this.renderer.production||X(this.parent.type+": No fragment shader provided, will use a default one"),this.fsCode=this.defaultFsCode),this.compiled=!0,this.setupProgram()}createShader(e,t){const i=this.gl.createShader(t);if(this.gl.shaderSource(i,e),this.gl.compileShader(i),!this.renderer.production&&!this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)){const r=t===this.gl.VERTEX_SHADER?"vertex shader":"fragment shader";let a=this.gl.getShaderSource(i).split(`
`);for(let o=0;o<a.length;o++)a[o]=o+1+": "+a[o];return a=a.join(`
`),X(this.type+": Errors occurred while compiling the",r,`:
`,this.gl.getShaderInfoLog(i)),kt(a),X(this.type+": Will use a default",r),this.createShader(t===this.gl.VERTEX_SHADER?this.defaultVsCode:this.defaultFsCode,t)}return i}useNewShaders(){this.vertexShader=this.createShader(this.vsCode,this.gl.VERTEX_SHADER),this.fragmentShader=this.createShader(this.fsCode,this.gl.FRAGMENT_SHADER),(!this.vertexShader||!this.fragmentShader)&&(this.renderer.production||X(this.type+": Unable to find or compile the vertex or fragment shader"))}setupProgram(){let e=this.renderer.cache.getProgramFromShaders(this.vsCode,this.fsCode);e?(this.vertexShader=e.vertexShader,this.fragmentShader=e.fragmentShader,this.activeUniforms=e.activeUniforms,this.activeAttributes=e.activeAttributes,this.createProgram()):(this.useNewShaders(),this.compiled&&(this.createProgram(),this.renderer.cache.addProgram(this)))}createProgram(){if(Fc++,this.id=Fc,this.program=this.gl.createProgram(),this.gl.attachShader(this.program,this.vertexShader),this.gl.attachShader(this.program,this.fragmentShader),this.gl.linkProgram(this.program),!this.renderer.production&&!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS)){X(this.type+": Unable to initialize the shader program: "+this.gl.getProgramInfoLog(this.program)),X(this.type+": Will use default vertex and fragment shaders"),this.vertexShader=this.createShader(this.defaultVsCode,this.gl.VERTEX_SHADER),this.fragmentShader=this.createShader(this.defaultFsCode,this.gl.FRAGMENT_SHADER),this.createProgram();return}if(this.gl.deleteShader(this.vertexShader),this.gl.deleteShader(this.fragmentShader),!this.activeUniforms||!this.activeAttributes){this.activeUniforms={textures:[],textureMatrices:[]};const e=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let i=0;i<e;i++){const r=this.gl.getActiveUniform(this.program,i);r.type===this.gl.SAMPLER_2D&&this.activeUniforms.textures.push(r.name),r.type===this.gl.FLOAT_MAT4&&r.name!=="uMVMatrix"&&r.name!=="uPMatrix"&&this.activeUniforms.textureMatrices.push(r.name)}this.activeAttributes=[];const t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let i=0;i<t;i++){const r=this.gl.getActiveAttrib(this.program,i);this.activeAttributes.push(r.name)}}}createUniforms(e){this.uniformsManager=new Gf(this.renderer,this.program,e),this.setUniforms()}setUniforms(){this.renderer.useProgram(this),this.uniformsManager.setUniforms()}updateUniforms(){this.renderer.useProgram(this),this.uniformsManager.updateUniforms()}}class eg{constructor(e,{program:t=null,width:i=1,height:r=1}={}){if(this.type="Geometry",!e||e.type!=="Renderer")kt(this.type+": Renderer not passed as first argument",e);else if(!e.gl){kt(this.type+": Renderer WebGL context is undefined",e);return}this.renderer=e,this.gl=this.renderer.gl,this.definition={id:i*r+i,width:i,height:r},this.setDefaultAttributes(),this.setVerticesUVs()}restoreContext(e){this.program=null,this.setDefaultAttributes(),this.setVerticesUVs(),this.setProgram(e)}setDefaultAttributes(){this.attributes={vertexPosition:{name:"aVertexPosition",size:3,isActive:!1},textureCoord:{name:"aTextureCoord",size:3,isActive:!1}}}setVerticesUVs(){const e=this.renderer.cache.getGeometryFromID(this.definition.id);e?(this.attributes.vertexPosition.array=e.vertices,this.attributes.textureCoord.array=e.uvs):(this.computeVerticesUVs(),this.renderer.cache.addGeometry(this.definition.id,this.attributes.vertexPosition.array,this.attributes.textureCoord.array))}setProgram(e){this.program=e,this.initAttributes(),this.renderer._isWebGL2?(this._vao=this.gl.createVertexArray(),this.gl.bindVertexArray(this._vao)):this.renderer.extensions.OES_vertex_array_object&&(this._vao=this.renderer.extensions.OES_vertex_array_object.createVertexArrayOES(),this.renderer.extensions.OES_vertex_array_object.bindVertexArrayOES(this._vao)),this.initializeBuffers()}initAttributes(){for(const e in this.attributes){if(this.attributes[e].isActive=this.program.activeAttributes.includes(this.attributes[e].name),!this.attributes[e].isActive)return;this.attributes[e].location=this.gl.getAttribLocation(this.program.program,this.attributes[e].name),this.attributes[e].buffer=this.gl.createBuffer(),this.attributes[e].numberOfItems=this.definition.width*this.definition.height*this.attributes[e].size*2}}computeVerticesUVs(){this.attributes.vertexPosition.array=[],this.attributes.textureCoord.array=[];const e=this.attributes.vertexPosition.array,t=this.attributes.textureCoord.array;for(let i=0;i<this.definition.height;i++){const r=i/this.definition.height;for(let n=0;n<this.definition.width;n++){const a=n/this.definition.width;t.push(a),t.push(r),t.push(0),e.push((a-.5)*2),e.push((r-.5)*2),e.push(0),t.push(a+1/this.definition.width),t.push(r),t.push(0),e.push((a+1/this.definition.width-.5)*2),e.push((r-.5)*2),e.push(0),t.push(a),t.push(r+1/this.definition.height),t.push(0),e.push((a-.5)*2),e.push((r+1/this.definition.height-.5)*2),e.push(0),t.push(a),t.push(r+1/this.definition.height),t.push(0),e.push((a-.5)*2),e.push((r+1/this.definition.height-.5)*2),e.push(0),t.push(a+1/this.definition.width),t.push(r),t.push(0),e.push((a+1/this.definition.width-.5)*2),e.push((r-.5)*2),e.push(0),t.push(a+1/this.definition.width),t.push(r+1/this.definition.height),t.push(0),e.push((a+1/this.definition.width-.5)*2),e.push((r+1/this.definition.height-.5)*2),e.push(0)}}}initializeBuffers(){if(this.attributes){for(const e in this.attributes){if(!this.attributes[e].isActive)return;this.gl.enableVertexAttribArray(this.attributes[e].location),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.attributes[e].buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(this.attributes[e].array),this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.attributes[e].location,this.attributes[e].size,this.gl.FLOAT,!1,0,0)}this.renderer.state.currentGeometryID=this.definition.id}}bindBuffers(){if(this._vao)this.renderer._isWebGL2?this.gl.bindVertexArray(this._vao):this.renderer.extensions.OES_vertex_array_object.bindVertexArrayOES(this._vao);else for(const e in this.attributes){if(!this.attributes[e].isActive)return;this.gl.enableVertexAttribArray(this.attributes[e].location),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.attributes[e].buffer),this.gl.vertexAttribPointer(this.attributes[e].location,this.attributes[e].size,this.gl.FLOAT,!1,0,0)}this.renderer.state.currentGeometryID=this.definition.id}draw(){this.gl.drawArrays(this.gl.TRIANGLES,0,this.attributes.vertexPosition.numberOfItems)}dispose(){this._vao&&(this.renderer._isWebGL2?this.gl.deleteVertexArray(this._vao):this.renderer.extensions.OES_vertex_array_object.deleteVertexArrayOES(this._vao));for(const e in this.attributes){if(!this.attributes[e].isActive)return;this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.attributes[e].buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,1,this.gl.STATIC_DRAW),this.gl.deleteBuffer(this.attributes[e].buffer)}this.attributes=null,this.renderer.state.currentGeometryID=null}}class Ai{constructor(e=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])){this.type="Mat4",this.elements=e}setFromArray(e){for(let t=0;t<this.elements.length;t++)this.elements[t]=e[t];return this}copy(e){const t=e.elements;return this.elements[0]=t[0],this.elements[1]=t[1],this.elements[2]=t[2],this.elements[3]=t[3],this.elements[4]=t[4],this.elements[5]=t[5],this.elements[6]=t[6],this.elements[7]=t[7],this.elements[8]=t[8],this.elements[9]=t[9],this.elements[10]=t[10],this.elements[11]=t[11],this.elements[12]=t[12],this.elements[13]=t[13],this.elements[14]=t[14],this.elements[15]=t[15],this}clone(){return new Ai().copy(this)}multiply(e){const t=this.elements,i=e.elements;let r=new Ai;return r.elements[0]=i[0]*t[0]+i[1]*t[4]+i[2]*t[8]+i[3]*t[12],r.elements[1]=i[0]*t[1]+i[1]*t[5]+i[2]*t[9]+i[3]*t[13],r.elements[2]=i[0]*t[2]+i[1]*t[6]+i[2]*t[10]+i[3]*t[14],r.elements[3]=i[0]*t[3]+i[1]*t[7]+i[2]*t[11]+i[3]*t[15],r.elements[4]=i[4]*t[0]+i[5]*t[4]+i[6]*t[8]+i[7]*t[12],r.elements[5]=i[4]*t[1]+i[5]*t[5]+i[6]*t[9]+i[7]*t[13],r.elements[6]=i[4]*t[2]+i[5]*t[6]+i[6]*t[10]+i[7]*t[14],r.elements[7]=i[4]*t[3]+i[5]*t[7]+i[6]*t[11]+i[7]*t[15],r.elements[8]=i[8]*t[0]+i[9]*t[4]+i[10]*t[8]+i[11]*t[12],r.elements[9]=i[8]*t[1]+i[9]*t[5]+i[10]*t[9]+i[11]*t[13],r.elements[10]=i[8]*t[2]+i[9]*t[6]+i[10]*t[10]+i[11]*t[14],r.elements[11]=i[8]*t[3]+i[9]*t[7]+i[10]*t[11]+i[11]*t[15],r.elements[12]=i[12]*t[0]+i[13]*t[4]+i[14]*t[8]+i[15]*t[12],r.elements[13]=i[12]*t[1]+i[13]*t[5]+i[14]*t[9]+i[15]*t[13],r.elements[14]=i[12]*t[2]+i[13]*t[6]+i[14]*t[10]+i[15]*t[14],r.elements[15]=i[12]*t[3]+i[13]*t[7]+i[14]*t[11]+i[15]*t[15],r}getInverse(){const e=this.elements,t=new Ai,i=t.elements;let r=e[0],n=e[1],a=e[2],o=e[3],l=e[4],h=e[5],c=e[6],u=e[7],d=e[8],p=e[9],g=e[10],f=e[11],y=e[12],b=e[13],m=e[14],v=e[15],x=r*h-n*l,w=r*c-a*l,T=r*u-o*l,k=n*c-a*h,A=n*u-o*h,E=a*u-o*c,P=d*b-p*y,R=d*m-g*y,M=d*v-f*y,N=p*m-g*b,z=p*v-f*b,O=g*v-f*m,L=x*O-w*z+T*N+k*M-A*R+E*P;return L?(L=1/L,i[0]=(h*O-c*z+u*N)*L,i[1]=(a*z-n*O-o*N)*L,i[2]=(b*E-m*A+v*k)*L,i[3]=(g*A-p*E-f*k)*L,i[4]=(c*M-l*O-u*R)*L,i[5]=(r*O-a*M+o*R)*L,i[6]=(m*T-y*E-v*w)*L,i[7]=(d*E-g*T+f*w)*L,i[8]=(l*z-h*M+u*P)*L,i[9]=(n*M-r*z-o*P)*L,i[10]=(y*A-b*T+v*x)*L,i[11]=(p*T-d*A-f*x)*L,i[12]=(h*R-l*N-c*P)*L,i[13]=(r*N-n*R+a*P)*L,i[14]=(b*w-y*k-m*x)*L,i[15]=(d*k-p*w+g*x)*L,t):null}scale(e){let t=this.elements;return t[0]*=e.x,t[1]*=e.x,t[2]*=e.x,t[3]*=e.x,t[4]*=e.y,t[5]*=e.y,t[6]*=e.y,t[7]*=e.y,t[8]*=e.z,t[9]*=e.z,t[10]*=e.z,t[11]*=e.z,this}compose(e,t,i){let r=this.elements;const n=t.elements[0],a=t.elements[1],o=t.elements[2],l=t.elements[3],h=n+n,c=a+a,u=o+o,d=n*h,p=n*c,g=n*u,f=a*c,y=a*u,b=o*u,m=l*h,v=l*c,x=l*u,w=i.x,T=i.y,k=i.z;return r[0]=(1-(f+b))*w,r[1]=(p+x)*w,r[2]=(g-v)*w,r[3]=0,r[4]=(p-x)*T,r[5]=(1-(d+b))*T,r[6]=(y+m)*T,r[7]=0,r[8]=(g+v)*k,r[9]=(y-m)*k,r[10]=(1-(d+f))*k,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}composeFromOrigin(e,t,i,r){let n=this.elements;const a=t.elements[0],o=t.elements[1],l=t.elements[2],h=t.elements[3],c=a+a,u=o+o,d=l+l,p=a*c,g=a*u,f=a*d,y=o*u,b=o*d,m=l*d,v=h*c,x=h*u,w=h*d,T=i.x,k=i.y,A=i.z,E=r.x,P=r.y,R=r.z,M=(1-(y+m))*T,N=(g+w)*T,z=(f-x)*T,O=(g-w)*k,L=(1-(p+m))*k,U=(b+v)*k,G=(f+x)*A,ue=(b-v)*A,S=(1-(p+y))*A;return n[0]=M,n[1]=N,n[2]=z,n[3]=0,n[4]=O,n[5]=L,n[6]=U,n[7]=0,n[8]=G,n[9]=ue,n[10]=S,n[11]=0,n[12]=e.x+E-(M*E+O*P+G*R),n[13]=e.y+P-(N*E+L*P+ue*R),n[14]=e.z+R-(z*E+U*P+S*R),n[15]=1,this}}class qi{constructor(e=0,t=e){this.type="Vec2",this._x=e,this._y=t}get x(){return this._x}get y(){return this._y}set x(e){const t=e!==this._x;this._x=e,t&&this._onChangeCallback&&this._onChangeCallback()}set y(e){const t=e!==this._y;this._y=e,t&&this._onChangeCallback&&this._onChangeCallback()}onChange(e){return e&&(this._onChangeCallback=e),this}set(e,t){return this._x=e,this._y=t,this}add(e){return this._x+=e.x,this._y+=e.y,this}addScalar(e){return this._x+=e,this._y+=e,this}sub(e){return this._x-=e.x,this._y-=e.y,this}subScalar(e){return this._x-=e,this._y-=e,this}multiply(e){return this._x*=e.x,this._y*=e.y,this}multiplyScalar(e){return this._x*=e,this._y*=e,this}copy(e){return this._x=e.x,this._y=e.y,this}clone(){return new qi(this._x,this._y)}sanitizeNaNValuesWith(e){return this._x=isNaN(this._x)?e.x:parseFloat(this._x),this._y=isNaN(this._y)?e.y:parseFloat(this._y),this}max(e){return this._x=Math.max(this._x,e.x),this._y=Math.max(this._y,e.y),this}min(e){return this._x=Math.min(this._x,e.x),this._y=Math.min(this._y,e.y),this}equals(e){return this._x===e.x&&this._y===e.y}normalize(){let e=this._x*this._x+this._y*this._y;return e>0&&(e=1/Math.sqrt(e)),this._x*=e,this._y*=e,this}dot(e){return this._x*e.x+this._y*e.y}}class Le{constructor(e=0,t=e,i=e){this.type="Vec3",this._x=e,this._y=t,this._z=i}get x(){return this._x}get y(){return this._y}get z(){return this._z}set x(e){const t=e!==this._x;this._x=e,t&&this._onChangeCallback&&this._onChangeCallback()}set y(e){const t=e!==this._y;this._y=e,t&&this._onChangeCallback&&this._onChangeCallback()}set z(e){const t=e!==this._z;this._z=e,t&&this._onChangeCallback&&this._onChangeCallback()}onChange(e){return e&&(this._onChangeCallback=e),this}set(e,t,i){return this._x=e,this._y=t,this._z=i,this}add(e){return this._x+=e.x,this._y+=e.y,this._z+=e.z,this}addScalar(e){return this._x+=e,this._y+=e,this._z+=e,this}sub(e){return this._x-=e.x,this._y-=e.y,this._z-=e.z,this}subScalar(e){return this._x-=e,this._y-=e,this._z-=e,this}multiply(e){return this._x*=e.x,this._y*=e.y,this._z*=e.z,this}multiplyScalar(e){return this._x*=e,this._y*=e,this._z*=e,this}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this}clone(){return new Le(this._x,this._y,this._z)}sanitizeNaNValuesWith(e){return this._x=isNaN(this._x)?e.x:parseFloat(this._x),this._y=isNaN(this._y)?e.y:parseFloat(this._y),this._z=isNaN(this._z)?e.z:parseFloat(this._z),this}max(e){return this._x=Math.max(this._x,e.x),this._y=Math.max(this._y,e.y),this._z=Math.max(this._z,e.z),this}min(e){return this._x=Math.min(this._x,e.x),this._y=Math.min(this._y,e.y),this._z=Math.min(this._z,e.z),this}equals(e){return this._x===e.x&&this._y===e.y&&this._z===e.z}normalize(){let e=this._x*this._x+this._y*this._y+this._z*this._z;return e>0&&(e=1/Math.sqrt(e)),this._x*=e,this._y*=e,this._z*=e,this}dot(e){return this._x*e.x+this._y*e.y+this._z*e.z}applyMat4(e){const t=this._x,i=this._y,r=this._z,n=e.elements;let a=n[3]*t+n[7]*i+n[11]*r+n[15];return a=a||1,this._x=(n[0]*t+n[4]*i+n[8]*r+n[12])/a,this._y=(n[1]*t+n[5]*i+n[9]*r+n[13])/a,this._z=(n[2]*t+n[6]*i+n[10]*r+n[14])/a,this}applyQuat(e){const t=this._x,i=this._y,r=this._z,n=e.elements[0],a=e.elements[1],o=e.elements[2],l=e.elements[3],h=l*t+a*r-o*i,c=l*i+o*t-n*r,u=l*r+n*i-a*t,d=-n*t-a*i-o*r;return this._x=h*l+d*-n+c*-o-u*-a,this._y=c*l+d*-a+u*-n-h*-o,this._z=u*l+d*-o+h*-a-c*-n,this}project(e){return this.applyMat4(e.viewMatrix).applyMat4(e.projectionMatrix),this}unproject(e){return this.applyMat4(e.projectionMatrix.getInverse()).applyMat4(e.worldMatrix),this}}const Go=new qi,tg=new Le,ig=new Ai;class Gs{constructor(e,{isFBOTexture:t=!1,fromTexture:i=!1,loader:r,sampler:n,floatingPoint:a="none",premultiplyAlpha:o=!1,anisotropy:l=1,generateMipmap:h=null,wrapS:c,wrapT:u,minFilter:d,magFilter:p}={}){if(this.type="Texture",e=e&&e.renderer||e,!e||e.type!=="Renderer")kt(this.type+": Renderer not passed as first argument",e);else if(!e.gl){e.production||kt(this.type+": Unable to create a "+this.type+" because the Renderer WebGL context is not defined");return}if(this.renderer=e,this.gl=this.renderer.gl,this.uuid=zc(),this._globalParameters={unpackAlignment:4,flipY:!t,premultiplyAlpha:!1,shouldPremultiplyAlpha:o,floatingPoint:a,type:this.gl.UNSIGNED_BYTE,internalFormat:this.gl.RGBA,format:this.gl.RGBA},this.parameters={anisotropy:l,generateMipmap:h,wrapS:c||this.gl.CLAMP_TO_EDGE,wrapT:u||this.gl.CLAMP_TO_EDGE,minFilter:d||this.gl.LINEAR,magFilter:p||this.gl.LINEAR,_shouldUpdate:!0},this._initState(),this.sourceType=t?"fbo":"empty",this._useCache=!0,this._samplerName=n,this._sampler={isActive:!1,isTextureBound:!1,texture:this.gl.createTexture()},this._textureMatrix={matrix:new Ai,isActive:!1},this._size={width:1,height:1},this.scale=new qi(1),this.scale.onChange(()=>this.resize()),this.offset=new qi,this.offset.onChange(()=>this.resize()),this._loader=r,this._sourceLoaded=!1,this._uploaded=!1,this._willUpdate=!1,this.shouldUpdate=!1,this._forceUpdate=!1,this.userData={},this._canDraw=!1,i){this._copyOnInit=!0,this._copiedFrom=i;return}this._copyOnInit=!1,this._initTexture()}_initState(){this._state={anisotropy:1,generateMipmap:!1,wrapS:null,wrapT:null,minFilter:null,magFilter:this.gl.LINEAR}}_initTexture(){this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),this.sourceType==="empty"&&(this._globalParameters.flipY=!1,this._updateGlobalTexParameters(),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,new Uint8Array([0,0,0,255])),this._canDraw=!0)}_restoreFromTexture(){this._copyOnInit||this._initTexture(),this._parent&&(this._setTextureUniforms(),this._setSize()),this.copy(this._copiedFrom),this._canDraw=!0}_restoreContext(){if(this._canDraw=!1,this._sampler.texture=this.gl.createTexture(),this._sampler.isActive=!1,this._sampler.isTextureBound=!1,this._textureMatrix.isActive=!1,this._initState(),this._state.generateMipmap=!1,this.parameters._shouldUpdate=!0,!this._copiedFrom)this._initTexture(),this._parent&&this._setParent(),this.source&&(this.setSource(this.source),this.sourceType==="image"?this.renderer.cache.addTexture(this):this.needUpdate()),this._canDraw=!0;else{const e=this.renderer.nextRender.add(()=>{this._copiedFrom._canDraw&&(this._restoreFromTexture(),e.keep=!1)},!0)}}addParent(e){if(!e||e.type!=="Plane"&&e.type!=="PingPongPlane"&&e.type!=="ShaderPass"&&e.type!=="RenderTarget"){this.renderer.production||X(this.type+": cannot add texture as a child of ",e," because it is not a valid parent");return}this._parent=e,this.index=this._parent.textures.length,this._parent.textures.push(this),this._setParent()}_setParent(){if(this._sampler.name=this._samplerName||"uSampler"+this.index,this._textureMatrix.name=this._samplerName?this._samplerName+"Matrix":"uTextureMatrix"+this.index,this._parent._program){if(!this._parent._program.compiled){this.renderer.production||X(this.type+": Unable to create the texture because the program is not valid");return}if(this._setTextureUniforms(),this._copyOnInit){const e=this.renderer.nextRender.add(()=>{this._copiedFrom._canDraw&&this._copiedFrom._uploaded&&(this.copy(this._copiedFrom),e.keep=!1)},!0);return}this.source?this._parent.loader&&this._parent.loader._addSourceToParent(this.source,this.sourceType):this._size={width:this._parent._boundingRect.document.width,height:this._parent._boundingRect.document.height},this._setSize()}else this._parent.type==="RenderTarget"&&(this._size={width:this._parent._size&&this._parent._size.width||this.renderer._boundingRect.width,height:this._parent._size&&this._parent._size.height||this.renderer._boundingRect.height},this._upload(),this._updateTexParameters(),this._canDraw=!0)}hasParent(){return!!this._parent}_setTextureUniforms(){const e=this._parent._program.activeUniforms;for(let t=0;t<e.textures.length;t++)e.textures[t]===this._sampler.name&&(this._sampler.isActive=!0,this.renderer.useProgram(this._parent._program),this._sampler.location=this.gl.getUniformLocation(this._parent._program.program,this._sampler.name),e.textureMatrices.find(r=>r===this._textureMatrix.name)&&(this._textureMatrix.isActive=!0,this._textureMatrix.location=this.gl.getUniformLocation(this._parent._program.program,this._textureMatrix.name)),this.gl.uniform1i(this._sampler.location,this.index))}copy(e){if(!e||e.type!=="Texture"){this.renderer.production||X(this.type+": Unable to set the texture from texture:",e);return}this._globalParameters=Object.assign({},e._globalParameters),this._state=Object.assign({},e._state),this.parameters.generateMipmap=e.parameters.generateMipmap,this._state.generateMipmap=null,this._size=e._size,!this._sourceLoaded&&e._sourceLoaded&&this._onSourceLoadedCallback&&this._onSourceLoadedCallback(),this._sourceLoaded=e._sourceLoaded,!this._uploaded&&e._uploaded&&this._onSourceUploadedCallback&&this._onSourceUploadedCallback(),this._uploaded=e._uploaded,this.sourceType=e.sourceType,this.source=e.source,this._videoFrameCallbackID=e._videoFrameCallbackID,this._sampler.texture=e._sampler.texture,this._copiedFrom=e,this._parent&&this._parent._program&&(!this._canDraw||!this._textureMatrix.matrix)&&(this._setSize(),this._canDraw=!0),this._updateTexParameters(),this.renderer.needRender()}setSource(e){this._sourceLoaded||this.renderer.nextRender.add(()=>this._onSourceLoadedCallback&&this._onSourceLoadedCallback());const t=e.tagName.toUpperCase()==="IMG"?"image":e.tagName.toLowerCase();if((t==="video"||t==="canvas")&&(this._useCache=!1),this._useCache){const i=this.renderer.cache.getTextureFromSource(e);if(i&&i.uuid!==this.uuid){this._uploaded||(this.renderer.nextRender.add(()=>this._onSourceUploadedCallback&&this._onSourceUploadedCallback()),this._uploaded=!0),this.copy(i),this.resize();return}}if(this.sourceType==="empty"||this.sourceType!==t)if(t==="video")this._willUpdate=!1,this.shouldUpdate=!0;else if(t==="canvas")this._willUpdate=!0,this.shouldUpdate=!0;else if(t==="image")this._willUpdate=!1,this.shouldUpdate=!1;else{this.renderer.production||X(this.type+": this HTML tag could not be converted into a texture:",e.tagName);return}this.source=e,this.sourceType=t,this._size={width:this.source.naturalWidth||this.source.width||this.source.videoWidth,height:this.source.naturalHeight||this.source.height||this.source.videoHeight},this._sourceLoaded=!0,this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),this.resize(),this._globalParameters.flipY=!0,this._globalParameters.premultiplyAlpha=this._globalParameters.shouldPremultiplyAlpha,this.sourceType==="image"&&(this.parameters.generateMipmap=this.parameters.generateMipmap||this.parameters.generateMipmap===null,this.parameters._shouldUpdate=this.parameters.generateMipmap,this._state.generateMipmap=!1,this._upload()),this.renderer.needRender()}_updateGlobalTexParameters(){this.renderer.state.unpackAlignment!==this._globalParameters.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this._globalParameters.unpackAlignment),this.renderer.state.unpackAlignment=this._globalParameters.unpackAlignment),this.renderer.state.flipY!==this._globalParameters.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this._globalParameters.flipY),this.renderer.state.flipY=this._globalParameters.flipY),this.renderer.state.premultiplyAlpha!==this._globalParameters.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._globalParameters.premultiplyAlpha),this.renderer.state.premultiplyAlpha=this._globalParameters.premultiplyAlpha),this._globalParameters.floatingPoint==="half-float"?this.renderer._isWebGL2&&this.renderer.extensions.EXT_color_buffer_float?(this._globalParameters.internalFormat=this.gl.RGBA16F,this._globalParameters.type=this.gl.HALF_FLOAT):this.renderer.extensions.OES_texture_half_float?this._globalParameters.type=this.renderer.extensions.OES_texture_half_float.HALF_FLOAT_OES:this.renderer.production||X(this.type+": could not use half-float textures because the extension is not available"):this._globalParameters.floatingPoint==="float"&&(this.renderer._isWebGL2&&this.renderer.extensions.EXT_color_buffer_float?(this._globalParameters.internalFormat=this.gl.RGBA16F,this._globalParameters.type=this.gl.FLOAT):this.renderer.extensions.OES_texture_float?this._globalParameters.type=this.renderer.extensions.OES_texture_half_float.FLOAT:this.renderer.production||X(this.type+": could not use float textures because the extension is not available"))}_updateTexParameters(){this.index&&this.renderer.state.activeTexture!==this.index&&this._bindTexture(),this.parameters.wrapS!==this._state.wrapS&&(!this.renderer._isWebGL2&&(!Ci(this._size.width)||!Ci(this._size.height))&&(this.parameters.wrapS=this.gl.CLAMP_TO_EDGE),this.parameters.wrapS!==this.gl.REPEAT&&this.parameters.wrapS!==this.gl.CLAMP_TO_EDGE&&this.parameters.wrapS!==this.gl.MIRRORED_REPEAT&&(this.renderer.production||X(this.type+": Wrong wrapS value",this.parameters.wrapS,"for this texture:",this,`
gl.CLAMP_TO_EDGE wrapping will be used instead`),this.parameters.wrapS=this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.parameters.wrapS),this._state.wrapS=this.parameters.wrapS),this.parameters.wrapT!==this._state.wrapT&&(!this.renderer._isWebGL2&&(!Ci(this._size.width)||!Ci(this._size.height))&&(this.parameters.wrapT=this.gl.CLAMP_TO_EDGE),this.parameters.wrapT!==this.gl.REPEAT&&this.parameters.wrapT!==this.gl.CLAMP_TO_EDGE&&this.parameters.wrapT!==this.gl.MIRRORED_REPEAT&&(this.renderer.production||X(this.type+": Wrong wrapT value",this.parameters.wrapT,"for this texture:",this,`
gl.CLAMP_TO_EDGE wrapping will be used instead`),this.parameters.wrapT=this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.parameters.wrapT),this._state.wrapT=this.parameters.wrapT),this.parameters.generateMipmap&&!this._state.generateMipmap&&this.source&&(!this.renderer._isWebGL2&&(!Ci(this._size.width)||!Ci(this._size.height))?this.parameters.generateMipmap=!1:this.gl.generateMipmap(this.gl.TEXTURE_2D),this._state.generateMipmap=this.parameters.generateMipmap),this.parameters.minFilter!==this._state.minFilter&&(!this.renderer._isWebGL2&&(!Ci(this._size.width)||!Ci(this._size.height))&&(this.parameters.minFilter=this.gl.LINEAR),!this.parameters.generateMipmap&&this.parameters.generateMipmap!==null&&(this.parameters.minFilter=this.gl.LINEAR),this.parameters.minFilter!==this.gl.LINEAR&&this.parameters.minFilter!==this.gl.NEAREST&&this.parameters.minFilter!==this.gl.NEAREST_MIPMAP_NEAREST&&this.parameters.minFilter!==this.gl.LINEAR_MIPMAP_NEAREST&&this.parameters.minFilter!==this.gl.NEAREST_MIPMAP_LINEAR&&this.parameters.minFilter!==this.gl.LINEAR_MIPMAP_LINEAR&&(this.renderer.production||X(this.type+": Wrong minFilter value",this.parameters.minFilter,"for this texture:",this,`
gl.LINEAR filtering will be used instead`),this.parameters.minFilter=this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.parameters.minFilter),this._state.minFilter=this.parameters.minFilter),this.parameters.magFilter!==this._state.magFilter&&(!this.renderer._isWebGL2&&(!Ci(this._size.width)||!Ci(this._size.height))&&(this.parameters.magFilter=this.gl.LINEAR),this.parameters.magFilter!==this.gl.LINEAR&&this.parameters.magFilter!==this.gl.NEAREST&&(this.renderer.production||X(this.type+": Wrong magFilter value",this.parameters.magFilter,"for this texture:",this,`
gl.LINEAR filtering will be used instead`),this.parameters.magFilter=this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.parameters.magFilter),this._state.magFilter=this.parameters.magFilter);const e=this.renderer.extensions.EXT_texture_filter_anisotropic;if(e&&this.parameters.anisotropy!==this._state.anisotropy){const t=this.gl.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT);this.parameters.anisotropy=Math.max(1,Math.min(this.parameters.anisotropy,t)),this.gl.texParameterf(this.gl.TEXTURE_2D,e.TEXTURE_MAX_ANISOTROPY_EXT,this.parameters.anisotropy),this._state.anisotropy=this.parameters.anisotropy}}setWrapS(e){this.parameters.wrapS!==e&&(this.parameters.wrapS=e,this.parameters._shouldUpdate=!0)}setWrapT(e){this.parameters.wrapT!==e&&(this.parameters.wrapT=e,this.parameters._shouldUpdate=!0)}setMinFilter(e){this.parameters.minFilter!==e&&(this.parameters.minFilter=e,this.parameters._shouldUpdate=!0)}setMagFilter(e){this.parameters.magFilter!==e&&(this.parameters.magFilter=e,this.parameters._shouldUpdate=!0)}setAnisotropy(e){e=isNaN(e)?this.parameters.anisotropy:e,this.parameters.anisotropy!==e&&(this.parameters.anisotropy=e,this.parameters._shouldUpdate=!0)}needUpdate(){this._forceUpdate=!0}_videoFrameCallback(){this._willUpdate=!0,this.source.requestVideoFrameCallback(()=>this._videoFrameCallback())}_upload(){this._updateGlobalTexParameters(),this.source?this.gl.texImage2D(this.gl.TEXTURE_2D,0,this._globalParameters.internalFormat,this._globalParameters.format,this._globalParameters.type,this.source):this.sourceType==="fbo"&&this.gl.texImage2D(this.gl.TEXTURE_2D,0,this._globalParameters.internalFormat,this._size.width,this._size.height,0,this._globalParameters.format,this._globalParameters.type,this.source||null),this._uploaded||(this.renderer.nextRender.add(()=>this._onSourceUploadedCallback&&this._onSourceUploadedCallback()),this._uploaded=!0)}_getSizes(){if(this.sourceType==="fbo")return{parentWidth:this._parent._boundingRect.document.width,parentHeight:this._parent._boundingRect.document.height,sourceWidth:this._parent._boundingRect.document.width,sourceHeight:this._parent._boundingRect.document.height,xOffset:0,yOffset:0};const e=this._parent.scale?Go.set(this._parent.scale.x,this._parent.scale.y):Go.set(1,1),t=this._parent._boundingRect.document.width*e.x,i=this._parent._boundingRect.document.height*e.y,r=this._size.width,n=this._size.height,a=r/n,o=t/i;let l=0,h=0;return o>a?h=Math.min(0,i-t*(1/a)):o<a&&(l=Math.min(0,t-i*a)),{parentWidth:t,parentHeight:i,sourceWidth:r,sourceHeight:n,xOffset:l,yOffset:h}}setScale(e){if(!e.type||e.type!=="Vec2"){this.renderer.production||X(this.type+": Cannot set scale because the parameter passed is not of Vec2 type:",e);return}e.sanitizeNaNValuesWith(this.scale).max(Go.set(.001,.001)),e.equals(this.scale)||(this.scale.copy(e),this.resize())}setOffset(e){if(!e.type||e.type!=="Vec2"){this.renderer.production||X(this.type+": Cannot set offset because the parameter passed is not of Vec2 type:",scale);return}e.sanitizeNaNValuesWith(this.offset),e.equals(this.offset)||(this.offset.copy(e),this.resize())}_setSize(){if(this._parent&&this._parent._program){const e=this._getSizes();this._updateTextureMatrix(e)}}resize(){this.sourceType==="fbo"?(this._size={width:this._parent._size&&this._parent._size.width||this._parent._boundingRect.document.width,height:this._parent._size&&this._parent._size.height||this._parent._boundingRect.document.height},this._copiedFrom||(this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this._globalParameters.internalFormat,this._size.width,this._size.height,0,this._globalParameters.format,this._globalParameters.type,null))):this.source&&(this._size={width:this.source.naturalWidth||this.source.width||this.source.videoWidth,height:this.source.naturalHeight||this.source.height||this.source.videoHeight}),this._setSize()}_updateTextureMatrix(e){const t=tg.set(e.parentWidth/(e.parentWidth-e.xOffset),e.parentHeight/(e.parentHeight-e.yOffset),1);t.x/=this.scale.x,t.y/=this.scale.y,this._textureMatrix.matrix=ig.setFromArray([t.x,0,0,0,0,t.y,0,0,0,0,1,0,(1-t.x)/2+this.offset.x,(1-t.y)/2+this.offset.y,0,1]),this._updateMatrixUniform()}_updateMatrixUniform(){this._textureMatrix.isActive&&(this.renderer.useProgram(this._parent._program),this.gl.uniformMatrix4fv(this._textureMatrix.location,!1,this._textureMatrix.matrix.elements))}_onSourceLoaded(e){this.setSource(e),this.sourceType==="image"&&this.renderer.cache.addTexture(this)}_bindTexture(){this._canDraw&&(this.renderer.state.activeTexture!==this.index&&(this.gl.activeTexture(this.gl.TEXTURE0+this.index),this.renderer.state.activeTexture=this.index),this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),this._sampler.isTextureBound||(this._sampler.isTextureBound=!!this.gl.getParameter(this.gl.TEXTURE_BINDING_2D),this._sampler.isTextureBound&&this.renderer.needRender()))}_draw(){this._sampler.isActive&&(this._bindTexture(),this.sourceType==="video"&&this.source&&!this._videoFrameCallbackID&&this.source.readyState>=this.source.HAVE_CURRENT_DATA&&!this.source.paused&&(this._willUpdate=!0),(this._forceUpdate||this._willUpdate&&this.shouldUpdate)&&(this._state.generateMipmap=!1,this._upload()),this.sourceType==="video"&&(this._willUpdate=!1),this._forceUpdate=!1),this.parameters._shouldUpdate&&(this._updateTexParameters(),this.parameters._shouldUpdate=!1)}onSourceLoaded(e){return e&&(this._onSourceLoadedCallback=e),this}onSourceUploaded(e){return e&&(this._onSourceUploadedCallback=e),this}_dispose(e=!1){this.sourceType==="video"||this.sourceType==="image"&&!this.renderer.state.isActive?(this._loader&&this._loader._removeSource(this),this.source=null):this.sourceType==="canvas"&&(this.source.width=this.source.width,this.source=null),this._parent=null,this.gl&&!this._copiedFrom&&(e||this.sourceType!=="image"||!this.renderer.state.isActive)&&(this._canDraw=!1,this.renderer.cache.removeTexture(this),this.gl.activeTexture(this.gl.TEXTURE0+this.index),this.gl.bindTexture(this.gl.TEXTURE_2D,null),this.gl.deleteTexture(this._sampler.texture))}}class rg{constructor(e,t="anonymous"){if(this.type="TextureLoader",e=e&&e.renderer||e,!e||e.type!=="Renderer")kt(this.type+": Renderer not passed as first argument",e);else if(!e.gl){kt(this.type+": Renderer WebGL context is undefined",e);return}this.renderer=e,this.gl=this.renderer.gl,this.crossOrigin=t,this.elements=[]}_addElement(e,t,i,r){const n={source:e,texture:t,load:this._sourceLoaded.bind(this,e,t,i),error:this._sourceLoadError.bind(this,e,r)};return this.elements.push(n),n}_sourceLoadError(e,t,i){t&&t(e,i)}_sourceLoaded(e,t,i){t._sourceLoaded||(t._onSourceLoaded(e),this._parent&&(this._increment&&this._increment(),this.renderer.nextRender.add(()=>this._parent._onLoadingCallback&&this._parent._onLoadingCallback(t))),i&&i(t))}_getSourceType(e){let t;return typeof e=="string"?e.match(/\.(jpeg|jpg|jfif|pjpeg|pjp|gif|bmp|png|webp|svg|avif|apng)$/)!==null?t="image":e.match(/\.(webm|mp4|mpg|mpeg|avi|ogg|ogm|ogv|mov|av1)$/)!==null&&(t="video"):e.tagName.toUpperCase()==="IMG"?t="image":e.tagName.toUpperCase()==="VIDEO"?t="video":e.tagName.toUpperCase()==="CANVAS"&&(t="canvas"),t}_createImage(e){if(typeof e=="string"||!e.hasAttribute("crossOrigin")){const t=new Image;return t.crossOrigin=this.crossOrigin,typeof e=="string"?t.src=e:(t.src=e.src,e.hasAttribute("data-sampler")&&t.setAttribute("data-sampler",e.getAttribute("data-sampler"))),t}else return e}_createVideo(e){if(typeof e=="string"||e.getAttribute("crossOrigin")===null){const t=document.createElement("video");return t.crossOrigin=this.crossOrigin,typeof e=="string"?t.src=e:(t.src=e.src,e.hasAttribute("data-sampler")&&t.setAttribute("data-sampler",e.getAttribute("data-sampler"))),t}else return e}loadSource(e,t,i,r){switch(this._getSourceType(e)){case"image":this.loadImage(e,t,i,r);break;case"video":this.loadVideo(e,t,i,r);break;case"canvas":this.loadCanvas(e,t,i);break;default:this._sourceLoadError(e,r,"this source could not be converted into a texture: "+e);break}}loadSources(e,t,i,r){for(let n=0;n<e.length;n++)this.loadSource(e[n],t,i,r)}loadImage(e,t={},i,r){const n=this.renderer.cache.getTextureFromSource(e);let a=Object.assign({},t);if(this._parent&&(a=Object.assign(a,this._parent._texturesOptions)),a.loader=this,n){a.sampler=typeof e!="string"&&e.hasAttribute("data-sampler")?e.getAttribute("data-sampler"):a.sampler,a.fromTexture=n;const c=new Gs(this.renderer,a);this._sourceLoaded(n.source,c,i),this._parent&&this._addToParent(c,n.source,"image");return}const o=this._createImage(e);a.sampler=o.hasAttribute("data-sampler")?o.getAttribute("data-sampler"):a.sampler;const l=new Gs(this.renderer,a),h=this._addElement(o,l,i,r);o.complete?this._sourceLoaded(o,l,i):o.decode?o.decode().then(this._sourceLoaded.bind(this,o,l,i)).catch(()=>{o.addEventListener("load",h.load,!1),o.addEventListener("error",h.error,!1)}):(o.addEventListener("load",h.load,!1),o.addEventListener("error",h.error,!1)),this._parent&&this._addToParent(l,o,"image")}loadImages(e,t,i,r){for(let n=0;n<e.length;n++)this.loadImage(e[n],t,i,r)}loadVideo(e,t={},i,r){const n=this._createVideo(e);n.preload=!0,n.muted=!0,n.loop=!0,n.setAttribute("playsinline",""),n.crossOrigin=this.crossOrigin;let a=Object.assign({},t);this._parent&&(a=Object.assign(t,this._parent._texturesOptions)),a.loader=this,a.sampler=n.hasAttribute("data-sampler")?n.getAttribute("data-sampler"):a.sampler;const o=new Gs(this.renderer,a),l=this._addElement(n,o,i,r);n.addEventListener("canplaythrough",l.load,!1),n.addEventListener("error",l.error,!1),n.readyState>=n.HAVE_FUTURE_DATA&&i&&this._sourceLoaded(n,o,i),n.load(),this._addToParent&&this._addToParent(o,n,"video"),"requestVideoFrameCallback"in HTMLVideoElement.prototype&&(l.videoFrameCallback=o._videoFrameCallback.bind(o),o._videoFrameCallbackID=n.requestVideoFrameCallback(l.videoFrameCallback))}loadVideos(e,t,i,r){for(let n=0;n<e.length;n++)this.loadVideo(e[n],t,i,r)}loadCanvas(e,t={},i){let r=Object.assign({},t);this._parent&&(r=Object.assign(t,this._parent._texturesOptions)),r.loader=this,r.sampler=e.hasAttribute("data-sampler")?e.getAttribute("data-sampler"):r.sampler;const n=new Gs(this.renderer,r);this._addElement(e,n,i,null),this._sourceLoaded(e,n,i),this._parent&&this._addToParent(n,e,"canvas")}loadCanvases(e,t,i){for(let r=0;r<e.length;r++)this.loadCanvas(e[r],t,i)}_removeSource(e){const t=this.elements.find(i=>i.texture.uuid===e.uuid);t&&(e.sourceType==="image"?t.source.removeEventListener("load",t.load,!1):e.sourceType==="video"&&(t.videoFrameCallback&&e._videoFrameCallbackID&&t.source.cancelVideoFrameCallback(e._videoFrameCallbackID),t.source.removeEventListener("canplaythrough",t.load,!1),t.source.pause(),t.source.removeAttribute("src"),t.source.load()),t.source.removeEventListener("error",t.error,!1))}}class sg extends rg{constructor(e,t,{sourcesLoaded:i=0,sourcesToLoad:r=0,complete:n=!1,onComplete:a=()=>{}}={}){super(e,t.crossOrigin),this.type="PlaneTextureLoader",this._parent=t,this._parent.type!=="Plane"&&this._parent.type!=="PingPongPlane"&&this._parent.type!=="ShaderPass"&&(X(this.type+": Wrong parent type assigned to this loader"),this._parent=null),this.sourcesLoaded=i,this.sourcesToLoad=r,this.complete=n,this.onComplete=a}_setLoaderSize(e){this.sourcesToLoad=e,this.sourcesToLoad===0&&(this.complete=!0,this.renderer.nextRender.add(()=>this.onComplete&&this.onComplete()))}_increment(){this.sourcesLoaded++,this.sourcesLoaded>=this.sourcesToLoad&&!this.complete&&(this.complete=!0,this.renderer.nextRender.add(()=>this.onComplete&&this.onComplete()))}_addSourceToParent(e,t){if(t==="image"){const i=this._parent.images;!i.find(n=>n.src===e.src)&&i.push(e)}else if(t==="video"){const i=this._parent.videos;!i.find(n=>n.src===e.src)&&i.push(e)}else if(t==="canvas"){const i=this._parent.canvases;!i.find(n=>n.isSameNode(e))&&i.push(e)}}_addToParent(e,t,i){this._addSourceToParent(t,i),this._parent&&e.addParent(this._parent)}}class ng{constructor(e,t="Mesh",{vertexShaderID:i,fragmentShaderID:r,vertexShader:n,fragmentShader:a,uniforms:o={},widthSegments:l=1,heightSegments:h=1,renderOrder:c=0,depthTest:u=!0,cullFace:d="back",texturesOptions:p={},crossOrigin:g="anonymous"}={}){if(this.type=t,e=e&&e.renderer||e,(!e||e.type!=="Renderer")&&(kt(this.type+": Curtains not passed as first argument or Curtains Renderer is missing",e),setTimeout(()=>{this._onErrorCallback&&this._onErrorCallback()},0)),this.renderer=e,this.gl=this.renderer.gl,!this.gl){this.renderer.production||kt(this.type+": Unable to create a "+this.type+" because the Renderer WebGL context is not defined"),setTimeout(()=>{this._onErrorCallback&&this._onErrorCallback()},0);return}this._canDraw=!1,this.renderOrder=c,this._depthTest=u,this.cullFace=d,this.cullFace!=="back"&&this.cullFace!=="front"&&this.cullFace!=="none"&&(this.cullFace="back"),this.textures=[],this._texturesOptions=Object.assign({premultiplyAlpha:!1,anisotropy:1,floatingPoint:"none",wrapS:this.gl.CLAMP_TO_EDGE,wrapT:this.gl.CLAMP_TO_EDGE,minFilter:this.gl.LINEAR,magFilter:this.gl.LINEAR},p),this.crossOrigin=g,!n&&i&&document.getElementById(i)&&(n=document.getElementById(i).innerHTML),!a&&r&&document.getElementById(r)&&(a=document.getElementById(r).innerHTML),this._initMesh(),l=parseInt(l),h=parseInt(h),this._geometry=new eg(this.renderer,{width:l,height:h}),this._program=new Nc(this.renderer,{parent:this,vertexShader:n,fragmentShader:a}),this._program.compiled?(this._program.createUniforms(o),this.uniforms=this._program.uniformsManager.uniforms,this._geometry.setProgram(this._program),this.renderer.onSceneChange()):this.renderer.nextRender.add(()=>this._onErrorCallback&&this._onErrorCallback())}_initMesh(){this.uuid=zc(),this.loader=new sg(this.renderer,this,{sourcesLoaded:0,initSourcesToLoad:0,complete:!1,onComplete:()=>{this._onReadyCallback&&this._onReadyCallback(),this.renderer.needRender()}}),this.images=[],this.videos=[],this.canvases=[],this.userData={},this._canDraw=!0}_restoreContext(){this._canDraw=!1,this._matrices&&(this._matrices=null),this._program=new Nc(this.renderer,{parent:this,vertexShader:this._program.vsCode,fragmentShader:this._program.fsCode}),this._program.compiled&&(this._geometry.restoreContext(this._program),this._program.createUniforms(this.uniforms),this.uniforms=this._program.uniformsManager.uniforms,this._programRestored())}setRenderTarget(e){if(!e||e.type!=="RenderTarget"){this.renderer.production||X(this.type+": Could not set the render target because the argument passed is not a RenderTarget class object",e);return}this.type==="Plane"&&this.renderer.scene.removePlane(this),this.target=e,this.type==="Plane"&&this.renderer.scene.addPlane(this)}setRenderOrder(e=0){e=isNaN(e)?this.renderOrder:parseInt(e),e!==this.renderOrder&&(this.renderOrder=e,this.renderer.scene.setPlaneRenderOrder(this))}createTexture(e={}){const t=new Gs(this.renderer,Object.assign(e,this._texturesOptions));return t.addParent(this),t}addTexture(e){if(!e||e.type!=="Texture"){this.renderer.production||X(this.type+": cannot add ",e," to this "+this.type+" because it is not a valid texture");return}e.addParent(this)}loadSources(e,t={},i,r){for(let n=0;n<e.length;n++)this.loadSource(e[n],t,i,r)}loadSource(e,t={},i,r){this.loader.loadSource(e,Object.assign(t,this._texturesOptions),n=>{i&&i(n)},(n,a)=>{this.renderer.production||X(this.type+": this HTML tag could not be converted into a texture:",n.tagName),r&&r(n,a)})}loadImage(e,t={},i,r){this.loader.loadImage(e,Object.assign(t,this._texturesOptions),n=>{i&&i(n)},(n,a)=>{this.renderer.production||X(this.type+`: There has been an error:
`,a,`
while loading this image:
`,n),r&&r(n,a)})}loadVideo(e,t={},i,r){this.loader.loadVideo(e,Object.assign(t,this._texturesOptions),n=>{i&&i(n)},(n,a)=>{this.renderer.production||X(this.type+`: There has been an error:
`,a,`
while loading this video:
`,n),r&&r(n,a)})}loadCanvas(e,t={},i){this.loader.loadCanvas(e,Object.assign(t,this._texturesOptions),r=>{i&&i(r)})}loadImages(e,t={},i,r){for(let n=0;n<e.length;n++)this.loadImage(e[n],t,i,r)}loadVideos(e,t={},i,r){for(let n=0;n<e.length;n++)this.loadVideo(e[n],t,i,r)}loadCanvases(e,t={},i){for(let r=0;r<e.length;r++)this.loadCanvas(e[r],t,i)}playVideos(){for(let e=0;e<this.textures.length;e++){const t=this.textures[e];if(t.sourceType==="video"){const i=t.source.play();i!==void 0&&i.catch(r=>{this.renderer.production||X(this.type+": Could not play the video : ",r)})}}}_draw(){this.renderer.setDepthTest(this._depthTest),this.renderer.setFaceCulling(this.cullFace),this._program.updateUniforms(),this._geometry.bindBuffers(),this.renderer.state.forceBufferUpdate=!1;for(let e=0;e<this.textures.length;e++)if(this.textures[e]._draw(),this.textures[e]._sampler.isActive&&!this.textures[e]._sampler.isTextureBound)return;this._geometry.draw(),this.renderer.state.activeTexture=null,this._onAfterRenderCallback&&this._onAfterRenderCallback()}onError(e){return e&&(this._onErrorCallback=e),this}onLoading(e){return e&&(this._onLoadingCallback=e),this}onReady(e){return e&&(this._onReadyCallback=e),this}onRender(e){return e&&(this._onRenderCallback=e),this}onAfterRender(e){return e&&(this._onAfterRenderCallback=e),this}remove(){this._canDraw=!1,this.target&&this.renderer.bindFrameBuffer(null),this._dispose(),this.type==="Plane"?this.renderer.removePlane(this):this.type==="ShaderPass"&&(this.target&&(this.target._shaderPass=null,this.target.remove(),this.target=null),this.renderer.removeShaderPass(this))}_dispose(){if(this.gl){this._geometry&&this._geometry.dispose(),this.target&&this.type==="ShaderPass"&&(this.renderer.removeRenderTarget(this.target),this.textures.shift());for(let e=0;e<this.textures.length;e++)this.textures[e]._dispose();this.textures=[]}}}const Vc=new qi,ag=new qi;class og extends ng{constructor(e,t,i="DOMMesh",{widthSegments:r,heightSegments:n,renderOrder:a,depthTest:o,cullFace:l,uniforms:h,vertexShaderID:c,fragmentShaderID:u,vertexShader:d,fragmentShader:p,texturesOptions:g,crossOrigin:f}={}){c=c||t&&t.getAttribute("data-vs-id"),u=u||t&&t.getAttribute("data-fs-id"),super(e,i,{widthSegments:r,heightSegments:n,renderOrder:a,depthTest:o,cullFace:l,uniforms:h,vertexShaderID:c,fragmentShaderID:u,vertexShader:d,fragmentShader:p,texturesOptions:g,crossOrigin:f}),this.gl&&(this.htmlElement=t,(!this.htmlElement||this.htmlElement.length===0)&&(this.renderer.production||X(this.type+": The HTML element you specified does not currently exists in the DOM")),this._setDocumentSizes())}_setDocumentSizes(){let e=this.htmlElement.getBoundingClientRect();this._boundingRect||(this._boundingRect={}),this._boundingRect.document={width:e.width*this.renderer.pixelRatio,height:e.height*this.renderer.pixelRatio,top:e.top*this.renderer.pixelRatio,left:e.left*this.renderer.pixelRatio}}getBoundingRect(){return{width:this._boundingRect.document.width,height:this._boundingRect.document.height,top:this._boundingRect.document.top,left:this._boundingRect.document.left,right:this._boundingRect.document.left+this._boundingRect.document.width,bottom:this._boundingRect.document.top+this._boundingRect.document.height}}resize(){this._setDocumentSizes(),this.type==="Plane"&&(this.setPerspective(this.camera.fov,this.camera.near,this.camera.far),this._setWorldSizes(),this._applyWorldPositions());for(let e=0;e<this.textures.length;e++)this.textures[e].resize();this.renderer.nextRender.add(()=>this._onAfterResizeCallback&&this._onAfterResizeCallback())}mouseToPlaneCoords(e){const t=this.scale?this.scale:ag.set(1,1),i=Vc.set((this._boundingRect.document.width-this._boundingRect.document.width*t.x)/2,(this._boundingRect.document.height-this._boundingRect.document.height*t.y)/2),r={width:this._boundingRect.document.width*t.x/this.renderer.pixelRatio,height:this._boundingRect.document.height*t.y/this.renderer.pixelRatio,top:(this._boundingRect.document.top+i.y)/this.renderer.pixelRatio,left:(this._boundingRect.document.left+i.x)/this.renderer.pixelRatio};return Vc.set((e.x-r.left)/r.width*2-1,1-(e.y-r.top)/r.height*2)}onAfterResize(e){return e&&(this._onAfterResizeCallback=e),this}}class lg{constructor({fov:e=50,near:t=.1,far:i=150,width:r,height:n,pixelRatio:a=1}={}){this.position=new Le,this.projectionMatrix=new Ai,this.worldMatrix=new Ai,this.viewMatrix=new Ai,this._shouldUpdate=!1,this.setSize(),this.setPerspective(e,t,i,r,n,a)}setFov(e){e=isNaN(e)?this.fov:parseFloat(e),e=Math.max(1,Math.min(e,179)),e!==this.fov&&(this.fov=e,this.setPosition(),this._shouldUpdate=!0),this.setCSSPerspective()}setNear(e){e=isNaN(e)?this.near:parseFloat(e),e=Math.max(e,.01),e!==this.near&&(this.near=e,this._shouldUpdate=!0)}setFar(e){e=isNaN(e)?this.far:parseFloat(e),e=Math.max(e,50),e!==this.far&&(this.far=e,this._shouldUpdate=!0)}setPixelRatio(e){e!==this.pixelRatio&&(this._shouldUpdate=!0),this.pixelRatio=e}setSize(e,t){(e!==this.width||t!==this.height)&&(this._shouldUpdate=!0),this.width=e,this.height=t}setPerspective(e,t,i,r,n,a){this.setPixelRatio(a),this.setSize(r,n),this.setFov(e),this.setNear(t),this.setFar(i),this._shouldUpdate&&this.updateProjectionMatrix()}setPosition(){this.position.set(0,0,1),this.worldMatrix.setFromArray([1,0,0,0,0,1,0,0,0,0,1,0,this.position.x,this.position.y,this.position.z,1]),this.viewMatrix=this.viewMatrix.copy(this.worldMatrix).getInverse()}setCSSPerspective(){this.CSSPerspective=Math.pow(Math.pow(this.width/(2*this.pixelRatio),2)+Math.pow(this.height/(2*this.pixelRatio),2),.5)/Math.tan(this.fov*.5*Math.PI/180)}getScreenRatiosFromFov(e=0){const t=this.position.z;e<t?e-=t:e+=t;const i=this.fov*Math.PI/180,r=2*Math.tan(i/2)*Math.abs(e);return{width:r*this.width/this.height,height:r}}updateProjectionMatrix(){const e=this.width/this.height,t=this.near*Math.tan(Math.PI/180*.5*this.fov),i=2*t,r=e*i,n=-.5*r,a=n+r,o=t-i,l=2*this.near/(a-n),h=2*this.near/(t-o),c=(a+n)/(a-n),u=(t+o)/(t-o),d=-(this.far+this.near)/(this.far-this.near),p=-2*this.far*this.near/(this.far-this.near);this.projectionMatrix.setFromArray([l,0,0,0,0,h,0,0,c,u,d,-1,0,0,p,0])}forceUpdate(){this._shouldUpdate=!0}cancelUpdate(){this._shouldUpdate=!1}}class aa{constructor(e=new Float32Array([0,0,0,1]),t="XYZ"){this.type="Quat",this.elements=e,this.axisOrder=t}setFromArray(e){return this.elements[0]=e[0],this.elements[1]=e[1],this.elements[2]=e[2],this.elements[3]=e[3],this}setAxisOrder(e){switch(e=e.toUpperCase(),e){case"XYZ":case"YXZ":case"ZXY":case"ZYX":case"YZX":case"XZY":this.axisOrder=e;break;default:this.axisOrder="XYZ"}return this}copy(e){return this.elements=e.elements,this.axisOrder=e.axisOrder,this}clone(){return new aa().copy(this)}equals(e){return this.elements[0]===e.elements[0]&&this.elements[1]===e.elements[1]&&this.elements[2]===e.elements[2]&&this.elements[3]===e.elements[3]&&this.axisOrder===e.axisOrder}setFromVec3(e){const t=e.x*.5,i=e.y*.5,r=e.z*.5,n=Math.cos(t),a=Math.cos(i),o=Math.cos(r),l=Math.sin(t),h=Math.sin(i),c=Math.sin(r);return this.axisOrder==="XYZ"?(this.elements[0]=l*a*o+n*h*c,this.elements[1]=n*h*o-l*a*c,this.elements[2]=n*a*c+l*h*o,this.elements[3]=n*a*o-l*h*c):this.axisOrder==="YXZ"?(this.elements[0]=l*a*o+n*h*c,this.elements[1]=n*h*o-l*a*c,this.elements[2]=n*a*c-l*h*o,this.elements[3]=n*a*o+l*h*c):this.axisOrder==="ZXY"?(this.elements[0]=l*a*o-n*h*c,this.elements[1]=n*h*o+l*a*c,this.elements[2]=n*a*c+l*h*o,this.elements[3]=n*a*o-l*h*c):this.axisOrder==="ZYX"?(this.elements[0]=l*a*o-n*h*c,this.elements[1]=n*h*o+l*a*c,this.elements[2]=n*a*c-l*h*o,this.elements[3]=n*a*o+l*h*c):this.axisOrder==="YZX"?(this.elements[0]=l*a*o+n*h*c,this.elements[1]=n*h*o+l*a*c,this.elements[2]=n*a*c-l*h*o,this.elements[3]=n*a*o-l*h*c):this.axisOrder==="XZY"&&(this.elements[0]=l*a*o-n*h*c,this.elements[1]=n*h*o-l*a*c,this.elements[2]=n*a*c+l*h*o,this.elements[3]=n*a*o+l*h*c),this}}const hg=new qi,cg=new Le,ug=new Le,dg=new Le,pg=new Le,fg=new Le,gg=new Le,ei=new Le,ti=new Le,Uc=new aa,mg=new Le(.5,.5,0),_g=new Le,yg=new Le,bg=new Le,vg=new Le,xg=new qi;class wg extends og{constructor(e,t,{widthSegments:i,heightSegments:r,renderOrder:n,depthTest:a,cullFace:o,uniforms:l,vertexShaderID:h,fragmentShaderID:c,vertexShader:u,fragmentShader:d,texturesOptions:p,crossOrigin:g,alwaysDraw:f=!1,visible:y=!0,transparent:b=!1,drawCheckMargins:m={top:0,right:0,bottom:0,left:0},autoloadSources:v=!0,watchScroll:x=!0,fov:w=50}={}){super(e,t,"Plane",{widthSegments:i,heightSegments:r,renderOrder:n,depthTest:a,cullFace:o,uniforms:l,vertexShaderID:h,fragmentShaderID:c,vertexShader:u,fragmentShader:d,texturesOptions:p,crossOrigin:g}),this.gl&&(this.index=this.renderer.planes.length,this.target=null,this.alwaysDraw=f,this._shouldDraw=!0,this.visible=y,this._transparent=b,this.drawCheckMargins=m,this.autoloadSources=v,this.watchScroll=x,this._updateMVMatrix=!1,this.camera=new lg({fov:w,width:this.renderer._boundingRect.width,height:this.renderer._boundingRect.height,pixelRatio:this.renderer.pixelRatio}),this._program.compiled&&(this._initPlane(),this.renderer.scene.addPlane(this),this.renderer.planes.push(this)))}_programRestored(){this.target&&this.setRenderTarget(this.renderer.renderTargets[this.target.index]),this._initMatrices(),this.setPerspective(this.camera.fov,this.camera.near,this.camera.far),this._setWorldSizes(),this._applyWorldPositions(),this.renderer.scene.addPlane(this);for(let e=0;e<this.textures.length;e++)this.textures[e]._parent=this,this.textures[e]._restoreContext();this._canDraw=!0}_initPlane(){this._initTransformValues(),this._initPositions(),this.setPerspective(this.camera.fov,this.camera.near,this.camera.far),this._initSources()}_initTransformValues(){this.rotation=new Le,this.rotation.onChange(()=>this._applyRotation()),this.quaternion=new aa,this.relativeTranslation=new Le,this.relativeTranslation.onChange(()=>this._setTranslation()),this._translation=new Le,this.scale=new Le(1),this.scale.onChange(()=>{this.scale.z=1,this._applyScale()}),this.transformOrigin=new Le(.5,.5,0),this.transformOrigin.onChange(()=>{this._setWorldTransformOrigin(),this._updateMVMatrix=!0})}resetPlane(e){this._initTransformValues(),this._setWorldTransformOrigin(),e!==null&&e?(this.htmlElement=e,this.resize()):!e&&!this.renderer.production&&X(this.type+": You are trying to reset a plane with a HTML element that does not exist. The old HTML element will be kept instead.")}removeRenderTarget(){this.target&&(this.renderer.scene.removePlane(this),this.target=null,this.renderer.scene.addPlane(this))}_initPositions(){this._initMatrices(),this._setWorldSizes(),this._applyWorldPositions()}_initMatrices(){const e=new Ai;this._matrices={world:{matrix:e},modelView:{name:"uMVMatrix",matrix:e,location:this.gl.getUniformLocation(this._program.program,"uMVMatrix")},projection:{name:"uPMatrix",matrix:e,location:this.gl.getUniformLocation(this._program.program,"uPMatrix")},modelViewProjection:{matrix:e}}}_setPerspectiveMatrix(){this.camera._shouldUpdate&&(this.renderer.useProgram(this._program),this.gl.uniformMatrix4fv(this._matrices.projection.location,!1,this._matrices.projection.matrix.elements)),this.camera.cancelUpdate()}setPerspective(e,t,i){this.camera.setPerspective(e,t,i,this.renderer._boundingRect.width,this.renderer._boundingRect.height,this.renderer.pixelRatio),this.renderer.state.isContextLost&&this.camera.forceUpdate(),this._matrices.projection.matrix=this.camera.projectionMatrix,this.camera._shouldUpdate&&(this._setWorldSizes(),this._applyWorldPositions(),this._translation.z=this.relativeTranslation.z/this.camera.CSSPerspective),this._updateMVMatrix=this.camera._shouldUpdate}_setMVMatrix(){this._updateMVMatrix&&(this._matrices.world.matrix=this._matrices.world.matrix.composeFromOrigin(this._translation,this.quaternion,this.scale,this._boundingRect.world.transformOrigin),this._matrices.world.matrix.scale({x:this._boundingRect.world.width,y:this._boundingRect.world.height,z:1}),this._matrices.modelView.matrix.copy(this._matrices.world.matrix),this._matrices.modelView.matrix.elements[14]-=this.camera.position.z,this._matrices.modelViewProjection.matrix=this._matrices.projection.matrix.multiply(this._matrices.modelView.matrix),this.alwaysDraw||this._shouldDrawCheck(),this.renderer.useProgram(this._program),this.gl.uniformMatrix4fv(this._matrices.modelView.location,!1,this._matrices.modelView.matrix.elements)),this._updateMVMatrix=!1}_setWorldTransformOrigin(){this._boundingRect.world.transformOrigin=new Le((this.transformOrigin.x*2-1)*this._boundingRect.world.width,-(this.transformOrigin.y*2-1)*this._boundingRect.world.height,this.transformOrigin.z)}_documentToWorldSpace(e){return ug.set(e.x*this.renderer.pixelRatio/this.renderer._boundingRect.width*this._boundingRect.world.ratios.width,-(e.y*this.renderer.pixelRatio/this.renderer._boundingRect.height)*this._boundingRect.world.ratios.height,e.z)}_setWorldSizes(){const e=this.camera.getScreenRatiosFromFov();this._boundingRect.world={width:this._boundingRect.document.width/this.renderer._boundingRect.width*e.width/2,height:this._boundingRect.document.height/this.renderer._boundingRect.height*e.height/2,ratios:e},this._setWorldTransformOrigin()}_setWorldPosition(){const e={x:this._boundingRect.document.width/2+this._boundingRect.document.left,y:this._boundingRect.document.height/2+this._boundingRect.document.top},t={x:this.renderer._boundingRect.width/2+this.renderer._boundingRect.left,y:this.renderer._boundingRect.height/2+this.renderer._boundingRect.top};this._boundingRect.world.top=(t.y-e.y)/this.renderer._boundingRect.height*this._boundingRect.world.ratios.height,this._boundingRect.world.left=(e.x-t.x)/this.renderer._boundingRect.width*this._boundingRect.world.ratios.width}setScale(e){if(!e.type||e.type!=="Vec2"){this.renderer.production||X(this.type+": Cannot set scale because the parameter passed is not of Vec2 type:",e);return}e.sanitizeNaNValuesWith(this.scale).max(hg.set(.001,.001)),(e.x!==this.scale.x||e.y!==this.scale.y)&&(this.scale.set(e.x,e.y,1),this._applyScale())}_applyScale(){for(let e=0;e<this.textures.length;e++)this.textures[e].resize();this._updateMVMatrix=!0}setRotation(e){if(!e.type||e.type!=="Vec3"){this.renderer.production||X(this.type+": Cannot set rotation because the parameter passed is not of Vec3 type:",e);return}e.sanitizeNaNValuesWith(this.rotation),e.equals(this.rotation)||(this.rotation.copy(e),this._applyRotation())}_applyRotation(){this.quaternion.setFromVec3(this.rotation),this._updateMVMatrix=!0}setTransformOrigin(e){if(!e.type||e.type!=="Vec3"){this.renderer.production||X(this.type+": Cannot set transform origin because the parameter passed is not of Vec3 type:",e);return}e.sanitizeNaNValuesWith(this.transformOrigin),e.equals(this.transformOrigin)||(this.transformOrigin.copy(e),this._setWorldTransformOrigin(),this._updateMVMatrix=!0)}_setTranslation(){let e=cg.set(0,0,0);this.relativeTranslation.equals(e)||(e=this._documentToWorldSpace(this.relativeTranslation)),this._translation.set(this._boundingRect.world.left+e.x,this._boundingRect.world.top+e.y,this.relativeTranslation.z/this.camera.CSSPerspective),this._updateMVMatrix=!0}setRelativeTranslation(e){if(!e.type||e.type!=="Vec3"){this.renderer.production||X(this.type+": Cannot set translation because the parameter passed is not of Vec3 type:",e);return}e.sanitizeNaNValuesWith(this.relativeTranslation),e.equals(this.relativeTranslation)||(this.relativeTranslation.copy(e),this._setTranslation())}_applyWorldPositions(){this._setWorldPosition(),this._setTranslation()}updatePosition(){this._setDocumentSizes(),this._applyWorldPositions()}updateScrollPosition(e,t){(e||t)&&(this._boundingRect.document.top+=t*this.renderer.pixelRatio,this._boundingRect.document.left+=e*this.renderer.pixelRatio,this._applyWorldPositions())}_getIntersection(e,t){let i=t.clone().sub(e),r=e.clone();for(;r.z>-1;)r.add(i);return r}_getNearPlaneIntersections(e,t,i){const r=this._matrices.modelViewProjection.matrix;if(i.length===1)i[0]===0?(t[0]=this._getIntersection(t[1],ei.set(.95,1,0).applyMat4(r)),t.push(this._getIntersection(t[3],ti.set(-1,-.95,0).applyMat4(r)))):i[0]===1?(t[1]=this._getIntersection(t[0],ei.set(-.95,1,0).applyMat4(r)),t.push(this._getIntersection(t[2],ti.set(1,-.95,0).applyMat4(r)))):i[0]===2?(t[2]=this._getIntersection(t[3],ei.set(-.95,-1,0).applyMat4(r)),t.push(this._getIntersection(t[1],ti.set(1,.95,0).applyMat4(r)))):i[0]===3&&(t[3]=this._getIntersection(t[2],ei.set(.95,-1,0).applyMat4(r)),t.push(this._getIntersection(t[0],ti.set(-1,.95,0).applyMat4(r))));else if(i.length===2)i[0]===0&&i[1]===1?(t[0]=this._getIntersection(t[3],ei.set(-1,-.95,0).applyMat4(r)),t[1]=this._getIntersection(t[2],ti.set(1,-.95,0).applyMat4(r))):i[0]===1&&i[1]===2?(t[1]=this._getIntersection(t[0],ei.set(-.95,1,0).applyMat4(r)),t[2]=this._getIntersection(t[3],ti.set(-.95,-1,0).applyMat4(r))):i[0]===2&&i[1]===3?(t[2]=this._getIntersection(t[1],ei.set(1,.95,0).applyMat4(r)),t[3]=this._getIntersection(t[0],ti.set(-1,.95,0).applyMat4(r))):i[0]===0&&i[1]===3&&(t[0]=this._getIntersection(t[1],ei.set(.95,1,0).applyMat4(r)),t[3]=this._getIntersection(t[2],ti.set(.95,-1,0).applyMat4(r)));else if(i.length===3){let n=0;for(let a=0;a<e.length;a++)i.includes(a)||(n=a);t=[t[n]],n===0?(t.push(this._getIntersection(t[0],ei.set(-.95,1,0).applyMat4(r))),t.push(this._getIntersection(t[0],ti.set(-1,.95,0).applyMat4(r)))):n===1?(t.push(this._getIntersection(t[0],ei.set(.95,1,0).applyMat4(r))),t.push(this._getIntersection(t[0],ti.set(1,.95,0).applyMat4(r)))):n===2?(t.push(this._getIntersection(t[0],ei.set(.95,-1,0).applyMat4(r))),t.push(this._getIntersection(t[0],ti.set(1,-.95,0).applyMat4(r)))):n===3&&(t.push(this._getIntersection(t[0],ei.set(-.95,-1,0).applyMat4(r))),t.push(this._getIntersection(t[0],ti.set(-1-.95,0).applyMat4(r))))}else for(let n=0;n<e.length;n++)t[n][0]=1e4,t[n][1]=1e4;return t}_getWorldCoords(){const e=[dg.set(-1,1,0),pg.set(1,1,0),fg.set(1,-1,0),gg.set(-1,-1,0)];let t=[],i=[];for(let l=0;l<e.length;l++){const h=e[l].applyMat4(this._matrices.modelViewProjection.matrix);t.push(h),Math.abs(h.z)>1&&i.push(l)}i.length&&(t=this._getNearPlaneIntersections(e,t,i));let r=1/0,n=-1/0,a=1/0,o=-1/0;for(let l=0;l<t.length;l++){const h=t[l];h.x<r&&(r=h.x),h.x>n&&(n=h.x),h.y<a&&(a=h.y),h.y>o&&(o=h.y)}return{top:o,right:n,bottom:a,left:r}}_computeWebGLBoundingRect(){const e=this._getWorldCoords();let t={top:1-(e.top+1)/2,right:(e.right+1)/2,bottom:1-(e.bottom+1)/2,left:(e.left+1)/2};t.width=t.right-t.left,t.height=t.bottom-t.top,this._boundingRect.worldToDocument={width:t.width*this.renderer._boundingRect.width,height:t.height*this.renderer._boundingRect.height,top:t.top*this.renderer._boundingRect.height+this.renderer._boundingRect.top,left:t.left*this.renderer._boundingRect.width+this.renderer._boundingRect.left,right:t.left*this.renderer._boundingRect.width+this.renderer._boundingRect.left+t.width*this.renderer._boundingRect.width,bottom:t.top*this.renderer._boundingRect.height+this.renderer._boundingRect.top+t.height*this.renderer._boundingRect.height}}getWebGLBoundingRect(){if(this._matrices.modelViewProjection)(!this._boundingRect.worldToDocument||this.alwaysDraw)&&this._computeWebGLBoundingRect();else return this._boundingRect.document;return this._boundingRect.worldToDocument}_getWebGLDrawRect(){return this._computeWebGLBoundingRect(),{top:this._boundingRect.worldToDocument.top-this.drawCheckMargins.top,right:this._boundingRect.worldToDocument.right+this.drawCheckMargins.right,bottom:this._boundingRect.worldToDocument.bottom+this.drawCheckMargins.bottom,left:this._boundingRect.worldToDocument.left-this.drawCheckMargins.left}}_shouldDrawCheck(){const e=this._getWebGLDrawRect();Math.round(e.right)<=this.renderer._boundingRect.left||Math.round(e.left)>=this.renderer._boundingRect.left+this.renderer._boundingRect.width||Math.round(e.bottom)<=this.renderer._boundingRect.top||Math.round(e.top)>=this.renderer._boundingRect.top+this.renderer._boundingRect.height?this._shouldDraw&&(this._shouldDraw=!1,this.renderer.nextRender.add(()=>this._onLeaveViewCallback&&this._onLeaveViewCallback())):(this._shouldDraw||this.renderer.nextRender.add(()=>this._onReEnterViewCallback&&this._onReEnterViewCallback()),this._shouldDraw=!0)}isDrawn(){return this._canDraw&&this.visible&&(this._shouldDraw||this.alwaysDraw)}enableDepthTest(e){this._depthTest=e}_initSources(){let e=0;if(this.autoloadSources){const t=this.htmlElement.getElementsByTagName("img"),i=this.htmlElement.getElementsByTagName("video"),r=this.htmlElement.getElementsByTagName("canvas");t.length&&this.loadImages(t),i.length&&this.loadVideos(i),r.length&&this.loadCanvases(r),e=t.length+i.length+r.length}this.loader._setLoaderSize(e),this._canDraw=!0}_startDrawing(){this._canDraw&&(this._onRenderCallback&&this._onRenderCallback(),this.target?this.renderer.bindFrameBuffer(this.target):this.renderer.state.scenePassIndex===null&&this.renderer.bindFrameBuffer(null),this._setPerspectiveMatrix(),this._setMVMatrix(),(this.alwaysDraw||this._shouldDraw)&&this.visible&&this._draw())}mouseToPlaneCoords(e){if(Uc.setAxisOrder(this.quaternion.axisOrder),Uc.equals(this.quaternion)&&mg.equals(this.transformOrigin))return super.mouseToPlaneCoords(e);{const t={x:2*(e.x/(this.renderer._boundingRect.width/this.renderer.pixelRatio))-1,y:2*(1-e.y/(this.renderer._boundingRect.height/this.renderer.pixelRatio))-1},i=this.camera.position.clone(),r=_g.set(t.x,t.y,-.5);r.unproject(this.camera),r.sub(i).normalize();const n=yg.set(0,0,-1);n.applyQuat(this.quaternion).normalize();const a=vg.set(0,0,0),o=n.dot(r);if(Math.abs(o)>=1e-4){const l=this._matrices.world.matrix.getInverse().multiply(this.camera.viewMatrix),h=this._boundingRect.world.transformOrigin.clone().add(this._translation),c=bg.set(this._translation.x-h.x,this._translation.y-h.y,this._translation.z-h.z);c.applyQuat(this.quaternion),h.add(c);const u=n.dot(h.clone().sub(i))/o;a.copy(i.add(r.multiplyScalar(u))),a.applyMat4(l)}else a.set(1/0,1/0,1/0);return xg.set(a.x,a.y)}}onReEnterView(e){return e&&(this._onReEnterViewCallback=e),this}onLeaveView(e){return e&&(this._onLeaveViewCallback=e),this}}var Tg=`precision mediump float;

attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;
uniform mat4 planeTextureMatrix;

varying vec3 vVertexPosition;
varying vec2 vTextureCoord;

uniform float uPlaneDeformation;

void main() {
    vec3 vertexPosition = aVertexPosition;
    
    
    vertexPosition.y += sin(((vertexPosition.x + 1.0) / 2.0) * 3.141592) * (sin(uPlaneDeformation / 90.0));
    
    
    gl_Position = uPMatrix * uMVMatrix * vec4(vertexPosition, 1.0);
    
    
    vVertexPosition = vertexPosition;
    vTextureCoord = (planeTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
}`,kg=`precision mediump float;

varying vec3 vVertexPosition;
varying vec2 vTextureCoord;

uniform sampler2D planeTexture;

uniform float uTime; 
uniform float uDistortionAmount; 

void main() {
    float rOffset = uDistortionAmount * cos(uTime + 0.0);
    float gOffset = uDistortionAmount * sin(uTime + 2.0);
    float bOffset = uDistortionAmount * cos(uTime + 4.0);

    float r = texture2D(planeTexture, vTextureCoord + vec2(rOffset, 0.0)).r;
    float g = texture2D(planeTexture, vTextureCoord + vec2(gOffset, 0.0)).g;
    float b = texture2D(planeTexture, vTextureCoord + vec2(bOffset, 0.0)).b;

    gl_FragColor = vec4(r, g, b, 1.0);
}`;function Ko(s,e,t){return s+(e-s)*t}function Sg(){const s=new Xf({container:"canvas",pixelRatio:Math.min(1.5,window.devicePixelRatio)});let e=0,t=0,i=0;s.onRender(()=>{e=Ko(e,0,.075),a.forEach(o=>{const l=o.uniforms.uDistortionAmount.value;o.uniforms.uDistortionAmount.value=Ko(l,i,.1)})}).onError(()=>{document.body.classList.add("no-curtains","planes-loaded")}).onContextLost(()=>{s.restoreContext()});const r=document.querySelectorAll("[data-plane]"),n={vertexShader:Tg,fragmentShader:kg,widthSegments:10,heightSegments:10,fov:45,uniforms:{planeDeformation:{name:"uPlaneDeformation",type:"1f",value:0},uTime:{name:"uTime",type:"1f",value:0},uDistortionAmount:{name:"uDistortionAmount",type:"1f",value:0}}},a=Array.from(r).map(o=>{const l=new wg(s,o,n);return l.onReady(()=>{document.body.classList.add("planes-loaded")}).onRender(()=>{l.uniforms.planeDeformation.value=e,l.uniforms.uTime.value+=.01}),l});window.addEventListener("scroll",()=>{const o=window.pageYOffset||document.documentElement.scrollTop;i=o>t?.005:0,t=o<=0?0:o;const l=s.getScrollDeltas();l.y=-l.y,l.y>60?l.y=60:l.y<-60&&(l.y=-60),Math.abs(l.y)>Math.abs(e)&&(e=Ko(e,l.y,.3))},{passive:!0})}function cr(s,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?s!==e||!i:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(s):i?i.value:e.get(s)}function oa(s,e,t,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?s!==e||!r:!e.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(s,t):r?r.value=t:e.set(s,t),t}typeof SuppressedError=="function"&&SuppressedError;var Ks,Qs,Zs,Js;function la(s,e,t){return Math.max(s,Math.min(e,t))}class Pg{advance(e){var o;if(!this.isRunning)return;let t=!1;if(this.lerp)this.value=(i=this.value,r=this.to,n=60*this.lerp,a=e,function(l,h,c){return(1-c)*l+c*h}(i,r,1-Math.exp(-n*a))),Math.round(this.value)===this.to&&(this.value=this.to,t=!0);else{this.currentTime+=e;const l=la(0,this.currentTime/this.duration,1);t=l>=1;const h=t?1:this.easing(l);this.value=this.from+(this.to-this.from)*h}var i,r,n,a;(o=this.onUpdate)==null||o.call(this,this.value,t),t&&this.stop()}stop(){this.isRunning=!1}fromTo(e,t,{lerp:i=.1,duration:r=1,easing:n=l=>l,onStart:a,onUpdate:o}){this.from=this.value=e,this.to=t,this.lerp=i,this.duration=r,this.easing=n,this.currentTime=0,this.isRunning=!0,a==null||a(),this.onUpdate=o}}class Eg{constructor({wrapper:e,content:t,autoResize:i=!0}={}){wr(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});wr(this,"onWrapperResize",()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});wr(this,"onContentResize",()=>{this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth});if(this.wrapper=e,this.content=t,i){const r=function(n,a){let o;return function(){let l=arguments,h=this;clearTimeout(o),o=setTimeout(function(){n.apply(h,l)},a)}}(this.resize,250);this.wrapper!==window&&(this.wrapperResizeObserver=new ResizeObserver(r),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(r),this.contentResizeObserver.observe(this.content)}this.resize()}destroy(){var e,t;(e=this.wrapperResizeObserver)==null||e.disconnect(),(t=this.contentResizeObserver)==null||t.disconnect()}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class Bc{constructor(){this.events={}}emit(e,...t){let i=this.events[e]||[];for(let r=0,n=i.length;r<n;r++)i[r](...t)}on(e,t){var i;return(i=this.events[e])!=null&&i.push(t)||(this.events[e]=[t]),()=>{var r;this.events[e]=(r=this.events[e])==null?void 0:r.filter(n=>t!==n)}}off(e,t){var i;this.events[e]=(i=this.events[e])==null?void 0:i.filter(r=>t!==r)}destroy(){this.events={}}}class Cg{constructor(e,{wheelMultiplier:t=1,touchMultiplier:i=2,normalizeWheel:r=!1}){wr(this,"onTouchStart",e=>{const{clientX:t,clientY:i}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=t,this.touchStart.y=i,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})});wr(this,"onTouchMove",e=>{const{clientX:t,clientY:i}=e.targetTouches?e.targetTouches[0]:e,r=-(t-this.touchStart.x)*this.touchMultiplier,n=-(i-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=t,this.touchStart.y=i,this.lastDelta={x:r,y:n},this.emitter.emit("scroll",{deltaX:r,deltaY:n,event:e})});wr(this,"onTouchEnd",e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})});wr(this,"onWheel",e=>{let{deltaX:t,deltaY:i}=e;this.normalizeWheel&&(t=la(-100,t,100),i=la(-100,i,100)),t*=this.wheelMultiplier,i*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:i,event:e})});this.element=e,this.wheelMultiplier=t,this.touchMultiplier=i,this.normalizeWheel=r,this.touchStart={x:null,y:null},this.emitter=new Bc,this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}}class Ag{constructor({wrapper:e=window,content:t=document.documentElement,wheelEventsTarget:i=e,eventsTarget:r=i,smoothWheel:n=!0,syncTouch:a=!1,syncTouchLerp:o=.075,touchInertiaMultiplier:l=35,duration:h,easing:c=v=>Math.min(1,1.001-Math.pow(2,-10*v)),lerp:u=!h&&.1,infinite:d=!1,orientation:p="vertical",gestureOrientation:g="vertical",touchMultiplier:f=1,wheelMultiplier:y=1,normalizeWheel:b=!1,autoResize:m=!0}={}){Ks.set(this,!1),Qs.set(this,!1),Zs.set(this,!1),Js.set(this,!1),this.onVirtualScroll=({deltaX:v,deltaY:x,event:w})=>{if(w.ctrlKey)return;const T=w.type.includes("touch"),k=w.type.includes("wheel");if(this.options.syncTouch&&T&&w.type==="touchstart")return void this.reset();const A=v===0&&x===0,E=this.options.gestureOrientation==="vertical"&&x===0||this.options.gestureOrientation==="horizontal"&&v===0;if(A||E)return;let P=w.composedPath();if(P=P.slice(0,P.indexOf(this.rootElement)),P.find(z=>{var O,L,U,G;return((O=z.hasAttribute)===null||O===void 0?void 0:O.call(z,"data-lenis-prevent"))||T&&((L=z.hasAttribute)===null||L===void 0?void 0:L.call(z,"data-lenis-prevent-touch"))||k&&((U=z.hasAttribute)===null||U===void 0?void 0:U.call(z,"data-lenis-prevent-wheel"))||((G=z.classList)===null||G===void 0?void 0:G.contains("lenis"))}))return;if(this.isStopped||this.isLocked)return void w.preventDefault();if(this.isSmooth=this.options.syncTouch&&T||this.options.smoothWheel&&k,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();w.preventDefault();let R=x;this.options.gestureOrientation==="both"?R=Math.abs(x)>Math.abs(v)?x:v:this.options.gestureOrientation==="horizontal"&&(R=v);const M=T&&this.options.syncTouch,N=T&&w.type==="touchend"&&Math.abs(R)>5;N&&(R=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+R,Object.assign({programmatic:!1},M?{lerp:N?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const v=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-v),this.emit()}},window.lenisVersion="1.0.35",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:t,wheelEventsTarget:i,eventsTarget:r,smoothWheel:n,syncTouch:a,syncTouchLerp:o,touchInertiaMultiplier:l,duration:h,easing:c,lerp:u,infinite:d,gestureOrientation:g,orientation:p,touchMultiplier:f,wheelMultiplier:y,normalizeWheel:b,autoResize:m},this.animate=new Pg,this.emitter=new Bc,this.dimensions=new Eg({wrapper:e,content:t,autoResize:m}),this.toggleClass("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=a||n,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,{passive:!1}),this.virtualScroll=new Cg(r,{touchMultiplier:f,wheelMultiplier:y,normalizeWheel:b}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,{passive:!1}),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClass("lenis",!1),this.toggleClass("lenis-smooth",!1),this.toggleClass("lenis-scrolling",!1),this.toggleClass("lenis-stopped",!1),this.toggleClass("lenis-locked",!1)}on(e,t){return this.emitter.on(e,t)}off(e,t){return this.emitter.off(e,t)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped=!1,this.reset()}stop(){this.isStopped=!0,this.animate.stop(),this.reset()}raf(e){const t=e-(this.time||e);this.time=e,this.animate.advance(.001*t)}scrollTo(e,{offset:t=0,immediate:i=!1,lock:r=!1,duration:n=this.options.duration,easing:a=this.options.easing,lerp:o=!n&&this.options.lerp,onComplete:l,force:h=!1,programmatic:c=!0}={}){if(!this.isStopped&&!this.isLocked||h){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{let u;if(typeof e=="string"?u=document.querySelector(e):e!=null&&e.nodeType&&(u=e),u){if(this.options.wrapper!==window){const p=this.options.wrapper.getBoundingClientRect();t-=this.isHorizontal?p.left:p.top}const d=u.getBoundingClientRect();e=(this.isHorizontal?d.left:d.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=t,e=Math.round(e),this.options.infinite?c&&(this.targetScroll=this.animatedScroll=this.scroll):e=la(0,e,this.limit),i)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(l==null||l(this));if(!c){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:n,easing:a,lerp:o,onStart:()=>{r&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(u,d)=>{this.isScrolling=!0,this.velocity=u-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=u,this.setScroll(this.scroll),c&&(this.targetScroll=u),d||this.emit(),d&&(this.reset(),this.emit(),l==null||l(this),this.__preventNextScrollEvent=!0,requestAnimationFrame(()=>{delete this.__preventNextScrollEvent}))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(e=this.animatedScroll,t=this.limit,(e%t+t)%t):this.animatedScroll;var e,t}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return cr(this,Ks,"f")}set isSmooth(e){cr(this,Ks,"f")!==e&&(oa(this,Ks,e,"f"),this.toggleClass("lenis-smooth",e))}get isScrolling(){return cr(this,Qs,"f")}set isScrolling(e){cr(this,Qs,"f")!==e&&(oa(this,Qs,e,"f"),this.toggleClass("lenis-scrolling",e))}get isStopped(){return cr(this,Zs,"f")}set isStopped(e){cr(this,Zs,"f")!==e&&(oa(this,Zs,e,"f"),this.toggleClass("lenis-stopped",e))}get isLocked(){return cr(this,Js,"f")}set isLocked(e){cr(this,Js,"f")!==e&&(oa(this,Js,e,"f"),this.toggleClass("lenis-locked",e))}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}toggleClass(e,t){this.rootElement.classList.toggle(e,t),this.emitter.emit("className change",this)}}Ks=new WeakMap,Qs=new WeakMap,Zs=new WeakMap,Js=new WeakMap;const Mg={autoinit:!0,duration:1,orientation:"vertical",smoothWheel:!0,smoothTouch:!1,touchMultiplier:1.5,easing:s=>s===1?1:1-Math.pow(2,-10*s),useOverscroll:!0,useControls:!0,useAnchor:!0,useRaf:!0,infinite:!1},Rg=new Ag(Mg);function $c(s){Rg.raf(s),requestAnimationFrame($c)}requestAnimationFrame($c);function Og(){const s=new MutationObserver(t=>{t.forEach(i=>{if(i.attributeName==="class"){const r=i.target;if(r.getAttribute("data-linktarget")&&r.classList.contains("w--current")){const n=r.closest("[data-scrolllink]");n&&n.classList.add("active")}else{const n=r.closest("[data-scrolllink]");n&&n.classList.remove("active")}}})}),e={attributes:!0,subtree:!0};s.observe(document.body,e)}(function(){function s(){for(var i=arguments.length,r=0;r<i;r++){var n=r<0||arguments.length<=r?void 0:arguments[r];n.nodeType===1||n.nodeType===11?this.appendChild(n):this.appendChild(document.createTextNode(String(n)))}}function e(){for(;this.lastChild;)this.removeChild(this.lastChild);arguments.length&&this.append.apply(this,arguments)}function t(){for(var i=this.parentNode,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var o=n.length;if(i)for(o||i.removeChild(this);o--;){var l=n[o];typeof l!="object"?l=this.ownerDocument.createTextNode(l):l.parentNode&&l.parentNode.removeChild(l),o?i.insertBefore(this.previousSibling,l):i.replaceChild(l,this)}}typeof Element<"u"&&(Element.prototype.append||(Element.prototype.append=s,DocumentFragment.prototype.append=s),Element.prototype.replaceChildren||(Element.prototype.replaceChildren=e,DocumentFragment.prototype.replaceChildren=e),Element.prototype.replaceWith||(Element.prototype.replaceWith=t,DocumentFragment.prototype.replaceWith=t))})();function Lg(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function Wc(s,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(s,i.key,i)}}function qc(s,e,t){return e&&Wc(s.prototype,e),t&&Wc(s,t),s}function Dg(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function jc(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),t.push.apply(t,i)}return t}function Hc(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jc(Object(t),!0).forEach(function(i){Dg(s,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):jc(Object(t)).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(t,i))})}return s}function Yc(s,e){return Ig(s)||Ng(s,e)||Xc(s,e)||Ug()}function St(s){return zg(s)||Fg(s)||Xc(s)||Vg()}function zg(s){if(Array.isArray(s))return Qo(s)}function Ig(s){if(Array.isArray(s))return s}function Fg(s){if(typeof Symbol<"u"&&Symbol.iterator in Object(s))return Array.from(s)}function Ng(s,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(s)))){var t=[],i=!0,r=!1,n=void 0;try{for(var a=s[Symbol.iterator](),o;!(i=(o=a.next()).done)&&(t.push(o.value),!(e&&t.length===e));i=!0);}catch(l){r=!0,n=l}finally{try{!i&&a.return!=null&&a.return()}finally{if(r)throw n}}return t}}function Xc(s,e){if(s){if(typeof s=="string")return Qo(s,e);var t=Object.prototype.toString.call(s).slice(8,-1);if(t==="Object"&&s.constructor&&(t=s.constructor.name),t==="Map"||t==="Set")return Array.from(s);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qo(s,e)}}function Qo(s,e){(e==null||e>s.length)&&(e=s.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=s[t];return i}function Vg(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ug(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dr(s,e){return Object.getOwnPropertyNames(Object(s)).reduce(function(t,i){var r=Object.getOwnPropertyDescriptor(Object(s),i),n=Object.getOwnPropertyDescriptor(Object(e),i);return Object.defineProperty(t,i,n||r)},{})}function en(s){return typeof s=="string"}function Zo(s){return Array.isArray(s)}function ha(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Dr(s),t;return e.types!==void 0?t=e.types:e.split!==void 0&&(t=e.split),t!==void 0&&(e.types=(en(t)||Zo(t)?String(t):"").split(",").map(function(i){return String(i).trim()}).filter(function(i){return/((line)|(word)|(char))/i.test(i)})),(e.absolute||e.position)&&(e.absolute=e.absolute||/absolute/.test(s.position)),e}function Jo(s){var e=en(s)||Zo(s)?String(s):"";return{none:!e,lines:/line/i.test(e),words:/word/i.test(e),chars:/char/i.test(e)}}function ca(s){return s!==null&&typeof s=="object"}function Bg(s){return ca(s)&&/^(1|3|11)$/.test(s.nodeType)}function $g(s){return typeof s=="number"&&s>-1&&s%1===0}function Wg(s){return ca(s)&&$g(s.length)}function zr(s){return Zo(s)?s:s==null?[]:Wg(s)?Array.prototype.slice.call(s):[s]}function Gc(s){var e=s;return en(s)&&(/^(#[a-z]\w+)$/.test(s.trim())?e=document.getElementById(s.trim().slice(1)):e=document.querySelectorAll(s)),zr(e).reduce(function(t,i){return[].concat(St(t),St(zr(i).filter(Bg)))},[])}var qg=Object.entries,ua="_splittype",ci={},jg=0;function Mi(s,e,t){if(!ca(s))return console.warn("[data.set] owner is not an object"),null;var i=s[ua]||(s[ua]=++jg),r=ci[i]||(ci[i]={});return t===void 0?e&&Object.getPrototypeOf(e)===Object.prototype&&(ci[i]=Hc(Hc({},r),e)):e!==void 0&&(r[e]=t),t}function Ir(s,e){var t=ca(s)?s[ua]:null,i=t&&ci[t]||{};return e===void 0?i:i[e]}function Kc(s){var e=s&&s[ua];e&&(delete s[e],delete ci[e])}function Hg(){Object.keys(ci).forEach(function(s){delete ci[s]})}function Yg(){qg(ci).forEach(function(s){var e=Yc(s,2),t=e[0],i=e[1],r=i.isRoot,n=i.isSplit;(!r||!n)&&(ci[t]=null,delete ci[t])})}function Xg(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",t=s?String(s):"";return t.trim().replace(/\s+/g," ").split(e)}var el="\\ud800-\\udfff",Qc="\\u0300-\\u036f\\ufe20-\\ufe23",Zc="\\u20d0-\\u20f0",Jc="\\ufe0e\\ufe0f",Gg="[".concat(el,"]"),tl="[".concat(Qc).concat(Zc,"]"),il="\\ud83c[\\udffb-\\udfff]",Kg="(?:".concat(tl,"|").concat(il,")"),eu="[^".concat(el,"]"),tu="(?:\\ud83c[\\udde6-\\uddff]){2}",iu="[\\ud800-\\udbff][\\udc00-\\udfff]",ru="\\u200d",su="".concat(Kg,"?"),nu="[".concat(Jc,"]?"),Qg="(?:"+ru+"(?:"+[eu,tu,iu].join("|")+")"+nu+su+")*",Zg=nu+su+Qg,Jg="(?:".concat(["".concat(eu).concat(tl,"?"),tl,tu,iu,Gg].join("|"),`
)`),em=RegExp("".concat(il,"(?=").concat(il,")|").concat(Jg).concat(Zg),"g"),tm=[ru,el,Qc,Zc,Jc],im=RegExp("[".concat(tm.join(""),"]"));function rm(s){return s.split("")}function au(s){return im.test(s)}function sm(s){return s.match(em)||[]}function nm(s){return au(s)?sm(s):rm(s)}function am(s){return s==null?"":String(s)}function om(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return s=am(s),s&&en(s)&&!e&&au(s)?nm(s):s.split(e)}function rl(s,e){var t=document.createElement(s);return e&&Object.keys(e).forEach(function(i){var r=e[i],n=en(r)?r.trim():r;n===null||n===""||(i==="children"?t.append.apply(t,St(zr(n))):t.setAttribute(i,n))}),t}var sl={splitClass:"",lineClass:"line",wordClass:"word",charClass:"char",types:["lines","words","chars"],absolute:!1,tagName:"div"};function lm(s,e){e=Dr(sl,e);var t=Jo(e.types),i=e.tagName,r=s.nodeValue,n=document.createDocumentFragment(),a=[],o=[];return/^\s/.test(r)&&n.append(" "),a=Xg(r).reduce(function(l,h,c,u){var d,p;return t.chars&&(p=om(h).map(function(g){var f=rl(i,{class:"".concat(e.splitClass," ").concat(e.charClass),style:"display: inline-block;",children:g});return Mi(f,"isChar",!0),o=[].concat(St(o),[f]),f})),t.words||t.lines?(d=rl(i,{class:"".concat(e.wordClass," ").concat(e.splitClass),style:"display: inline-block; ".concat(t.words&&e.absolute?"position: relative;":""),children:t.chars?p:h}),Mi(d,{isWord:!0,isWordStart:!0,isWordEnd:!0}),n.appendChild(d)):p.forEach(function(g){n.appendChild(g)}),c<u.length-1&&n.append(" "),t.words?l.concat(d):l},[]),/\s$/.test(r)&&n.append(" "),s.replaceWith(n),{words:a,chars:o}}function ou(s,e){var t=s.nodeType,i={words:[],chars:[]};if(!/(1|3|11)/.test(t))return i;if(t===3&&/\S/.test(s.nodeValue))return lm(s,e);var r=zr(s.childNodes);if(r.length&&(Mi(s,"isSplit",!0),!Ir(s).isRoot)){s.style.display="inline-block",s.style.position="relative";var n=s.nextSibling,a=s.previousSibling,o=s.textContent||"",l=n?n.textContent:" ",h=a?a.textContent:" ";Mi(s,{isWordEnd:/\s$/.test(o)||/^\s/.test(l),isWordStart:/^\s/.test(o)||/\s$/.test(h)})}return r.reduce(function(c,u){var d=ou(u,e),p=d.words,g=d.chars;return{words:[].concat(St(c.words),St(p)),chars:[].concat(St(c.chars),St(g))}},i)}function hm(s,e,t,i){if(!t.absolute)return{top:e?s.offsetTop:null};var r=s.offsetParent,n=Yc(i,2),a=n[0],o=n[1],l=0,h=0;if(r&&r!==document.body){var c=r.getBoundingClientRect();l=c.x+a,h=c.y+o}var u=s.getBoundingClientRect(),d=u.width,p=u.height,g=u.x,f=u.y,y=f+o-h,b=g+a-l;return{width:d,height:p,top:y,left:b}}function lu(s){Ir(s).isWord?(Kc(s),s.replaceWith.apply(s,St(s.childNodes))):zr(s.children).forEach(function(e){return lu(e)})}var cm=function(){return document.createDocumentFragment()};function um(s,e,t){var i=Jo(e.types),r=e.tagName,n=s.getElementsByTagName("*"),a=[],o=[],l=null,h,c,u,d=[],p=s.parentElement,g=s.nextElementSibling,f=cm(),y=window.getComputedStyle(s),b=y.textAlign,m=parseFloat(y.fontSize),v=m*.2;return e.absolute&&(u={left:s.offsetLeft,top:s.offsetTop,width:s.offsetWidth},c=s.offsetWidth,h=s.offsetHeight,Mi(s,{cssWidth:s.style.width,cssHeight:s.style.height})),zr(n).forEach(function(x){var w=x.parentElement===s,T=hm(x,w,e,t),k=T.width,A=T.height,E=T.top,P=T.left;/^br$/i.test(x.nodeName)||(i.lines&&w&&((l===null||E-l>=v)&&(l=E,a.push(o=[])),o.push(x)),e.absolute&&Mi(x,{top:E,left:P,width:k,height:A}))}),p&&p.removeChild(s),i.lines&&(d=a.map(function(x){var w=rl(r,{class:"".concat(e.splitClass," ").concat(e.lineClass),style:"display: block; text-align: ".concat(b,"; width: 100%;")});Mi(w,"isLine",!0);var T={height:0,top:1e4};return f.appendChild(w),x.forEach(function(k,A,E){var P=Ir(k),R=P.isWordEnd,M=P.top,N=P.height,z=E[A+1];T.height=Math.max(T.height,N),T.top=Math.min(T.top,M),w.appendChild(k),R&&Ir(z).isWordStart&&w.append(" ")}),e.absolute&&Mi(w,{height:T.height,top:T.top}),w}),i.words||lu(f),s.replaceChildren(f)),e.absolute&&(s.style.width="".concat(s.style.width||c,"px"),s.style.height="".concat(h,"px"),zr(n).forEach(function(x){var w=Ir(x),T=w.isLine,k=w.top,A=w.left,E=w.width,P=w.height,R=Ir(x.parentElement),M=!T&&R.isLine;x.style.top="".concat(M?k-R.top:k,"px"),x.style.left=T?"".concat(u.left,"px"):"".concat(A-(M?u.left:0),"px"),x.style.height="".concat(P,"px"),x.style.width=T?"".concat(u.width,"px"):"".concat(E,"px"),x.style.position="absolute"})),p&&(g?p.insertBefore(s,g):p.appendChild(s)),d}var ps=Dr(sl,{}),da=function(){qc(s,null,[{key:"clearData",value:function(){Hg()}},{key:"setDefaults",value:function(t){return ps=Dr(ps,ha(t)),sl}},{key:"revert",value:function(t){Gc(t).forEach(function(i){var r=Ir(i),n=r.isSplit,a=r.html,o=r.cssWidth,l=r.cssHeight;n&&(i.innerHTML=a,i.style.width=o||"",i.style.height=l||"",Kc(i))})}},{key:"create",value:function(t,i){return new s(t,i)}},{key:"data",get:function(){return ci}},{key:"defaults",get:function(){return ps},set:function(t){ps=Dr(ps,ha(t))}}]);function s(e,t){Lg(this,s),this.isSplit=!1,this.settings=Dr(ps,ha(t)),this.elements=Gc(e),this.split()}return qc(s,[{key:"split",value:function(t){var i=this;this.revert(),this.elements.forEach(function(a){Mi(a,"html",a.innerHTML)}),this.lines=[],this.words=[],this.chars=[];var r=[window.pageXOffset,window.pageYOffset];t!==void 0&&(this.settings=Dr(this.settings,ha(t)));var n=Jo(this.settings.types);n.none||(this.elements.forEach(function(a){Mi(a,"isRoot",!0);var o=ou(a,i.settings),l=o.words,h=o.chars;i.words=[].concat(St(i.words),St(l)),i.chars=[].concat(St(i.chars),St(h))}),this.elements.forEach(function(a){if(n.lines||i.settings.absolute){var o=um(a,i.settings,r);i.lines=[].concat(St(i.lines),St(o))}}),this.isSplit=!0,window.scrollTo(r[0],r[1]),Yg())}},{key:"revert",value:function(){this.isSplit&&(this.lines=null,this.words=null,this.chars=null,this.isSplit=!1),s.revert(this.elements)}}]),s}();new da("[data-split]",{types:"lines, words, chars",tagName:"span",html:!0});const ji={yPercent:90,duration:.6,ease:"power3.out",stagger:.02,staggerSecondSplit:.08};function hu(s,e=!1){ie.to(s,{yPercent:ji.yPercent,opacity:.4,duration:ji.duration,ease:ji.ease,stagger:e?ji.staggerSecondSplit:ji.stagger})}function cu(s,e=!1){ie.to(s,{yPercent:0,duration:ji.duration,opacity:1,ease:ji.ease,stagger:e?ji.staggerSecondSplit:ji.stagger})}function dm(){return new Swiper(".swiper.is-gallery",{loop:!0,slidesPerView:1.55,threshold:10,centeredSlides:!0,speed:600,grabCursor:!1,breakpoints:{320:{slidesPerView:1.2},480:{slidesPerView:1.2},640:{slidesPerView:1.2},768:{slidesPerView:1.2},1024:{slidesPerView:1.5}},parallax:!0,on:{init:function(){document.querySelectorAll(".swiper.is-gallery video").forEach(n=>{n.pause(),n.setAttribute("data-current-time","0")});const t=this.slides[this.activeIndex].querySelector("video");t&&t.play(),this.slides.forEach(n=>{n.querySelectorAll("[data-split]").forEach((o,l)=>{const h=o.querySelectorAll(".char");hu(h,l===1)})}),this.slides[this.activeIndex].querySelectorAll("[data-split]").forEach((n,a)=>{const o=n.querySelectorAll(".char");cu(o,a===1)})},slideChange:function(){document.querySelectorAll(".swiper.is-gallery video").forEach(n=>{n.setAttribute("data-current-time",n.currentTime.toString()),n.pause()});const t=this.slides[this.activeIndex],i=t.querySelector("video");if(i){const n=i.getAttribute("data-current-time");i.currentTime=n?parseFloat(n):0,i.play()}this.slides.forEach(n=>{n.querySelectorAll("[data-split]").forEach((o,l)=>{const h=o.querySelectorAll(".char");hu(h,l===1)})}),t.querySelectorAll("[data-split]").forEach((n,a)=>{const o=n.querySelectorAll(".char");cu(o,a===1)})}}})}function I(s,e,t){return(e=fm(e))in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function pm(s,e){if(typeof s!="object"||s===null)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var i=t.call(s,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function fm(s){var e=pm(s,"string");return typeof e=="symbol"?e:String(e)}function gm(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function uu(s,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(s,i.key,i)}}function mm(s,e,t){return e&&uu(s.prototype,e),t&&uu(s,t),s}function _m(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function du(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),t.push.apply(t,i)}return t}function pu(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?du(Object(t),!0).forEach(function(i){_m(s,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):du(Object(t)).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(t,i))})}return s}var fu={addCSS:!0,thumbWidth:15,watch:!0};function ym(s,e){return(function(){return Array.from(document.querySelectorAll(e)).includes(this)}).call(s,e)}function bm(s,e){if(s&&e){var t=new Event(e,{bubbles:!0});s.dispatchEvent(t)}}var tn=function(s){return s!=null?s.constructor:null},nl=function(s,e){return!!(s&&e&&s instanceof e)},gu=function(s){return s==null},mu=function(s){return tn(s)===Object},vm=function(s){return tn(s)===Number&&!Number.isNaN(s)},_u=function(s){return tn(s)===String},xm=function(s){return tn(s)===Boolean},wm=function(s){return tn(s)===Function},yu=function(s){return Array.isArray(s)},bu=function(s){return nl(s,NodeList)},Tm=function(s){return nl(s,Element)},km=function(s){return nl(s,Event)},Sm=function(s){return gu(s)||(_u(s)||yu(s)||bu(s))&&!s.length||mu(s)&&!Object.keys(s).length},mt={nullOrUndefined:gu,object:mu,number:vm,string:_u,boolean:xm,function:wm,array:yu,nodeList:bu,element:Tm,event:km,empty:Sm};function Pm(s){var e="".concat(s).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}function Em(s,e){if(1>e){var t=Pm(e);return parseFloat(s.toFixed(t))}return Math.round(s/e)*e}var Cm=function(){function s(e,t){gm(this,s),mt.element(e)?this.element=e:mt.string(e)&&(this.element=document.querySelector(e)),mt.element(this.element)&&mt.empty(this.element.rangeTouch)&&(this.config=pu({},fu,{},t),this.init())}return mm(s,[{key:"init",value:function(){s.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){s.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,i=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(r){t.element[i](r,function(n){return t.set(n)},!1)})}},{key:"get",value:function(e){if(!s.enabled||!mt.event(e))return null;var t,i=e.target,r=e.changedTouches[0],n=parseFloat(i.getAttribute("min"))||0,a=parseFloat(i.getAttribute("max"))||100,o=parseFloat(i.getAttribute("step"))||1,l=i.getBoundingClientRect(),h=100/l.width*(this.config.thumbWidth/2)/100;return 0>(t=100/l.width*(r.clientX-l.left))?t=0:100<t&&(t=100),50>t?t-=(100-2*t)*h:50<t&&(t+=2*(t-50)*h),n+Em(t/100*(a-n),o)}},{key:"set",value:function(e){s.enabled&&mt.event(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),bm(e.target,e.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=null;if(mt.empty(e)||mt.string(e)?i=Array.from(document.querySelectorAll(mt.string(e)?e:'input[type="range"]')):mt.element(e)?i=[e]:mt.nodeList(e)?i=Array.from(e):mt.array(e)&&(i=e.filter(mt.element)),mt.empty(i))return null;var r=pu({},fu,{},t);if(mt.string(e)&&r.watch){var n=new MutationObserver(function(a){Array.from(a).forEach(function(o){Array.from(o.addedNodes).forEach(function(l){mt.element(l)&&ym(l,e)&&new s(l,r)})})});n.observe(document.body,{childList:!0,subtree:!0})}return i.map(function(a){return new s(a,t)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),s}();const rn=s=>s!=null?s.constructor:null,Hi=(s,e)=>!!(s&&e&&s instanceof e),al=s=>s==null,vu=s=>rn(s)===Object,Am=s=>rn(s)===Number&&!Number.isNaN(s),pa=s=>rn(s)===String,Mm=s=>rn(s)===Boolean,xu=s=>typeof s=="function",wu=s=>Array.isArray(s),Rm=s=>Hi(s,WeakMap),Tu=s=>Hi(s,NodeList),Om=s=>rn(s)===Text,Lm=s=>Hi(s,Event),Dm=s=>Hi(s,KeyboardEvent),zm=s=>Hi(s,window.TextTrackCue)||Hi(s,window.VTTCue),Im=s=>Hi(s,TextTrack)||!al(s)&&pa(s.kind),Fm=s=>Hi(s,Promise)&&xu(s.then),Nm=s=>s!==null&&typeof s=="object"&&s.nodeType===1&&typeof s.style=="object"&&typeof s.ownerDocument=="object",ku=s=>al(s)||(pa(s)||wu(s)||Tu(s))&&!s.length||vu(s)&&!Object.keys(s).length;var _={nullOrUndefined:al,object:vu,number:Am,string:pa,boolean:Mm,function:xu,array:wu,weakMap:Rm,nodeList:Tu,element:Nm,textNode:Om,event:Lm,keyboardEvent:Dm,cue:zm,track:Im,promise:Fm,url:s=>{if(Hi(s,window.URL))return!0;if(!pa(s))return!1;let e=s;s.startsWith("http://")&&s.startsWith("https://")||(e=`http://${s}`);try{return!ku(new URL(e).hostname)}catch{return!1}},empty:ku};const ol=(()=>{const s=document.createElement("span"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},t=Object.keys(e).find(i=>s.style[i]!==void 0);return!!_.string(t)&&e[t]})();function Su(s,e){setTimeout(()=>{try{s.hidden=!0,s.offsetHeight,s.hidden=!1}catch{}},e)}const Vm=!!window.document.documentMode,Um=/Edge/g.test(navigator.userAgent),Bm="WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),$m=/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,Wm=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,qm=/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1;var it={isIE:Vm,isEdge:Um,isWebKit:Bm,isIPhone:$m,isIPadOS:Wm,isIos:qm};function jm(s){return JSON.parse(JSON.stringify(s))}function Pu(s,e){return e.split(".").reduce((t,i)=>t&&t[i],s)}function Be(s={},...e){if(!e.length)return s;const t=e.shift();return _.object(t)?(Object.keys(t).forEach(i=>{_.object(t[i])?(Object.keys(s).includes(i)||Object.assign(s,{[i]:{}}),Be(s[i],t[i])):Object.assign(s,{[i]:t[i]})}),Be(s,...e)):s}function Eu(s,e){const t=s.length?s:[s];Array.from(t).reverse().forEach((i,r)=>{const n=r>0?e.cloneNode(!0):e,a=i.parentNode,o=i.nextSibling;n.appendChild(i),o?a.insertBefore(n,o):a.appendChild(n)})}function ll(s,e){_.element(s)&&!_.empty(e)&&Object.entries(e).filter(([,t])=>!_.nullOrUndefined(t)).forEach(([t,i])=>s.setAttribute(t,i))}function j(s,e,t){const i=document.createElement(s);return _.object(e)&&ll(i,e),_.string(t)&&(i.innerText=t),i}function Hm(s,e){_.element(s)&&_.element(e)&&e.parentNode.insertBefore(s,e.nextSibling)}function Cu(s,e,t,i){_.element(e)&&e.appendChild(j(s,t,i))}function Yi(s){_.nodeList(s)||_.array(s)?Array.from(s).forEach(Yi):_.element(s)&&_.element(s.parentNode)&&s.parentNode.removeChild(s)}function fa(s){if(!_.element(s))return;let{length:e}=s.childNodes;for(;e>0;)s.removeChild(s.lastChild),e-=1}function ga(s,e){return _.element(e)&&_.element(e.parentNode)&&_.element(s)?(e.parentNode.replaceChild(s,e),s):null}function Ri(s,e){if(!_.string(s)||_.empty(s))return{};const t={},i=Be({},e);return s.split(",").forEach(r=>{const n=r.trim(),a=n.replace(".",""),o=n.replace(/[[\]]/g,"").split("="),[l]=o,h=o.length>1?o[1].replace(/["']/g,""):"";switch(n.charAt(0)){case".":_.string(i.class)?t.class=`${i.class} ${a}`:t.class=a;break;case"#":t.id=n.replace("#","");break;case"[":t[l]=h}}),Be(i,t)}function Fr(s,e){if(!_.element(s))return;let t=e;_.boolean(t)||(t=!s.hidden),s.hidden=t}function ye(s,e,t){if(_.nodeList(s))return Array.from(s).map(i=>ye(i,e,t));if(_.element(s)){let i="toggle";return t!==void 0&&(i=t?"add":"remove"),s.classList[i](e),s.classList.contains(e)}return!1}function ma(s,e){return _.element(s)&&s.classList.contains(e)}function Nr(s,e){const{prototype:t}=Element;return(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||function(){return Array.from(document.querySelectorAll(e)).includes(this)}).call(s,e)}function Ym(s,e){const{prototype:t}=Element;return(t.closest||function(){let i=this;do{if(Nr.matches(i,e))return i;i=i.parentElement||i.parentNode}while(i!==null&&i.nodeType===1);return null}).call(s,e)}function sn(s){return this.elements.container.querySelectorAll(s)}function Ke(s){return this.elements.container.querySelector(s)}function hl(s=null,e=!1){_.element(s)&&s.focus({preventScroll:!0,focusVisible:e})}const Au={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},$e={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(s,e){const t=$e[s]||e!=="html5";return{api:t,ui:t&&$e.rangeInput}},pip:!(it.isIPhone||!_.function(j("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||j("video").disablePictureInPicture)),airplay:_.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(s){if(_.empty(s))return!1;const[e]=s.split("/");let t=s;if(!this.isHTML5||e!==this.type)return!1;Object.keys(Au).includes(t)&&(t+=`; codecs="${Au[s]}"`);try{return!!(t&&this.media.canPlayType(t).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const s=document.createElement("input");return s.type="range",s.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:ol!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},Xm=(()=>{let s=!1;try{const e=Object.defineProperty({},"passive",{get:()=>(s=!0,null)});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return s})();function nn(s,e,t,i=!1,r=!0,n=!1){if(!s||!("addEventListener"in s)||_.empty(e)||!_.function(t))return;const a=e.split(" ");let o=n;Xm&&(o={passive:r,capture:n}),a.forEach(l=>{this&&this.eventListeners&&i&&this.eventListeners.push({element:s,type:l,callback:t,options:o}),s[i?"addEventListener":"removeEventListener"](l,t,o)})}function pe(s,e="",t,i=!0,r=!1){nn.call(this,s,e,t,!0,i,r)}function _a(s,e="",t,i=!0,r=!1){nn.call(this,s,e,t,!1,i,r)}function cl(s,e="",t,i=!0,r=!1){const n=(...a)=>{_a(s,e,n,i,r),t.apply(this,a)};nn.call(this,s,e,n,!0,i,r)}function Y(s,e="",t=!1,i={}){if(!_.element(s)||_.empty(e))return;const r=new CustomEvent(e,{bubbles:t,detail:{...i,plyr:this}});s.dispatchEvent(r)}function Gm(){this&&this.eventListeners&&(this.eventListeners.forEach(s=>{const{element:e,type:t,callback:i,options:r}=s;e.removeEventListener(t,i,r)}),this.eventListeners=[])}function Km(){return new Promise(s=>this.ready?setTimeout(s,0):pe.call(this,this.elements.container,"ready",s)).then(()=>{})}function Oi(s){_.promise(s)&&s.then(null,()=>{})}function ul(s){return _.array(s)?s.filter((e,t)=>s.indexOf(e)===t):s}function Mu(s,e){return _.array(s)&&s.length?s.reduce((t,i)=>Math.abs(i-e)<Math.abs(t-e)?i:t):null}function Ru(s){return!(!window||!window.CSS)&&window.CSS.supports(s)}const Ou=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((s,[e,t])=>({...s,[e/t]:[e,t]}),{});function Lu(s){return _.array(s)||_.string(s)&&s.includes(":")?(_.array(s)?s:s.split(":")).map(Number).every(_.number):!1}function ya(s){if(!_.array(s)||!s.every(_.number))return null;const[e,t]=s,i=(n,a)=>a===0?n:i(a,n%a),r=i(e,t);return[e/r,t/r]}function dl(s){const e=i=>Lu(i)?i.split(":").map(Number):null;let t=e(s);if(t===null&&(t=e(this.config.ratio)),t===null&&!_.empty(this.embed)&&_.array(this.embed.ratio)&&({ratio:t}=this.embed),t===null&&this.isHTML5){const{videoWidth:i,videoHeight:r}=this.media;t=[i,r]}return ya(t)}function fs(s){if(!this.isVideo)return{};const{wrapper:e}=this.elements,t=dl.call(this,s);if(!_.array(t))return{};const[i,r]=ya(t),n=100/i*r;if(Ru(`aspect-ratio: ${i}/${r}`)?e.style.aspectRatio=`${i}/${r}`:e.style.paddingBottom=`${n}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const a=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),o=(a-n)/(a/50);this.fullscreen.active?e.style.paddingBottom=null:this.media.style.transform=`translateY(-${o}%)`}else this.isHTML5&&e.classList.add(this.config.classNames.videoFixedRatio);return{padding:n,ratio:t}}function Du(s,e,t=.05){const i=s/e,r=Mu(Object.keys(Ou),i);return Math.abs(r-i)<=t?Ou[r]:[s,e]}function Qm(){return[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)]}const ur={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(s=>{const e=s.getAttribute("type");return!!_.empty(e)||$e.mime.call(this,e)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:ur.getSources.call(this).map(s=>Number(s.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const s=this;s.options.speed=s.config.speed.options,_.empty(this.config.ratio)||fs.call(s),Object.defineProperty(s.media,"quality",{get(){const e=ur.getSources.call(s).find(t=>t.getAttribute("src")===s.source);return e&&Number(e.getAttribute("size"))},set(e){if(s.quality!==e){if(s.config.quality.forced&&_.function(s.config.quality.onChange))s.config.quality.onChange(e);else{const t=ur.getSources.call(s).find(l=>Number(l.getAttribute("size"))===e);if(!t)return;const{currentTime:i,paused:r,preload:n,readyState:a,playbackRate:o}=s.media;s.media.src=t.getAttribute("src"),(n!=="none"||a)&&(s.once("loadedmetadata",()=>{s.speed=o,s.currentTime=i,r||Oi(s.play())}),s.media.load())}Y.call(s,s.media,"qualitychange",!1,{quality:e})}}})},cancelRequests(){this.isHTML5&&(Yi(ur.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function Zm(s){return`${s}-${Math.floor(1e4*Math.random())}`}function pl(s,...e){return _.empty(s)?s:s.toString().replace(/{(\d+)}/g,(t,i)=>e[i].toString())}function Jm(s,e){return s===0||e===0||Number.isNaN(s)||Number.isNaN(e)?0:(s/e*100).toFixed(2)}const an=(s="",e="",t="")=>s.replace(new RegExp(e.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),t.toString()),zu=(s="")=>s.toString().replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase());function e_(s=""){let e=s.toString();return e=an(e,"-"," "),e=an(e,"_"," "),e=zu(e),an(e," ","")}function t_(s=""){let e=s.toString();return e=e_(e),e.charAt(0).toLowerCase()+e.slice(1)}function i_(s){const e=document.createDocumentFragment(),t=document.createElement("div");return e.appendChild(t),t.innerHTML=s,e.firstChild.innerText}function r_(s){const e=document.createElement("div");return e.appendChild(s),e.innerHTML}const Iu={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},rt={get(s="",e={}){if(_.empty(s)||_.empty(e))return"";let t=Pu(e.i18n,s);if(_.empty(t))return Object.keys(Iu).includes(s)?Iu[s]:"";const i={"{seektime}":e.seekTime,"{title}":e.title};return Object.entries(i).forEach(([r,n])=>{t=an(t,r,n)}),t}};class on{constructor(e){I(this,"get",t=>{if(!on.supported||!this.enabled)return null;const i=window.localStorage.getItem(this.key);if(_.empty(i))return null;const r=JSON.parse(i);return _.string(t)&&t.length?r[t]:r}),I(this,"set",t=>{if(!on.supported||!this.enabled||!_.object(t))return;let i=this.get();_.empty(i)&&(i={}),Be(i,t);try{window.localStorage.setItem(this.key,JSON.stringify(i))}catch{}}),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}}function ln(s,e="text"){return new Promise((t,i)=>{try{const r=new XMLHttpRequest;if(!("withCredentials"in r))return;r.addEventListener("load",()=>{if(e==="text")try{t(JSON.parse(r.responseText))}catch{t(r.responseText)}else t(r.response)}),r.addEventListener("error",()=>{throw new Error(r.status)}),r.open("GET",s,!0),r.responseType=e,r.send()}catch(r){i(r)}})}function Fu(s,e){if(!_.string(s))return;const t="cache",i=_.string(e);let r=!1;const n=()=>document.getElementById(e)!==null,a=(o,l)=>{o.innerHTML=l,i&&n()||document.body.insertAdjacentElement("afterbegin",o)};if(!i||!n()){const o=on.supported,l=document.createElement("div");if(l.setAttribute("hidden",""),i&&l.setAttribute("id",e),o){const h=window.localStorage.getItem(`${t}-${e}`);if(r=h!==null,r){const c=JSON.parse(h);a(l,c.content)}}ln(s).then(h=>{if(!_.empty(h)){if(o)try{window.localStorage.setItem(`${t}-${e}`,JSON.stringify({content:h}))}catch{}a(l,h)}}).catch(()=>{})}}const Nu=s=>Math.trunc(s/60/60%60,10),s_=s=>Math.trunc(s/60%60,10),n_=s=>Math.trunc(s%60,10);function ba(s=0,e=!1,t=!1){if(!_.number(s))return ba(void 0,e,t);const i=o=>`0${o}`.slice(-2);let r=Nu(s);const n=s_(s),a=n_(s);return r=e||r>0?`${r}:`:"",`${t&&s>0?"-":""}${r}${i(n)}:${i(a)}`}const D={getIconUrl(){const s=new URL(this.config.iconUrl,window.location),e=window.location.host?window.location.host:window.top.location.host,t=s.host!==e||it.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:t}},findElements(){try{return this.elements.controls=Ke.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:sn.call(this,this.config.selectors.buttons.play),pause:Ke.call(this,this.config.selectors.buttons.pause),restart:Ke.call(this,this.config.selectors.buttons.restart),rewind:Ke.call(this,this.config.selectors.buttons.rewind),fastForward:Ke.call(this,this.config.selectors.buttons.fastForward),mute:Ke.call(this,this.config.selectors.buttons.mute),pip:Ke.call(this,this.config.selectors.buttons.pip),airplay:Ke.call(this,this.config.selectors.buttons.airplay),settings:Ke.call(this,this.config.selectors.buttons.settings),captions:Ke.call(this,this.config.selectors.buttons.captions),fullscreen:Ke.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=Ke.call(this,this.config.selectors.progress),this.elements.inputs={seek:Ke.call(this,this.config.selectors.inputs.seek),volume:Ke.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:Ke.call(this,this.config.selectors.display.buffer),currentTime:Ke.call(this,this.config.selectors.display.currentTime),duration:Ke.call(this,this.config.selectors.display.duration)},_.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(s){return this.debug.warn("It looks like there is a problem with your custom controls HTML",s),this.toggleNativeControls(!0),!1}},createIcon(s,e){const t="http://www.w3.org/2000/svg",i=D.getIconUrl.call(this),r=`${i.cors?"":i.url}#${this.config.iconPrefix}`,n=document.createElementNS(t,"svg");ll(n,Be(e,{"aria-hidden":"true",focusable:"false"}));const a=document.createElementNS(t,"use"),o=`${r}-${s}`;return"href"in a&&a.setAttributeNS("http://www.w3.org/1999/xlink","href",o),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o),n.appendChild(a),n},createLabel(s,e={}){const t=rt.get(s,this.config);return j("span",{...e,class:[e.class,this.config.classNames.hidden].filter(Boolean).join(" ")},t)},createBadge(s){if(_.empty(s))return null;const e=j("span",{class:this.config.classNames.menu.value});return e.appendChild(j("span",{class:this.config.classNames.menu.badge},s)),e},createButton(s,e){const t=Be({},e);let i=t_(s);const r={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(a=>{Object.keys(t).includes(a)&&(r[a]=t[a],delete t[a])}),r.element!=="button"||Object.keys(t).includes("type")||(t.type="button"),Object.keys(t).includes("class")?t.class.split(" ").some(a=>a===this.config.classNames.control)||Be(t,{class:`${t.class} ${this.config.classNames.control}`}):t.class=this.config.classNames.control,s){case"play":r.toggle=!0,r.label="play",r.labelPressed="pause",r.icon="play",r.iconPressed="pause";break;case"mute":r.toggle=!0,r.label="mute",r.labelPressed="unmute",r.icon="volume",r.iconPressed="muted";break;case"captions":r.toggle=!0,r.label="enableCaptions",r.labelPressed="disableCaptions",r.icon="captions-off",r.iconPressed="captions-on";break;case"fullscreen":r.toggle=!0,r.label="enterFullscreen",r.labelPressed="exitFullscreen",r.icon="enter-fullscreen",r.iconPressed="exit-fullscreen";break;case"play-large":t.class+=` ${this.config.classNames.control}--overlaid`,i="play",r.label="play",r.icon="play";break;default:_.empty(r.label)&&(r.label=i),_.empty(r.icon)&&(r.icon=s)}const n=j(r.element);return r.toggle?(n.appendChild(D.createIcon.call(this,r.iconPressed,{class:"icon--pressed"})),n.appendChild(D.createIcon.call(this,r.icon,{class:"icon--not-pressed"})),n.appendChild(D.createLabel.call(this,r.labelPressed,{class:"label--pressed"})),n.appendChild(D.createLabel.call(this,r.label,{class:"label--not-pressed"}))):(n.appendChild(D.createIcon.call(this,r.icon)),n.appendChild(D.createLabel.call(this,r.label))),Be(t,Ri(this.config.selectors.buttons[i],t)),ll(n,t),i==="play"?(_.array(this.elements.buttons[i])||(this.elements.buttons[i]=[]),this.elements.buttons[i].push(n)):this.elements.buttons[i]=n,n},createRange(s,e){const t=j("input",Be(Ri(this.config.selectors.inputs[s]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":rt.get(s,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},e));return this.elements.inputs[s]=t,D.updateRangeFill.call(this,t),Cm.setup(t),t},createProgress(s,e){const t=j("progress",Be(Ri(this.config.selectors.display[s]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},e));if(s!=="volume"){t.appendChild(j("span",null,"0"));const i={played:"played",buffer:"buffered"}[s],r=i?rt.get(i,this.config):"";t.innerText=`% ${r.toLowerCase()}`}return this.elements.display[s]=t,t},createTime(s,e){const t=Ri(this.config.selectors.display[s],e),i=j("div",Be(t,{class:`${t.class?t.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":rt.get(s,this.config),role:"timer"}),"00:00");return this.elements.display[s]=i,i},bindMenuItemShortcuts(s,e){pe.call(this,s,"keydown keyup",t=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(t.key)||(t.preventDefault(),t.stopPropagation(),t.type==="keydown"))return;const i=Nr(s,'[role="menuitemradio"]');if(!i&&[" ","ArrowRight"].includes(t.key))D.showMenuPanel.call(this,e,!0);else{let r;t.key!==" "&&(t.key==="ArrowDown"||i&&t.key==="ArrowRight"?(r=s.nextElementSibling,_.element(r)||(r=s.parentNode.firstElementChild)):(r=s.previousElementSibling,_.element(r)||(r=s.parentNode.lastElementChild)),hl.call(this,r,!0))}},!1),pe.call(this,s,"keyup",t=>{t.key==="Return"&&D.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:s,list:e,type:t,title:i,badge:r=null,checked:n=!1}){const a=Ri(this.config.selectors.inputs[t]),o=j("button",Be(a,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${a.class?a.class:""}`.trim(),"aria-checked":n,value:s})),l=j("span");l.innerHTML=i,_.element(r)&&l.appendChild(r),o.appendChild(l),Object.defineProperty(o,"checked",{enumerable:!0,get:()=>o.getAttribute("aria-checked")==="true",set(h){h&&Array.from(o.parentNode.children).filter(c=>Nr(c,'[role="menuitemradio"]')).forEach(c=>c.setAttribute("aria-checked","false")),o.setAttribute("aria-checked",h?"true":"false")}}),this.listeners.bind(o,"click keyup",h=>{if(!_.keyboardEvent(h)||h.key===" "){switch(h.preventDefault(),h.stopPropagation(),o.checked=!0,t){case"language":this.currentTrack=Number(s);break;case"quality":this.quality=s;break;case"speed":this.speed=parseFloat(s)}D.showMenuPanel.call(this,"home",_.keyboardEvent(h))}},t,!1),D.bindMenuItemShortcuts.call(this,o,t),e.appendChild(o)},formatTime(s=0,e=!1){return _.number(s)?ba(s,Nu(this.duration)>0,e):s},updateTimeDisplay(s=null,e=0,t=!1){_.element(s)&&_.number(e)&&(s.innerText=D.formatTime(e,t))},updateVolume(){this.supported.ui&&(_.element(this.elements.inputs.volume)&&D.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),_.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange(s,e=0){_.element(s)&&(s.value=e,D.updateRangeFill.call(this,s))},updateProgress(s){if(!this.supported.ui||!_.event(s))return;let e=0;const t=(i,r)=>{const n=_.number(r)?r:0,a=_.element(i)?i:this.elements.display.buffer;if(_.element(a)){a.value=n;const o=a.getElementsByTagName("span")[0];_.element(o)&&(o.childNodes[0].nodeValue=n)}};if(s)switch(s.type){case"timeupdate":case"seeking":case"seeked":e=Jm(this.currentTime,this.duration),s.type==="timeupdate"&&D.setRange.call(this,this.elements.inputs.seek,e);break;case"playing":case"progress":t(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(s){const e=_.event(s)?s.target:s;if(_.element(e)&&e.getAttribute("type")==="range"){if(Nr(e,this.config.selectors.inputs.seek)){e.setAttribute("aria-valuenow",this.currentTime);const t=D.formatTime(this.currentTime),i=D.formatTime(this.duration),r=rt.get("seekLabel",this.config);e.setAttribute("aria-valuetext",r.replace("{currentTime}",t).replace("{duration}",i))}else if(Nr(e,this.config.selectors.inputs.volume)){const t=100*e.value;e.setAttribute("aria-valuenow",t),e.setAttribute("aria-valuetext",`${t.toFixed(1)}%`)}else e.setAttribute("aria-valuenow",e.value);(it.isWebKit||it.isIPadOS)&&e.style.setProperty("--value",e.value/e.max*100+"%")}},updateSeekTooltip(s){var e,t;if(!this.config.tooltips.seek||!_.element(this.elements.inputs.seek)||!_.element(this.elements.display.seekTooltip)||this.duration===0)return;const i=this.elements.display.seekTooltip,r=`${this.config.classNames.tooltip}--visible`,n=c=>ye(i,r,c);if(this.touch)return void n(!1);let a=0;const o=this.elements.progress.getBoundingClientRect();if(_.event(s))a=100/o.width*(s.pageX-o.left);else{if(!ma(i,r))return;a=parseFloat(i.style.left,10)}a<0?a=0:a>100&&(a=100);const l=this.duration/100*a;i.innerText=D.formatTime(l);const h=(e=this.config.markers)===null||e===void 0||(t=e.points)===null||t===void 0?void 0:t.find(({time:c})=>c===Math.round(l));h&&i.insertAdjacentHTML("afterbegin",`${h.label}<br>`),i.style.left=`${a}%`,_.event(s)&&["mouseenter","mouseleave"].includes(s.type)&&n(s.type==="mouseenter")},timeUpdate(s){const e=!_.element(this.elements.display.duration)&&this.config.invertTime;D.updateTimeDisplay.call(this,this.elements.display.currentTime,e?this.duration-this.currentTime:this.currentTime,e),s&&s.type==="timeupdate"&&this.media.seeking||D.updateProgress.call(this,s)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return Fr(this.elements.display.currentTime,!0),void Fr(this.elements.progress,!0);_.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const s=_.element(this.elements.display.duration);!s&&this.config.displayDuration&&this.paused&&D.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),s&&D.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&D.setMarkers.call(this),D.updateSeekTooltip.call(this)},toggleMenuButton(s,e){Fr(this.elements.settings.buttons[s],!e)},updateSetting(s,e,t){const i=this.elements.settings.panels[s];let r=null,n=e;if(s==="captions")r=this.currentTrack;else{if(r=_.empty(t)?this[s]:t,_.empty(r)&&(r=this.config[s].default),!_.empty(this.options[s])&&!this.options[s].includes(r))return void this.debug.warn(`Unsupported value of '${r}' for ${s}`);if(!this.config[s].options.includes(r))return void this.debug.warn(`Disabled value of '${r}' for ${s}`)}if(_.element(n)||(n=i&&i.querySelector('[role="menu"]')),!_.element(n))return;this.elements.settings.buttons[s].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=D.getLabel.call(this,s,r);const a=n&&n.querySelector(`[value="${r}"]`);_.element(a)&&(a.checked=!0)},getLabel(s,e){switch(s){case"speed":return e===1?rt.get("normal",this.config):`${e}&times;`;case"quality":if(_.number(e)){const t=rt.get(`qualityLabel.${e}`,this.config);return t.length?t:`${e}p`}return zu(e);case"captions":return fe.getLabel.call(this);default:return null}},setQualityMenu(s){if(!_.element(this.elements.settings.panels.quality))return;const e="quality",t=this.elements.settings.panels.quality.querySelector('[role="menu"]');_.array(s)&&(this.options.quality=ul(s).filter(n=>this.config.quality.options.includes(n)));const i=!_.empty(this.options.quality)&&this.options.quality.length>1;if(D.toggleMenuButton.call(this,e,i),fa(t),D.checkMenu.call(this),!i)return;const r=n=>{const a=rt.get(`qualityBadge.${n}`,this.config);return a.length?D.createBadge.call(this,a):null};this.options.quality.sort((n,a)=>{const o=this.config.quality.options;return o.indexOf(n)>o.indexOf(a)?1:-1}).forEach(n=>{D.createMenuItem.call(this,{value:n,list:t,type:e,title:D.getLabel.call(this,"quality",n),badge:r(n)})}),D.updateSetting.call(this,e,t)},setCaptionsMenu(){if(!_.element(this.elements.settings.panels.captions))return;const s="captions",e=this.elements.settings.panels.captions.querySelector('[role="menu"]'),t=fe.getTracks.call(this),i=!!t.length;if(D.toggleMenuButton.call(this,s,i),fa(e),D.checkMenu.call(this),!i)return;const r=t.map((n,a)=>({value:a,checked:this.captions.toggled&&this.currentTrack===a,title:fe.getLabel.call(this,n),badge:n.language&&D.createBadge.call(this,n.language.toUpperCase()),list:e,type:"language"}));r.unshift({value:-1,checked:!this.captions.toggled,title:rt.get("disabled",this.config),list:e,type:"language"}),r.forEach(D.createMenuItem.bind(this)),D.updateSetting.call(this,s,e)},setSpeedMenu(){if(!_.element(this.elements.settings.panels.speed))return;const s="speed",e=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(i=>i>=this.minimumSpeed&&i<=this.maximumSpeed);const t=!_.empty(this.options.speed)&&this.options.speed.length>1;D.toggleMenuButton.call(this,s,t),fa(e),D.checkMenu.call(this),t&&(this.options.speed.forEach(i=>{D.createMenuItem.call(this,{value:i,list:e,type:s,title:D.getLabel.call(this,"speed",i)})}),D.updateSetting.call(this,s,e))},checkMenu(){const{buttons:s}=this.elements.settings,e=!_.empty(s)&&Object.values(s).some(t=>!t.hidden);Fr(this.elements.settings.menu,!e)},focusFirstMenuItem(s,e=!1){if(this.elements.settings.popup.hidden)return;let t=s;_.element(t)||(t=Object.values(this.elements.settings.panels).find(r=>!r.hidden));const i=t.querySelector('[role^="menuitem"]');hl.call(this,i,e)},toggleMenu(s){const{popup:e}=this.elements.settings,t=this.elements.buttons.settings;if(!_.element(e)||!_.element(t))return;const{hidden:i}=e;let r=i;if(_.boolean(s))r=s;else if(_.keyboardEvent(s)&&s.key==="Escape")r=!1;else if(_.event(s)){const n=_.function(s.composedPath)?s.composedPath()[0]:s.target,a=e.contains(n);if(a||!a&&s.target!==t&&r)return}t.setAttribute("aria-expanded",r),Fr(e,!r),ye(this.elements.container,this.config.classNames.menu.open,r),r&&_.keyboardEvent(s)?D.focusFirstMenuItem.call(this,null,!0):r||i||hl.call(this,t,_.keyboardEvent(s))},getMenuSize(s){const e=s.cloneNode(!0);e.style.position="absolute",e.style.opacity=0,e.removeAttribute("hidden"),s.parentNode.appendChild(e);const t=e.scrollWidth,i=e.scrollHeight;return Yi(e),{width:t,height:i}},showMenuPanel(s="",e=!1){const t=this.elements.container.querySelector(`#plyr-settings-${this.id}-${s}`);if(!_.element(t))return;const i=t.parentNode,r=Array.from(i.children).find(n=>!n.hidden);if($e.transitions&&!$e.reducedMotion){i.style.width=`${r.scrollWidth}px`,i.style.height=`${r.scrollHeight}px`;const n=D.getMenuSize.call(this,t),a=o=>{o.target===i&&["width","height"].includes(o.propertyName)&&(i.style.width="",i.style.height="",_a.call(this,i,ol,a))};pe.call(this,i,ol,a),i.style.width=`${n.width}px`,i.style.height=`${n.height}px`}Fr(r,!0),Fr(t,!1),D.focusFirstMenuItem.call(this,t,e)},setDownloadUrl(){const s=this.elements.buttons.download;_.element(s)&&s.setAttribute("href",this.download)},create(s){const{bindMenuItemShortcuts:e,createButton:t,createProgress:i,createRange:r,createTime:n,setQualityMenu:a,setSpeedMenu:o,showMenuPanel:l}=D;this.elements.controls=null,_.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(t.call(this,"play-large"));const h=j("div",Ri(this.config.selectors.controls.wrapper));this.elements.controls=h;const c={class:"plyr__controls__item"};return ul(_.array(this.config.controls)?this.config.controls:[]).forEach(u=>{if(u==="restart"&&h.appendChild(t.call(this,"restart",c)),u==="rewind"&&h.appendChild(t.call(this,"rewind",c)),u==="play"&&h.appendChild(t.call(this,"play",c)),u==="fast-forward"&&h.appendChild(t.call(this,"fast-forward",c)),u==="progress"){const d=j("div",{class:`${c.class} plyr__progress__container`}),p=j("div",Ri(this.config.selectors.progress));if(p.appendChild(r.call(this,"seek",{id:`plyr-seek-${s.id}`})),p.appendChild(i.call(this,"buffer")),this.config.tooltips.seek){const g=j("span",{class:this.config.classNames.tooltip},"00:00");p.appendChild(g),this.elements.display.seekTooltip=g}this.elements.progress=p,d.appendChild(this.elements.progress),h.appendChild(d)}if(u==="current-time"&&h.appendChild(n.call(this,"currentTime",c)),u==="duration"&&h.appendChild(n.call(this,"duration",c)),u==="mute"||u==="volume"){let{volume:d}=this.elements;if(_.element(d)&&h.contains(d)||(d=j("div",Be({},c,{class:`${c.class} plyr__volume`.trim()})),this.elements.volume=d,h.appendChild(d)),u==="mute"&&d.appendChild(t.call(this,"mute")),u==="volume"&&!it.isIos&&!it.isIPadOS){const p={max:1,step:.05,value:this.config.volume};d.appendChild(r.call(this,"volume",Be(p,{id:`plyr-volume-${s.id}`})))}}if(u==="captions"&&h.appendChild(t.call(this,"captions",c)),u==="settings"&&!_.empty(this.config.settings)){const d=j("div",Be({},c,{class:`${c.class} plyr__menu`.trim(),hidden:""}));d.appendChild(t.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${s.id}`,"aria-expanded":!1}));const p=j("div",{class:"plyr__menu__container",id:`plyr-settings-${s.id}`,hidden:""}),g=j("div"),f=j("div",{id:`plyr-settings-${s.id}-home`}),y=j("div",{role:"menu"});f.appendChild(y),g.appendChild(f),this.elements.settings.panels.home=f,this.config.settings.forEach(b=>{const m=j("button",Be(Ri(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));e.call(this,m,b),pe.call(this,m,"click",()=>{l.call(this,b,!1)});const v=j("span",null,rt.get(b,this.config)),x=j("span",{class:this.config.classNames.menu.value});x.innerHTML=s[b],v.appendChild(x),m.appendChild(v),y.appendChild(m);const w=j("div",{id:`plyr-settings-${s.id}-${b}`,hidden:""}),T=j("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});T.appendChild(j("span",{"aria-hidden":!0},rt.get(b,this.config))),T.appendChild(j("span",{class:this.config.classNames.hidden},rt.get("menuBack",this.config))),pe.call(this,w,"keydown",k=>{k.key==="ArrowLeft"&&(k.preventDefault(),k.stopPropagation(),l.call(this,"home",!0))},!1),pe.call(this,T,"click",()=>{l.call(this,"home",!1)}),w.appendChild(T),w.appendChild(j("div",{role:"menu"})),g.appendChild(w),this.elements.settings.buttons[b]=m,this.elements.settings.panels[b]=w}),p.appendChild(g),d.appendChild(p),h.appendChild(d),this.elements.settings.popup=p,this.elements.settings.menu=d}if(u==="pip"&&$e.pip&&h.appendChild(t.call(this,"pip",c)),u==="airplay"&&$e.airplay&&h.appendChild(t.call(this,"airplay",c)),u==="download"){const d=Be({},c,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(d.download="");const{download:p}=this.config.urls;!_.url(p)&&this.isEmbed&&Be(d,{icon:`logo-${this.provider}`,label:this.provider}),h.appendChild(t.call(this,"download",d))}u==="fullscreen"&&h.appendChild(t.call(this,"fullscreen",c))}),this.isHTML5&&a.call(this,ur.getQualityOptions.call(this)),o.call(this),h},inject(){if(this.config.loadSprite){const r=D.getIconUrl.call(this);r.cors&&Fu(r.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let s=null;this.elements.controls=null;const e={id:this.id,seektime:this.config.seekTime,title:this.config.title};let t=!0;_.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,e)),this.config.controls||(this.config.controls=[]),_.element(this.config.controls)||_.string(this.config.controls)?s=this.config.controls:(s=D.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:fe.getLabel.call(this)}),t=!1);let i;if(t&&_.string(this.config.controls)&&(s=(r=>{let n=r;return Object.entries(e).forEach(([a,o])=>{n=an(n,`{${a}}`,o)}),n})(s)),_.string(this.config.selectors.controls.container)&&(i=document.querySelector(this.config.selectors.controls.container)),_.element(i)||(i=this.elements.container),i[_.element(s)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",s),_.element(this.elements.controls)||D.findElements.call(this),!_.empty(this.elements.buttons)){const r=n=>{const a=this.config.classNames.controlPressed;n.setAttribute("aria-pressed","false"),Object.defineProperty(n,"pressed",{configurable:!0,enumerable:!0,get:()=>ma(n,a),set(o=!1){ye(n,a,o),n.setAttribute("aria-pressed",o?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach(n=>{_.array(n)||_.nodeList(n)?Array.from(n).filter(Boolean).forEach(r):r(n)})}if(it.isEdge&&Su(i),this.config.tooltips.controls){const{classNames:r,selectors:n}=this.config,a=`${n.controls.wrapper} ${n.labels} .${r.hidden}`,o=sn.call(this,a);Array.from(o).forEach(l=>{ye(l,this.config.classNames.hidden,!1),ye(l,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch{}},setMarkers(){var s,e;if(!this.duration||this.elements.markers)return;const t=(s=this.config.markers)===null||s===void 0||(e=s.points)===null||e===void 0?void 0:e.filter(({time:l})=>l>0&&l<this.duration);if(t==null||!t.length)return;const i=document.createDocumentFragment(),r=document.createDocumentFragment();let n=null;const a=`${this.config.classNames.tooltip}--visible`,o=l=>ye(n,a,l);t.forEach(l=>{const h=j("span",{class:this.config.classNames.marker},""),c=l.time/this.duration*100+"%";n&&(h.addEventListener("mouseenter",()=>{l.label||(n.style.left=c,n.innerHTML=l.label,o(!0))}),h.addEventListener("mouseleave",()=>{o(!1)})),h.addEventListener("click",()=>{this.currentTime=l.time}),h.style.left=c,r.appendChild(h)}),i.appendChild(r),this.config.tooltips.seek||(n=j("span",{class:this.config.classNames.tooltip},""),i.appendChild(n)),this.elements.markers={points:r,tip:n},this.elements.progress.appendChild(i)}};function Vu(s,e=!0){let t=s;if(e){const i=document.createElement("a");i.href=t,t=i.href}try{return new URL(t)}catch{return null}}function Uu(s){const e=new URLSearchParams;return _.object(s)&&Object.entries(s).forEach(([t,i])=>{e.set(t,i)}),e}const fe={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!$e.textTracks)return void(_.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&D.setCaptionsMenu.call(this));if(_.element(this.elements.captions)||(this.elements.captions=j("div",Ri(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),Hm(this.elements.captions,this.elements.wrapper)),it.isIE&&window.URL){const i=this.media.querySelectorAll("track");Array.from(i).forEach(r=>{const n=r.getAttribute("src"),a=Vu(n);a!==null&&a.hostname!==window.location.href.hostname&&["http:","https:"].includes(a.protocol)&&ln(n,"blob").then(o=>{r.setAttribute("src",window.URL.createObjectURL(o))}).catch(()=>{Yi(r)})})}const s=ul((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(i=>i.split("-")[0]));let e=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();e==="auto"&&([e]=s);let t=this.storage.get("captions");if(_.boolean(t)||({active:t}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:t,language:e,languages:s}),this.isHTML5){const i=this.config.captions.update?"addtrack removetrack":"removetrack";pe.call(this,this.media.textTracks,i,fe.update.bind(this))}setTimeout(fe.update.bind(this),0)},update(){const s=fe.getTracks.call(this,!0),{active:e,language:t,meta:i,currentTrackNode:r}=this.captions,n=!!s.find(a=>a.language===t);this.isHTML5&&this.isVideo&&s.filter(a=>!i.get(a)).forEach(a=>{this.debug.log("Track added",a),i.set(a,{default:a.mode==="showing"}),a.mode==="showing"&&(a.mode="hidden"),pe.call(this,a,"cuechange",()=>fe.updateCues.call(this))}),(n&&this.language!==t||!s.includes(r))&&(fe.setLanguage.call(this,t),fe.toggle.call(this,e&&n)),this.elements&&ye(this.elements.container,this.config.classNames.captions.enabled,!_.empty(s)),_.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&D.setCaptionsMenu.call(this)},toggle(s,e=!0){if(!this.supported.ui)return;const{toggled:t}=this.captions,i=this.config.classNames.captions.active,r=_.nullOrUndefined(s)?!t:s;if(r!==t){if(e||(this.captions.active=r,this.storage.set({captions:r})),!this.language&&r&&!e){const n=fe.getTracks.call(this),a=fe.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=a.language,void fe.set.call(this,n.indexOf(a))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=r),ye(this.elements.container,i,r),this.captions.toggled=r,D.updateSetting.call(this,"captions"),Y.call(this,this.media,r?"captionsenabled":"captionsdisabled")}setTimeout(()=>{r&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(s,e=!0){const t=fe.getTracks.call(this);if(s!==-1)if(_.number(s))if(s in t){if(this.captions.currentTrack!==s){this.captions.currentTrack=s;const i=t[s],{language:r}=i||{};this.captions.currentTrackNode=i,D.updateSetting.call(this,"captions"),e||(this.captions.language=r,this.storage.set({language:r})),this.isVimeo&&this.embed.enableTextTrack(r),Y.call(this,this.media,"languagechange")}fe.toggle.call(this,!0,e),this.isHTML5&&this.isVideo&&fe.updateCues.call(this)}else this.debug.warn("Track not found",s);else this.debug.warn("Invalid caption argument",s);else fe.toggle.call(this,!1,e)},setLanguage(s,e=!0){if(!_.string(s))return void this.debug.warn("Invalid language argument",s);const t=s.toLowerCase();this.captions.language=t;const i=fe.getTracks.call(this),r=fe.findTrack.call(this,[t]);fe.set.call(this,i.indexOf(r),e)},getTracks(s=!1){return Array.from((this.media||{}).textTracks||[]).filter(e=>!this.isHTML5||s||this.captions.meta.has(e)).filter(e=>["captions","subtitles"].includes(e.kind))},findTrack(s,e=!1){const t=fe.getTracks.call(this),i=a=>Number((this.captions.meta.get(a)||{}).default),r=Array.from(t).sort((a,o)=>i(o)-i(a));let n;return s.every(a=>(n=r.find(o=>o.language===a),!n)),n||(e?r[0]:void 0)},getCurrentTrack(){return fe.getTracks.call(this)[this.currentTrack]},getLabel(s){let e=s;return!_.track(e)&&$e.textTracks&&this.captions.toggled&&(e=fe.getCurrentTrack.call(this)),_.track(e)?_.empty(e.label)?_.empty(e.language)?rt.get("enabled",this.config):s.language.toUpperCase():e.label:rt.get("disabled",this.config)},updateCues(s){if(!this.supported.ui)return;if(!_.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!_.nullOrUndefined(s)&&!Array.isArray(s))return void this.debug.warn("updateCues: Invalid input",s);let e=s;if(!e){const i=fe.getCurrentTrack.call(this);e=Array.from((i||{}).activeCues||[]).map(r=>r.getCueAsHTML()).map(r_)}const t=e.map(i=>i.trim()).join(`
`);if(t!==this.elements.captions.innerHTML){fa(this.elements.captions);const i=j("span",Ri(this.config.selectors.caption));i.innerHTML=t,this.elements.captions.appendChild(i),Y.call(this,this.media,"cuechange")}}},Bu={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},fl={active:"picture-in-picture",inactive:"inline"},dr={html5:"html5",youtube:"youtube",vimeo:"vimeo"},gl={audio:"audio",video:"video"};function a_(s){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(s)?dr.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(s)?dr.vimeo:null}const ml=()=>{};class o_{constructor(e=!1){this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):ml}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):ml}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):ml}}class ui{constructor(e){I(this,"onChange",()=>{if(!this.supported)return;const t=this.player.elements.buttons.fullscreen;_.element(t)&&(t.pressed=this.active);const i=this.target===this.player.media?this.target:this.player.elements.container;Y.call(this.player,i,this.active?"enterfullscreen":"exitfullscreen",!0)}),I(this,"toggleFallback",(t=!1)=>{if(t?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=t?"hidden":"",ye(this.target,this.player.config.classNames.fullscreen.fallback,t),it.isIos){let i=document.head.querySelector('meta[name="viewport"]');const r="viewport-fit=cover";i||(i=document.createElement("meta"),i.setAttribute("name","viewport"));const n=_.string(i.content)&&i.content.includes(r);t?(this.cleanupViewport=!n,n||(i.content+=`,${r}`)):this.cleanupViewport&&(i.content=i.content.split(",").filter(a=>a.trim()!==r).join(","))}this.onChange()}),I(this,"trapFocus",t=>{if(it.isIos||it.isIPadOS||!this.active||t.key!=="Tab")return;const i=document.activeElement,r=sn.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[n]=r,a=r[r.length-1];i!==a||t.shiftKey?i===n&&t.shiftKey&&(a.focus(),t.preventDefault()):(n.focus(),t.preventDefault())}),I(this,"update",()=>{if(this.supported){let t;t=this.forceFallback?"Fallback (forced)":ui.nativeSupported?"Native":"Fallback",this.player.debug.log(`${t} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");ye(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)}),I(this,"enter",()=>{this.supported&&(it.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!ui.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?_.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),I(this,"exit",()=>{if(this.supported)if(it.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),Oi(this.player.play());else if(!ui.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!_.empty(this.prefix)){const t=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${t}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}),I(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=e,this.prefix=ui.prefix,this.property=ui.property,this.scrollPosition={x:0,y:0},this.forceFallback=e.config.fullscreen.fallback==="force",this.player.elements.fullscreen=e.config.fullscreen.container&&Ym(this.player.elements.container,e.config.fullscreen.container),pe.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),pe.call(this.player,this.player.elements.container,"dblclick",t=>{_.element(this.player.elements.controls)&&this.player.elements.controls.contains(t.target)||this.player.listeners.proxy(t,this.toggle,"fullscreen")}),pe.call(this,this.player.elements.container,"keydown",t=>this.trapFocus(t)),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return ui.nativeSupported&&!this.forceFallback}static get prefix(){if(_.function(document.exitFullscreen))return"";let e="";return["webkit","moz","ms"].some(t=>!(!_.function(document[`${t}ExitFullscreen`])&&!_.function(document[`${t}CancelFullScreen`]))&&(e=t,!0)),e}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,ui.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||ui.nativeSupported||!it.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!ui.nativeSupported||this.forceFallback)return ma(this.target,this.player.config.classNames.fullscreen.fallback);const e=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}get target(){return it.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function va(s,e=1){return new Promise((t,i)=>{const r=new Image,n=()=>{delete r.onload,delete r.onerror,(r.naturalWidth>=e?t:i)(r)};Object.assign(r,{onload:n,onerror:n,src:s})})}const ve={addStyleHook(){ye(this.elements.container,this.config.selectors.container.replace(".",""),!0),ye(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(s=!1){s&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void ve.toggleNativeControls.call(this,!0);_.element(this.elements.controls)||(D.inject.call(this),this.listeners.controls()),ve.toggleNativeControls.call(this),this.isHTML5&&fe.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,D.updateVolume.call(this),D.timeUpdate.call(this),D.durationUpdate.call(this),ve.checkPlaying.call(this),ye(this.elements.container,this.config.classNames.pip.supported,$e.pip&&this.isHTML5&&this.isVideo),ye(this.elements.container,this.config.classNames.airplay.supported,$e.airplay&&this.isHTML5),ye(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{Y.call(this,this.media,"ready")},0),ve.setTitle.call(this),this.poster&&ve.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&D.durationUpdate.call(this),this.config.mediaMetadata&&D.setMediaMetadata.call(this)},setTitle(){let s=rt.get("play",this.config);if(_.string(this.config.title)&&!_.empty(this.config.title)&&(s+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(e=>{e.setAttribute("aria-label",s)}),this.isEmbed){const e=Ke.call(this,"iframe");if(!_.element(e))return;const t=_.empty(this.config.title)?"video":this.config.title,i=rt.get("frameTitle",this.config);e.setAttribute("title",i.replace("{title}",t))}},togglePoster(s){ye(this.elements.container,this.config.classNames.posterEnabled,s)},setPoster(s,e=!0){return e&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",s),this.elements.poster.removeAttribute("hidden"),Km.call(this).then(()=>va(s)).catch(t=>{throw s===this.poster&&ve.togglePoster.call(this,!1),t}).then(()=>{if(s!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${s}')`,backgroundSize:""}),ve.togglePoster.call(this,!0),s)))},checkPlaying(s){ye(this.elements.container,this.config.classNames.playing,this.playing),ye(this.elements.container,this.config.classNames.paused,this.paused),ye(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(e=>{Object.assign(e,{pressed:this.playing}),e.setAttribute("aria-label",rt.get(this.playing?"pause":"play",this.config))}),_.event(s)&&s.type==="timeupdate"||ve.toggleControls.call(this)},checkLoading(s){this.loading=["stalled","waiting"].includes(s.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{ye(this.elements.container,this.config.classNames.loading,this.loading),ve.toggleControls.call(this)},this.loading?250:0)},toggleControls(s){const{controls:e}=this.elements;if(e&&this.config.hideControls){const t=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!(s||this.loading||this.paused||e.pressed||e.hover||t))}},migrateStyles(){Object.values({...this.media.style}).filter(s=>!_.empty(s)&&_.string(s)&&s.startsWith("--plyr")).forEach(s=>{this.elements.container.style.setProperty(s,this.media.style.getPropertyValue(s)),this.media.style.removeProperty(s)}),_.empty(this.media.style)&&this.media.removeAttribute("style")}};class l_{constructor(e){I(this,"firstTouch",()=>{const{player:t}=this,{elements:i}=t;t.touch=!0,ye(i.container,t.config.classNames.isTouch,!0)}),I(this,"global",(t=!0)=>{const{player:i}=this;i.config.keyboard.global&&nn.call(i,window,"keydown keyup",this.handleKey,t,!1),nn.call(i,document.body,"click",this.toggleMenu,t),cl.call(i,document.body,"touchstart",this.firstTouch)}),I(this,"container",()=>{const{player:t}=this,{config:i,elements:r,timers:n}=t;!i.keyboard.global&&i.keyboard.focused&&pe.call(t,r.container,"keydown keyup",this.handleKey,!1),pe.call(t,r.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",l=>{const{controls:h}=r;h&&l.type==="enterfullscreen"&&(h.pressed=!1,h.hover=!1);let c=0;["touchstart","touchmove","mousemove"].includes(l.type)&&(ve.toggleControls.call(t,!0),c=t.touch?3e3:2e3),clearTimeout(n.controls),n.controls=setTimeout(()=>ve.toggleControls.call(t,!1),c)});const a=()=>{if(!t.isVimeo||t.config.vimeo.premium)return;const l=r.wrapper,{active:h}=t.fullscreen,[c,u]=dl.call(t),d=Ru(`aspect-ratio: ${c} / ${u}`);if(!h)return void(d?(l.style.width=null,l.style.height=null):(l.style.maxWidth=null,l.style.margin=null));const[p,g]=Qm(),f=p/g>c/u;d?(l.style.width=f?"auto":"100%",l.style.height=f?"100%":"auto"):(l.style.maxWidth=f?g/u*c+"px":null,l.style.margin=f?"0 auto":null)},o=()=>{clearTimeout(n.resized),n.resized=setTimeout(a,50)};pe.call(t,r.container,"enterfullscreen exitfullscreen",l=>{const{target:h}=t.fullscreen;h===r.container&&(!t.isEmbed&&_.empty(t.config.ratio)||(a(),(l.type==="enterfullscreen"?pe:_a).call(t,window,"resize",o)))})}),I(this,"media",()=>{const{player:t}=this,{elements:i}=t;if(pe.call(t,t.media,"timeupdate seeking seeked",n=>D.timeUpdate.call(t,n)),pe.call(t,t.media,"durationchange loadeddata loadedmetadata",n=>D.durationUpdate.call(t,n)),pe.call(t,t.media,"ended",()=>{t.isHTML5&&t.isVideo&&t.config.resetOnEnd&&(t.restart(),t.pause())}),pe.call(t,t.media,"progress playing seeking seeked",n=>D.updateProgress.call(t,n)),pe.call(t,t.media,"volumechange",n=>D.updateVolume.call(t,n)),pe.call(t,t.media,"playing play pause ended emptied timeupdate",n=>ve.checkPlaying.call(t,n)),pe.call(t,t.media,"waiting canplay seeked playing",n=>ve.checkLoading.call(t,n)),t.supported.ui&&t.config.clickToPlay&&!t.isAudio){const n=Ke.call(t,`.${t.config.classNames.video}`);if(!_.element(n))return;pe.call(t,i.container,"click",a=>{([i.container,n].includes(a.target)||n.contains(a.target))&&(t.touch&&t.config.hideControls||(t.ended?(this.proxy(a,t.restart,"restart"),this.proxy(a,()=>{Oi(t.play())},"play")):this.proxy(a,()=>{Oi(t.togglePlay())},"play")))})}t.supported.ui&&t.config.disableContextMenu&&pe.call(t,i.wrapper,"contextmenu",n=>{n.preventDefault()},!1),pe.call(t,t.media,"volumechange",()=>{t.storage.set({volume:t.volume,muted:t.muted})}),pe.call(t,t.media,"ratechange",()=>{D.updateSetting.call(t,"speed"),t.storage.set({speed:t.speed})}),pe.call(t,t.media,"qualitychange",n=>{D.updateSetting.call(t,"quality",null,n.detail.quality)}),pe.call(t,t.media,"ready qualitychange",()=>{D.setDownloadUrl.call(t)});const r=t.config.events.concat(["keyup","keydown"]).join(" ");pe.call(t,t.media,r,n=>{let{detail:a={}}=n;n.type==="error"&&(a=t.media.error),Y.call(t,i.container,n.type,!0,a)})}),I(this,"proxy",(t,i,r)=>{const{player:n}=this,a=n.config.listeners[r];let o=!0;_.function(a)&&(o=a.call(n,t)),o!==!1&&_.function(i)&&i.call(n,t)}),I(this,"bind",(t,i,r,n,a=!0)=>{const{player:o}=this,l=o.config.listeners[n],h=_.function(l);pe.call(o,t,i,c=>this.proxy(c,r,n),a&&!h)}),I(this,"controls",()=>{const{player:t}=this,{elements:i}=t,r=it.isIE?"change":"input";if(i.buttons.play&&Array.from(i.buttons.play).forEach(n=>{this.bind(n,"click",()=>{Oi(t.togglePlay())},"play")}),this.bind(i.buttons.restart,"click",t.restart,"restart"),this.bind(i.buttons.rewind,"click",()=>{t.lastSeekTime=Date.now(),t.rewind()},"rewind"),this.bind(i.buttons.fastForward,"click",()=>{t.lastSeekTime=Date.now(),t.forward()},"fastForward"),this.bind(i.buttons.mute,"click",()=>{t.muted=!t.muted},"mute"),this.bind(i.buttons.captions,"click",()=>t.toggleCaptions()),this.bind(i.buttons.download,"click",()=>{Y.call(t,t.media,"download")},"download"),this.bind(i.buttons.fullscreen,"click",()=>{t.fullscreen.toggle()},"fullscreen"),this.bind(i.buttons.pip,"click",()=>{t.pip="toggle"},"pip"),this.bind(i.buttons.airplay,"click",t.airplay,"airplay"),this.bind(i.buttons.settings,"click",n=>{n.stopPropagation(),n.preventDefault(),D.toggleMenu.call(t,n)},null,!1),this.bind(i.buttons.settings,"keyup",n=>{[" ","Enter"].includes(n.key)&&(n.key!=="Enter"?(n.preventDefault(),n.stopPropagation(),D.toggleMenu.call(t,n)):D.focusFirstMenuItem.call(t,null,!0))},null,!1),this.bind(i.settings.menu,"keydown",n=>{n.key==="Escape"&&D.toggleMenu.call(t,n)}),this.bind(i.inputs.seek,"mousedown mousemove",n=>{const a=i.progress.getBoundingClientRect(),o=100/a.width*(n.pageX-a.left);n.currentTarget.setAttribute("seek-value",o)}),this.bind(i.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",n=>{const a=n.currentTarget,o="play-on-seeked";if(_.keyboardEvent(n)&&!["ArrowLeft","ArrowRight"].includes(n.key))return;t.lastSeekTime=Date.now();const l=a.hasAttribute(o),h=["mouseup","touchend","keyup"].includes(n.type);l&&h?(a.removeAttribute(o),Oi(t.play())):!h&&t.playing&&(a.setAttribute(o,""),t.pause())}),it.isIos){const n=sn.call(t,'input[type="range"]');Array.from(n).forEach(a=>this.bind(a,r,o=>Su(o.target)))}this.bind(i.inputs.seek,r,n=>{const a=n.currentTarget;let o=a.getAttribute("seek-value");_.empty(o)&&(o=a.value),a.removeAttribute("seek-value"),t.currentTime=o/a.max*t.duration},"seek"),this.bind(i.progress,"mouseenter mouseleave mousemove",n=>D.updateSeekTooltip.call(t,n)),this.bind(i.progress,"mousemove touchmove",n=>{const{previewThumbnails:a}=t;a&&a.loaded&&a.startMove(n)}),this.bind(i.progress,"mouseleave touchend click",()=>{const{previewThumbnails:n}=t;n&&n.loaded&&n.endMove(!1,!0)}),this.bind(i.progress,"mousedown touchstart",n=>{const{previewThumbnails:a}=t;a&&a.loaded&&a.startScrubbing(n)}),this.bind(i.progress,"mouseup touchend",n=>{const{previewThumbnails:a}=t;a&&a.loaded&&a.endScrubbing(n)}),it.isWebKit&&Array.from(sn.call(t,'input[type="range"]')).forEach(n=>{this.bind(n,"input",a=>D.updateRangeFill.call(t,a.target))}),t.config.toggleInvert&&!_.element(i.display.duration)&&this.bind(i.display.currentTime,"click",()=>{t.currentTime!==0&&(t.config.invertTime=!t.config.invertTime,D.timeUpdate.call(t))}),this.bind(i.inputs.volume,r,n=>{t.volume=n.target.value},"volume"),this.bind(i.controls,"mouseenter mouseleave",n=>{i.controls.hover=!t.touch&&n.type==="mouseenter"}),i.fullscreen&&Array.from(i.fullscreen.children).filter(n=>!n.contains(i.container)).forEach(n=>{this.bind(n,"mouseenter mouseleave",a=>{i.controls&&(i.controls.hover=!t.touch&&a.type==="mouseenter")})}),this.bind(i.controls,"mousedown mouseup touchstart touchend touchcancel",n=>{i.controls.pressed=["mousedown","touchstart"].includes(n.type)}),this.bind(i.controls,"focusin",()=>{const{config:n,timers:a}=t;ye(i.controls,n.classNames.noTransition,!0),ve.toggleControls.call(t,!0),setTimeout(()=>{ye(i.controls,n.classNames.noTransition,!1)},0);const o=this.touch?3e3:4e3;clearTimeout(a.controls),a.controls=setTimeout(()=>ve.toggleControls.call(t,!1),o)}),this.bind(i.inputs.volume,"wheel",n=>{const a=n.webkitDirectionInvertedFromDevice,[o,l]=[n.deltaX,-n.deltaY].map(u=>a?-u:u),h=Math.sign(Math.abs(o)>Math.abs(l)?o:l);t.increaseVolume(h/50);const{volume:c}=t.media;(h===1&&c<1||h===-1&&c>0)&&n.preventDefault()},"volume",!1)}),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e){const{player:t}=this,{elements:i}=t,{key:r,type:n,altKey:a,ctrlKey:o,metaKey:l,shiftKey:h}=e,c=n==="keydown",u=c&&r===this.lastKey;if(!(a||o||l||h)&&r){if(c){const p=document.activeElement;if(_.element(p)){const{editable:g}=t.config.selectors,{seek:f}=i.inputs;if(p!==f&&Nr(p,g)||e.key===" "&&Nr(p,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(r)&&(e.preventDefault(),e.stopPropagation()),r){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":u||(d=parseInt(r,10),t.currentTime=t.duration/10*d);break;case" ":case"k":u||Oi(t.togglePlay());break;case"ArrowUp":t.increaseVolume(.1);break;case"ArrowDown":t.decreaseVolume(.1);break;case"m":u||(t.muted=!t.muted);break;case"ArrowRight":t.forward();break;case"ArrowLeft":t.rewind();break;case"f":t.fullscreen.toggle();break;case"c":u||t.toggleCaptions();break;case"l":t.loop=!t.loop}r==="Escape"&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=r}else this.lastKey=null;var d}}toggleMenu(e){D.toggleMenu.call(this.player,e)}}function h_(s,e){return s(e={exports:{}},e.exports),e.exports}var c_=h_(function(s,e){s.exports=function(){var t=function(){},i={},r={},n={};function a(d,p){d=d.push?d:[d];var g,f,y,b=[],m=d.length,v=m;for(g=function(x,w){w.length&&b.push(x),--v||p(b)};m--;)f=d[m],(y=r[f])?g(f,y):(n[f]=n[f]||[]).push(g)}function o(d,p){if(d){var g=n[d];if(r[d]=p,g)for(;g.length;)g[0](d,p),g.splice(0,1)}}function l(d,p){d.call&&(d={success:d}),p.length?(d.error||t)(p):(d.success||t)(d)}function h(d,p,g,f){var y,b,m=document,v=g.async,x=(g.numRetries||0)+1,w=g.before||t,T=d.replace(/[\?|#].*$/,""),k=d.replace(/^(css|img)!/,"");f=f||0,/(^css!|\.css$)/.test(T)?((b=m.createElement("link")).rel="stylesheet",b.href=k,(y="hideFocus"in b)&&b.relList&&(y=0,b.rel="preload",b.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(T)?(b=m.createElement("img")).src=k:((b=m.createElement("script")).src=d,b.async=v===void 0||v),b.onload=b.onerror=b.onbeforeload=function(A){var E=A.type[0];if(y)try{b.sheet.cssText.length||(E="e")}catch(P){P.code!=18&&(E="e")}if(E=="e"){if((f+=1)<x)return h(d,p,g,f)}else if(b.rel=="preload"&&b.as=="style")return b.rel="stylesheet";p(d,E,A.defaultPrevented)},w(d,b)!==!1&&m.head.appendChild(b)}function c(d,p,g){var f,y,b=(d=d.push?d:[d]).length,m=b,v=[];for(f=function(x,w,T){if(w=="e"&&v.push(x),w=="b"){if(!T)return;v.push(x)}--b||p(v)},y=0;y<m;y++)h(d[y],f,g)}function u(d,p,g){var f,y;if(p&&p.trim&&(f=p),y=(f?g:p)||{},f){if(f in i)throw"LoadJS";i[f]=!0}function b(m,v){c(d,function(x){l(y,x),m&&l({success:m,error:v},x),o(f,x)},y)}if(y.returnPromise)return new Promise(b);b()}return u.ready=function(d,p){return a(d,function(g){l(p,g)}),u},u.done=function(d){o(d,[])},u.reset=function(){i={},r={},n={}},u.isDefined=function(d){return d in i},u}()});function _l(s){return new Promise((e,t)=>{c_(s,{success:e,error:t})})}function u_(s){return _.empty(s)?null:_.number(Number(s))?s:s.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:s}function d_(s){const e=s.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return e&&e.length===5?e[4]:null}function hn(s){s&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===s&&(this.media.paused=!s,Y.call(this,this.media,s?"play":"pause"))}const yl={setup(){const s=this;ye(s.elements.wrapper,s.config.classNames.embed,!0),s.options.speed=s.config.speed.options,fs.call(s),_.object(window.Vimeo)?yl.ready.call(s):_l(s.config.urls.vimeo.sdk).then(()=>{yl.ready.call(s)}).catch(e=>{s.debug.warn("Vimeo SDK (player.js) failed to load",e)})},ready(){const s=this,e=s.config.vimeo,{premium:t,referrerPolicy:i,...r}=e;let n=s.media.getAttribute("src"),a="";_.empty(n)?(n=s.media.getAttribute(s.config.attributes.embed.id),a=s.media.getAttribute(s.config.attributes.embed.hash)):a=d_(n);const o=a?{h:a}:{};t&&Object.assign(r,{controls:!1,sidedock:!1});const l=Uu({loop:s.config.loop.active,autoplay:s.autoplay,muted:s.muted,gesture:"media",playsinline:s.config.playsinline,...o,...r}),h=u_(n),c=j("iframe"),u=pl(s.config.urls.vimeo.iframe,h,l);if(c.setAttribute("src",u),c.setAttribute("allowfullscreen",""),c.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),_.empty(i)||c.setAttribute("referrerPolicy",i),t||!e.customControls)c.setAttribute("data-poster",s.poster),s.media=ga(c,s.media);else{const m=j("div",{class:s.config.classNames.embedContainer,"data-poster":s.poster});m.appendChild(c),s.media=ga(m,s.media)}e.customControls||ln(pl(s.config.urls.vimeo.api,u)).then(m=>{!_.empty(m)&&m.thumbnail_url&&ve.setPoster.call(s,m.thumbnail_url).catch(()=>{})}),s.embed=new window.Vimeo.Player(c,{autopause:s.config.autopause,muted:s.muted}),s.media.paused=!0,s.media.currentTime=0,s.supported.ui&&s.embed.disableTextTrack(),s.media.play=()=>(hn.call(s,!0),s.embed.play()),s.media.pause=()=>(hn.call(s,!1),s.embed.pause()),s.media.stop=()=>{s.pause(),s.currentTime=0};let{currentTime:d}=s.media;Object.defineProperty(s.media,"currentTime",{get:()=>d,set(m){const{embed:v,media:x,paused:w,volume:T}=s,k=w&&!v.hasPlayed;x.seeking=!0,Y.call(s,x,"seeking"),Promise.resolve(k&&v.setVolume(0)).then(()=>v.setCurrentTime(m)).then(()=>k&&v.pause()).then(()=>k&&v.setVolume(T)).catch(()=>{})}});let p=s.config.speed.selected;Object.defineProperty(s.media,"playbackRate",{get:()=>p,set(m){s.embed.setPlaybackRate(m).then(()=>{p=m,Y.call(s,s.media,"ratechange")}).catch(()=>{s.options.speed=[1]})}});let{volume:g}=s.config;Object.defineProperty(s.media,"volume",{get:()=>g,set(m){s.embed.setVolume(m).then(()=>{g=m,Y.call(s,s.media,"volumechange")})}});let{muted:f}=s.config;Object.defineProperty(s.media,"muted",{get:()=>f,set(m){const v=!!_.boolean(m)&&m;s.embed.setMuted(!!v||s.config.muted).then(()=>{f=v,Y.call(s,s.media,"volumechange")})}});let y,{loop:b}=s.config;Object.defineProperty(s.media,"loop",{get:()=>b,set(m){const v=_.boolean(m)?m:s.config.loop.active;s.embed.setLoop(v).then(()=>{b=v})}}),s.embed.getVideoUrl().then(m=>{y=m,D.setDownloadUrl.call(s)}).catch(m=>{this.debug.warn(m)}),Object.defineProperty(s.media,"currentSrc",{get:()=>y}),Object.defineProperty(s.media,"ended",{get:()=>s.currentTime===s.duration}),Promise.all([s.embed.getVideoWidth(),s.embed.getVideoHeight()]).then(m=>{const[v,x]=m;s.embed.ratio=Du(v,x),fs.call(this)}),s.embed.setAutopause(s.config.autopause).then(m=>{s.config.autopause=m}),s.embed.getVideoTitle().then(m=>{s.config.title=m,ve.setTitle.call(this)}),s.embed.getCurrentTime().then(m=>{d=m,Y.call(s,s.media,"timeupdate")}),s.embed.getDuration().then(m=>{s.media.duration=m,Y.call(s,s.media,"durationchange")}),s.embed.getTextTracks().then(m=>{s.media.textTracks=m,fe.setup.call(s)}),s.embed.on("cuechange",({cues:m=[]})=>{const v=m.map(x=>i_(x.text));fe.updateCues.call(s,v)}),s.embed.on("loaded",()=>{s.embed.getPaused().then(m=>{hn.call(s,!m),m||Y.call(s,s.media,"playing")}),_.element(s.embed.element)&&s.supported.ui&&s.embed.element.setAttribute("tabindex",-1)}),s.embed.on("bufferstart",()=>{Y.call(s,s.media,"waiting")}),s.embed.on("bufferend",()=>{Y.call(s,s.media,"playing")}),s.embed.on("play",()=>{hn.call(s,!0),Y.call(s,s.media,"playing")}),s.embed.on("pause",()=>{hn.call(s,!1)}),s.embed.on("timeupdate",m=>{s.media.seeking=!1,d=m.seconds,Y.call(s,s.media,"timeupdate")}),s.embed.on("progress",m=>{s.media.buffered=m.percent,Y.call(s,s.media,"progress"),parseInt(m.percent,10)===1&&Y.call(s,s.media,"canplaythrough"),s.embed.getDuration().then(v=>{v!==s.media.duration&&(s.media.duration=v,Y.call(s,s.media,"durationchange"))})}),s.embed.on("seeked",()=>{s.media.seeking=!1,Y.call(s,s.media,"seeked")}),s.embed.on("ended",()=>{s.media.paused=!0,Y.call(s,s.media,"ended")}),s.embed.on("error",m=>{s.media.error=m,Y.call(s,s.media,"error")}),e.customControls&&setTimeout(()=>ve.build.call(s),0)}};function p_(s){return _.empty(s)?null:s.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:s}function cn(s){s&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===s&&(this.media.paused=!s,Y.call(this,this.media,s?"play":"pause"))}function f_(s){return s.noCookie?"https://www.youtube-nocookie.com":window.location.protocol==="http:"?"http://www.youtube.com":void 0}const xa={setup(){if(ye(this.elements.wrapper,this.config.classNames.embed,!0),_.object(window.YT)&&_.function(window.YT.Player))xa.ready.call(this);else{const s=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{_.function(s)&&s(),xa.ready.call(this)},_l(this.config.urls.youtube.sdk).catch(e=>{this.debug.warn("YouTube API failed to load",e)})}},getTitle(s){ln(pl(this.config.urls.youtube.api,s)).then(e=>{if(_.object(e)){const{title:t,height:i,width:r}=e;this.config.title=t,ve.setTitle.call(this),this.embed.ratio=Du(r,i)}fs.call(this)}).catch(()=>{fs.call(this)})},ready(){const s=this,e=s.config.youtube,t=s.media&&s.media.getAttribute("id");if(!_.empty(t)&&t.startsWith("youtube-"))return;let i=s.media.getAttribute("src");_.empty(i)&&(i=s.media.getAttribute(this.config.attributes.embed.id));const r=p_(i),n=j("div",{id:Zm(s.provider),"data-poster":e.customControls?s.poster:void 0});if(s.media=ga(n,s.media),e.customControls){const a=o=>`https://i.ytimg.com/vi/${r}/${o}default.jpg`;va(a("maxres"),121).catch(()=>va(a("sd"),121)).catch(()=>va(a("hq"))).then(o=>ve.setPoster.call(s,o.src)).then(o=>{o.includes("maxres")||(s.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}s.embed=new window.YT.Player(s.media,{videoId:r,host:f_(e),playerVars:Be({},{autoplay:s.config.autoplay?1:0,hl:s.config.hl,controls:s.supported.ui&&e.customControls?0:1,disablekb:1,playsinline:s.config.playsinline&&!s.config.fullscreen.iosNative?1:0,cc_load_policy:s.captions.active?1:0,cc_lang_pref:s.config.captions.language,widget_referrer:window?window.location.href:null},e),events:{onError(a){if(!s.media.error){const o=a.data,l={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[o]||"An unknown error occurred";s.media.error={code:o,message:l},Y.call(s,s.media,"error")}},onPlaybackRateChange(a){const o=a.target;s.media.playbackRate=o.getPlaybackRate(),Y.call(s,s.media,"ratechange")},onReady(a){if(_.function(s.media.play))return;const o=a.target;xa.getTitle.call(s,r),s.media.play=()=>{cn.call(s,!0),o.playVideo()},s.media.pause=()=>{cn.call(s,!1),o.pauseVideo()},s.media.stop=()=>{o.stopVideo()},s.media.duration=o.getDuration(),s.media.paused=!0,s.media.currentTime=0,Object.defineProperty(s.media,"currentTime",{get:()=>Number(o.getCurrentTime()),set(u){s.paused&&!s.embed.hasPlayed&&s.embed.mute(),s.media.seeking=!0,Y.call(s,s.media,"seeking"),o.seekTo(u)}}),Object.defineProperty(s.media,"playbackRate",{get:()=>o.getPlaybackRate(),set(u){o.setPlaybackRate(u)}});let{volume:l}=s.config;Object.defineProperty(s.media,"volume",{get:()=>l,set(u){l=u,o.setVolume(100*l),Y.call(s,s.media,"volumechange")}});let{muted:h}=s.config;Object.defineProperty(s.media,"muted",{get:()=>h,set(u){const d=_.boolean(u)?u:h;h=d,o[d?"mute":"unMute"](),o.setVolume(100*l),Y.call(s,s.media,"volumechange")}}),Object.defineProperty(s.media,"currentSrc",{get:()=>o.getVideoUrl()}),Object.defineProperty(s.media,"ended",{get:()=>s.currentTime===s.duration});const c=o.getAvailablePlaybackRates();s.options.speed=c.filter(u=>s.config.speed.options.includes(u)),s.supported.ui&&e.customControls&&s.media.setAttribute("tabindex",-1),Y.call(s,s.media,"timeupdate"),Y.call(s,s.media,"durationchange"),clearInterval(s.timers.buffering),s.timers.buffering=setInterval(()=>{s.media.buffered=o.getVideoLoadedFraction(),(s.media.lastBuffered===null||s.media.lastBuffered<s.media.buffered)&&Y.call(s,s.media,"progress"),s.media.lastBuffered=s.media.buffered,s.media.buffered===1&&(clearInterval(s.timers.buffering),Y.call(s,s.media,"canplaythrough"))},200),e.customControls&&setTimeout(()=>ve.build.call(s),50)},onStateChange(a){const o=a.target;switch(clearInterval(s.timers.playing),s.media.seeking&&[1,2].includes(a.data)&&(s.media.seeking=!1,Y.call(s,s.media,"seeked")),a.data){case-1:Y.call(s,s.media,"timeupdate"),s.media.buffered=o.getVideoLoadedFraction(),Y.call(s,s.media,"progress");break;case 0:cn.call(s,!1),s.media.loop?(o.stopVideo(),o.playVideo()):Y.call(s,s.media,"ended");break;case 1:e.customControls&&!s.config.autoplay&&s.media.paused&&!s.embed.hasPlayed?s.media.pause():(cn.call(s,!0),Y.call(s,s.media,"playing"),s.timers.playing=setInterval(()=>{Y.call(s,s.media,"timeupdate")},50),s.media.duration!==o.getDuration()&&(s.media.duration=o.getDuration(),Y.call(s,s.media,"durationchange")));break;case 2:s.muted||s.embed.unMute(),cn.call(s,!1);break;case 3:Y.call(s,s.media,"waiting")}Y.call(s,s.elements.container,"statechange",!1,{code:a.data})}}})}},$u={setup(){this.media?(ye(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),ye(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&ye(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=j("div",{class:this.config.classNames.video}),Eu(this.media,this.elements.wrapper),this.elements.poster=j("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?ur.setup.call(this):this.isYouTube?xa.setup.call(this):this.isVimeo&&yl.setup.call(this)):this.debug.warn("No media element found!")}};class g_{constructor(e){I(this,"load",()=>{this.enabled&&(_.object(window.google)&&_.object(window.google.ima)?this.ready():_l(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),I(this,"ready",()=>{var t;this.enabled||((t=this).manager&&t.manager.destroy(),t.elements.displayContainer&&t.elements.displayContainer.destroy(),t.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),I(this,"setupIMA",()=>{this.elements.container=j("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,t=>this.onAdsManagerLoaded(t),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,t=>this.onAdError(t),!1),this.requestAds()}),I(this,"requestAds",()=>{const{container:t}=this.player.elements;try{const i=new google.ima.AdsRequest;i.adTagUrl=this.tagUrl,i.linearAdSlotWidth=t.offsetWidth,i.linearAdSlotHeight=t.offsetHeight,i.nonLinearAdSlotWidth=t.offsetWidth,i.nonLinearAdSlotHeight=t.offsetHeight,i.forceNonLinearFullSlot=!1,i.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(i)}catch(i){this.onAdError(i)}}),I(this,"pollCountdown",(t=!1)=>{if(!t)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const i=ba(Math.max(this.manager.getRemainingTime(),0)),r=`${rt.get("advertisement",this.player.config)} - ${i}`;this.elements.container.setAttribute("data-badge-text",r)},100)}),I(this,"onAdsManagerLoaded",t=>{if(!this.enabled)return;const i=new google.ima.AdsRenderingSettings;i.restoreCustomPlaybackStateOnAdBreakComplete=!0,i.enablePreloading=!0,this.manager=t.getAdsManager(this.player,i),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r=>this.onAdError(r)),Object.keys(google.ima.AdEvent.Type).forEach(r=>{this.manager.addEventListener(google.ima.AdEvent.Type[r],n=>this.onAdEvent(n))}),this.trigger("loaded")}),I(this,"addCuePoints",()=>{_.empty(this.cuePoints)||this.cuePoints.forEach(t=>{if(t!==0&&t!==-1&&t<this.player.duration){const i=this.player.elements.progress;if(_.element(i)){const r=100/this.player.duration*t,n=j("span",{class:this.player.config.classNames.cues});n.style.left=`${r.toString()}%`,i.appendChild(n)}}})}),I(this,"onAdEvent",t=>{const{container:i}=this.player.elements,r=t.getAd(),n=t.getAdData();switch((a=>{Y.call(this.player,this.player.media,`ads${a.replace(/_/g,"").toLowerCase()}`)})(t.type),t.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),r.isLinear()||(r.width=i.offsetWidth,r.height=i.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:n.adError&&this.player.debug.warn(`Non-fatal ad error: ${n.adError.getMessage()}`)}}),I(this,"onAdError",t=>{this.cancel(),this.player.debug.warn("Ads error",t)}),I(this,"listeners",()=>{const{container:t}=this.player.elements;let i;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{i=this.player.currentTime}),this.player.on("seeked",()=>{const r=this.player.currentTime;_.empty(this.cuePoints)||this.cuePoints.forEach((n,a)=>{i<n&&n<r&&(this.manager.discardAdBreak(),this.cuePoints.splice(a,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL)})}),I(this,"play",()=>{const{container:t}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(i){this.onAdError(i)}}).catch(()=>{})}),I(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,Oi(this.player.media.play())}),I(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),I(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),I(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(t=>{this.on("loaded",t),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),I(this,"trigger",(t,...i)=>{const r=this.events[t];_.array(r)&&r.forEach(n=>{_.function(n)&&n.apply(this,i)})}),I(this,"on",(t,i)=>(_.array(this.events[t])||(this.events[t]=[]),this.events[t].push(i),this)),I(this,"startSafetyTimer",(t,i)=>{this.player.debug.log(`Safety timer invoked from: ${i}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},t)}),I(this,"clearSafetyTimer",t=>{_.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${t}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((t,i)=>{this.on("loaded",t),this.on("error",i)}),this.load()}get enabled(){const{config:e}=this;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!_.empty(e.publisherId)||_.url(e.tagUrl))}get tagUrl(){const{config:e}=this;return _.url(e.tagUrl)?e.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${Uu({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId})}`}}function Wu(s=0,e=0,t=255){return Math.min(Math.max(s,e),t)}const m_=s=>{const e=[];return s.split(/\r\n\r\n|\n\n|\r\r/).forEach(t=>{const i={};t.split(/\r\n|\n|\r/).forEach(r=>{if(_.number(i.startTime)){if(!_.empty(r.trim())&&_.empty(i.text)){const n=r.trim().split("#xywh=");[i.text]=n,n[1]&&([i.x,i.y,i.w,i.h]=n[1].split(","))}}else{const n=r.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);n&&(i.startTime=60*Number(n[1]||0)*60+60*Number(n[2])+Number(n[3])+ +`0.${n[4]}`,i.endTime=60*Number(n[6]||0)*60+60*Number(n[7])+Number(n[8])+ +`0.${n[9]}`)}}),i.text&&e.push(i)}),e},qu=(s,e)=>{const t={};return s>e.width/e.height?(t.width=e.width,t.height=1/s*e.width):(t.height=e.height,t.width=s*e.height),t};class bl{constructor(e){I(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)})}),I(this,"getThumbnails",()=>new Promise(t=>{const{src:i}=this.player.config.previewThumbnails;if(_.empty(i))throw new Error("Missing previewThumbnails.src config attribute");const r=()=>{this.thumbnails.sort((n,a)=>n.height-a.height),this.player.debug.log("Preview thumbnails",this.thumbnails),t()};if(_.function(i))i(n=>{this.thumbnails=n,r()});else{const n=(_.string(i)?[i]:i).map(a=>this.getThumbnail(a));Promise.all(n).then(r)}})),I(this,"getThumbnail",t=>new Promise(i=>{ln(t).then(r=>{const n={frames:m_(r),height:null,urlPrefix:""};n.frames[0].text.startsWith("/")||n.frames[0].text.startsWith("http://")||n.frames[0].text.startsWith("https://")||(n.urlPrefix=t.substring(0,t.lastIndexOf("/")+1));const a=new Image;a.onload=()=>{n.height=a.naturalHeight,n.width=a.naturalWidth,this.thumbnails.push(n),i()},a.src=n.urlPrefix+n.frames[0].text})})),I(this,"startMove",t=>{if(this.loaded&&_.event(t)&&["touchmove","mousemove"].includes(t.type)&&this.player.media.duration){if(t.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var i,r;const n=this.player.elements.progress.getBoundingClientRect(),a=100/n.width*(t.pageX-n.left);this.seekTime=this.player.media.duration*(a/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=t.pageX,this.elements.thumb.time.innerText=ba(this.seekTime);const o=(i=this.player.config.markers)===null||i===void 0||(r=i.points)===null||r===void 0?void 0:r.find(({time:l})=>l===Math.round(this.seekTime));o&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${o.label}<br>`)}this.showImageAtCurrentTime()}}),I(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),I(this,"startScrubbing",t=>{(_.nullOrUndefined(t.button)||t.button===!1||t.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),I(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):cl.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),I(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),I(this,"render",()=>{this.elements.thumb.container=j("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=j("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const t=j("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=j("span",{},"00:00"),t.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(t),_.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=j("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),I(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),I(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const t=this.thumbnails[0].frames.findIndex(n=>this.seekTime>=n.startTime&&this.seekTime<=n.endTime),i=t>=0;let r=0;this.mouseDown||this.toggleThumbContainer(i),i&&(this.thumbnails.forEach((n,a)=>{this.loadedImages.includes(n.frames[t].text)&&(r=a)}),t!==this.showingThumb&&(this.showingThumb=t,this.loadImage(r)))}),I(this,"loadImage",(t=0)=>{const i=this.showingThumb,r=this.thumbnails[t],{urlPrefix:n}=r,a=r.frames[i],o=r.frames[i].text,l=n+o;if(this.currentImageElement&&this.currentImageElement.dataset.filename===o)this.showImage(this.currentImageElement,a,t,i,o,!1),this.currentImageElement.dataset.index=i,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const h=new Image;h.src=l,h.dataset.index=i,h.dataset.filename=o,this.showingThumbFilename=o,this.player.debug.log(`Loading image: ${l}`),h.onload=()=>this.showImage(h,a,t,i,o,!0),this.loadingImage=h,this.removeOldImages(h)}}),I(this,"showImage",(t,i,r,n,a,o=!0)=>{this.player.debug.log(`Showing thumb: ${a}. num: ${n}. qual: ${r}. newimg: ${o}`),this.setImageSizeAndOffset(t,i),o&&(this.currentImageContainer.appendChild(t),this.currentImageElement=t,this.loadedImages.includes(a)||this.loadedImages.push(a)),this.preloadNearby(n,!0).then(this.preloadNearby(n,!1)).then(this.getHigherQuality(r,t,i,a))}),I(this,"removeOldImages",t=>{Array.from(this.currentImageContainer.children).forEach(i=>{if(i.tagName.toLowerCase()!=="img")return;const r=this.usingSprites?500:1e3;if(i.dataset.index!==t.dataset.index&&!i.dataset.deleting){i.dataset.deleting=!0;const{currentImageContainer:n}=this;setTimeout(()=>{n.removeChild(i),this.player.debug.log(`Removing thumb: ${i.dataset.filename}`)},r)}})}),I(this,"preloadNearby",(t,i=!0)=>new Promise(r=>{setTimeout(()=>{const n=this.thumbnails[0].frames[t].text;if(this.showingThumbFilename===n){let a;a=i?this.thumbnails[0].frames.slice(t):this.thumbnails[0].frames.slice(0,t).reverse();let o=!1;a.forEach(l=>{const h=l.text;if(h!==n&&!this.loadedImages.includes(h)){o=!0,this.player.debug.log(`Preloading thumb filename: ${h}`);const{urlPrefix:c}=this.thumbnails[0],u=c+h,d=new Image;d.src=u,d.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${h}`),this.loadedImages.includes(h)||this.loadedImages.push(h),r()}}}),o||r()}},300)})),I(this,"getHigherQuality",(t,i,r,n)=>{if(t<this.thumbnails.length-1){let a=i.naturalHeight;this.usingSprites&&(a=r.h),a<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===n&&(this.player.debug.log(`Showing higher quality thumb for: ${n}`),this.loadImage(t+1))},300)}}),I(this,"toggleThumbContainer",(t=!1,i=!1)=>{const r=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(r,t),!t&&i&&(this.showingThumb=null,this.showingThumbFilename=null)}),I(this,"toggleScrubbingContainer",(t=!1)=>{const i=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(i,t),t||(this.showingThumb=null,this.showingThumbFilename=null)}),I(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),I(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:t}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(t.clientHeight>20&&t.clientWidth<20){const i=Math.floor(t.clientHeight*this.thumbAspectRatio);t.style.width=`${i}px`}else if(t.clientHeight<20&&t.clientWidth>20){const i=Math.floor(t.clientWidth/this.thumbAspectRatio);t.style.height=`${i}px`}}else{const i=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);t.style.height=`${this.thumbContainerHeight}px`,t.style.width=`${i}px`}this.setThumbContainerPos()}),I(this,"setThumbContainerPos",()=>{const t=this.player.elements.progress.getBoundingClientRect(),i=this.player.elements.container.getBoundingClientRect(),{container:r}=this.elements.thumb,n=i.left-t.left+10,a=i.right-t.left-r.clientWidth-10,o=this.mousePosX-t.left-r.clientWidth/2,l=Wu(o,n,a);r.style.left=`${l}px`,r.style.setProperty("--preview-arrow-offset",o-l+"px")}),I(this,"setScrubbingContainerSize",()=>{const{width:t,height:i}=qu(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${t}px`,this.elements.scrubbing.container.style.height=`${i}px`}),I(this,"setImageSizeAndOffset",(t,i)=>{if(!this.usingSprites)return;const r=this.thumbContainerHeight/i.h;t.style.height=t.naturalHeight*r+"px",t.style.width=t.naturalWidth*r+"px",t.style.left=`-${i.x*r}px`,t.style.top=`-${i.y*r}px`}),this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:e}=qu(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}const vl={insertElements(s,e){_.string(e)?Cu(s,this.media,{src:e}):_.array(e)&&e.forEach(t=>{Cu(s,this.media,t)})},change(s){Pu(s,"sources.length")?(ur.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],Yi(this.media),this.media=null,_.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:e,type:t}=s,[{provider:i=dr.html5,src:r}]=e,n=i==="html5"?t:"div",a=i==="html5"?{}:{src:r};Object.assign(this,{provider:i,type:t,supported:$e.check(t,i,this.config.playsinline),media:j(n,a)}),this.elements.container.appendChild(this.media),_.boolean(s.autoplay)&&(this.config.autoplay=s.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),_.empty(s.poster)||(this.poster=s.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),ve.addStyleHook.call(this),this.isHTML5&&vl.insertElements.call(this,"source",e),this.config.title=s.title,$u.setup.call(this),this.isHTML5&&Object.keys(s).includes("tracks")&&vl.insertElements.call(this,"track",s.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ve.build.call(this),this.isHTML5&&this.media.load(),_.empty(s.previewThumbnails)||(Object.assign(this.config.previewThumbnails,s.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new bl(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};class un{constructor(e,t){if(I(this,"play",()=>_.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>Oi(this.media.play())),this.media.play()):null),I(this,"pause",()=>this.playing&&_.function(this.media.pause)?this.media.pause():null),I(this,"togglePlay",o=>(_.boolean(o)?o:!this.playing)?this.play():this.pause()),I(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):_.function(this.media.stop)&&this.media.stop()}),I(this,"restart",()=>{this.currentTime=0}),I(this,"rewind",o=>{this.currentTime-=_.number(o)?o:this.config.seekTime}),I(this,"forward",o=>{this.currentTime+=_.number(o)?o:this.config.seekTime}),I(this,"increaseVolume",o=>{const l=this.media.muted?0:this.volume;this.volume=l+(_.number(o)?o:0)}),I(this,"decreaseVolume",o=>{this.increaseVolume(-o)}),I(this,"airplay",()=>{$e.airplay&&this.media.webkitShowPlaybackTargetPicker()}),I(this,"toggleControls",o=>{if(this.supported.ui&&!this.isAudio){const l=ma(this.elements.container,this.config.classNames.hideControls),h=o===void 0?void 0:!o,c=ye(this.elements.container,this.config.classNames.hideControls,h);if(c&&_.array(this.config.controls)&&this.config.controls.includes("settings")&&!_.empty(this.config.settings)&&D.toggleMenu.call(this,!1),c!==l){const u=c?"controlshidden":"controlsshown";Y.call(this,this.media,u)}return!c}return!1}),I(this,"on",(o,l)=>{pe.call(this,this.elements.container,o,l)}),I(this,"once",(o,l)=>{cl.call(this,this.elements.container,o,l)}),I(this,"off",(o,l)=>{_a(this.elements.container,o,l)}),I(this,"destroy",(o,l=!1)=>{if(!this.ready)return;const h=()=>{document.body.style.overflow="",this.embed=null,l?(Object.keys(this.elements).length&&(Yi(this.elements.buttons.play),Yi(this.elements.captions),Yi(this.elements.controls),Yi(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),_.function(o)&&o()):(Gm.call(this),ur.cancelRequests.call(this),ga(this.elements.original,this.elements.container),Y.call(this,this.elements.original,"destroyed",!0),_.function(o)&&o.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(ve.toggleNativeControls.call(this,!0),h()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&_.function(this.embed.destroy)&&this.embed.destroy(),h()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(h),setTimeout(h,200))}),I(this,"supports",o=>$e.mime.call(this,o)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=$e.touch,this.media=e,_.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||_.nodeList(this.media)||_.array(this.media))&&(this.media=this.media[0]),this.config=Be({},Bu,un.defaults,t||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new o_(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",$e),_.nullOrUndefined(this.media)||!_.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!$e.check().api)return void this.debug.error("Setup failed: no support");const i=this.media.cloneNode(!0);i.autoplay=!1,this.elements.original=i;const r=this.media.tagName.toLowerCase();let n=null,a=null;switch(r){case"div":if(n=this.media.querySelector("iframe"),_.element(n)){if(a=Vu(n.getAttribute("src")),this.provider=a_(a.toString()),this.elements.container=this.media,this.media=n,this.elements.container.className="",a.search.length){const o=["1","true"];o.includes(a.searchParams.get("autoplay"))&&(this.config.autoplay=!0),o.includes(a.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=o.includes(a.searchParams.get("playsinline")),this.config.youtube.hl=a.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(_.empty(this.provider)||!Object.values(dr).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=gl.video;break;case"video":case"audio":this.type=r,this.provider=dr.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=$e.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new l_(this),this.storage=new on(this),this.media.plyr=this,_.element(this.elements.container)||(this.elements.container=j("div"),Eu(this.media,this.elements.container)),ve.migrateStyles.call(this),ve.addStyleHook.call(this),$u.setup.call(this),this.config.debug&&pe.call(this,this.elements.container,this.config.events.join(" "),o=>{this.debug.log(`event: ${o.type}`)}),this.fullscreen=new ui(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ve.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new g_(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>Oi(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new bl(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===dr.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===dr.youtube}get isVimeo(){return this.provider===dr.vimeo}get isVideo(){return this.type===gl.video}get isAudio(){return this.type===gl.audio}get playing(){return!!(this.ready&&!this.paused&&!this.ended)}get paused(){return!!this.media.paused}get stopped(){return!!(this.paused&&this.currentTime===0)}get ended(){return!!this.media.ended}set currentTime(e){if(!this.duration)return;const t=_.number(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:e}=this.media;return _.number(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){const e=parseFloat(this.config.duration),t=(this.media||{}).duration,i=_.number(t)&&t!==1/0?t:0;return e||i}set volume(e){let t=e;_.string(t)&&(t=Number(t)),_.number(t)||(t=this.storage.get("volume")),_.number(t)||({volume:t}=this.config),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!_.empty(e)&&this.muted&&t>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(e){let t=e;_.boolean(t)||(t=this.storage.get("muted")),_.boolean(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t}get muted(){return!!this.media.muted}get hasAudio(){return!this.isHTML5||!!this.isAudio||!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}set speed(e){let t=null;_.number(e)&&(t=e),_.number(t)||(t=this.storage.get("speed")),_.number(t)||(t=this.config.speed.selected);const{minimumSpeed:i,maximumSpeed:r}=this;t=Wu(t,i,r),this.config.speed.selected=t,setTimeout(()=>{this.media&&(this.media.playbackRate=t)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){const t=this.config.quality,i=this.options.quality;if(!i.length)return;let r=[!_.empty(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(_.number),n=!0;if(!i.includes(r)){const a=Mu(i,r);this.debug.warn(`Unsupported quality option: ${r}, using ${a} instead`),r=a,n=!1}t.selected=r,this.media.quality=r,n&&this.storage.set({quality:r})}get quality(){return this.media.quality}set loop(e){const t=_.boolean(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t}get loop(){return!!this.media.loop}set source(e){vl.change.call(this,e)}get source(){return this.media.currentSrc}get download(){const{download:e}=this.config.urls;return _.url(e)?e:this.source}set download(e){_.url(e)&&(this.config.urls.download=e,D.setDownloadUrl.call(this))}set poster(e){this.isVideo?ve.setPoster.call(this,e,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const e=ya(dl.call(this));return _.array(e)?e.join(":"):e}set ratio(e){this.isVideo?_.string(e)&&Lu(e)?(this.config.ratio=ya(e),fs.call(this)):this.debug.error(`Invalid aspect ratio specified (${e})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(e){this.config.autoplay=_.boolean(e)?e:this.config.autoplay}get autoplay(){return!!this.config.autoplay}toggleCaptions(e){fe.toggle.call(this,e,!1)}set currentTrack(e){fe.set.call(this,e,!1),fe.setup.call(this)}get currentTrack(){const{toggled:e,currentTrack:t}=this.captions;return e?t:-1}set language(e){fe.setLanguage.call(this,e,!1)}get language(){return(fe.getCurrentTrack.call(this)||{}).language}set pip(e){if(!$e.pip)return;const t=_.boolean(e)?e:!this.pip;_.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?fl.active:fl.inactive),_.function(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}get pip(){return $e.pip?_.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===fl.active:null}setPreviewThumbnails(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new bl(this))}static supported(e,t){return $e.check(e,t)}static loadSprite(e,t){return Fu(e,t)}static setup(e,t={}){let i=null;return _.string(e)?i=Array.from(document.querySelectorAll(e)):_.nodeList(e)?i=Array.from(e):_.array(e)&&(i=e.filter(_.element)),_.empty(i)?null:i.map(r=>new un(r,t))}}un.defaults=jm(Bu);function __(){document.querySelectorAll(".plyr_component").forEach(s=>{const e=s.querySelector(".plyr_video"),t=s.querySelector(".plyr_cover"),i=s.querySelectorAll(".plyr_pause-trigger"),r=new un(e,{controls:["play","progress","current-time","mute","fullscreen"],iconUrl:"https://uploads-ssl.webflow.com/65bc102e4eb171a82bde792a/65c2c64da488020102534d56_plyrSprite.svg",resetOnEnd:!0,autopause:!0});t.addEventListener("click",()=>{r.play()}),r.on("ended",()=>{s.classList.remove("hide-cover")}),r.on("play",()=>{document.querySelectorAll(".plyr_component").forEach(a=>{a.classList.remove("hide-cover")}),s.classList.add("hide-cover");const n=document.querySelector(".plyr--playing");n&&n!==s&&n.querySelector(".plyr_pause-trigger").click()}),i.forEach(n=>{n.addEventListener("click",()=>{r.pause()})}),r.on("ended",()=>{r.fullscreen.active&&r.fullscreen.exit()}),r.on("enterfullscreen",()=>{s.classList.add("contain-video")}),r.on("exitfullscreen",()=>{s.classList.remove("contain-video")})})}function ju(){const s=document.querySelector('[data-element="clock"]');if(!s)return;const e={timeZone:"America/Indiana/Indianapolis",hour:"2-digit",minute:"2-digit",hour12:!0},t=new Intl.DateTimeFormat("en-US",e).format(new Date);s.innerHTML=t.replace(":",'<span class="blink">:</span>')}function y_(){ju(),setInterval(ju,1e3)}const Hu=document.createElement("style");Hu.innerHTML=`
    .blink {
      animation: blink-animation 1s steps(5, start) infinite;
      -webkit-animation: blink-animation 1s steps(5, start) infinite;
    }
    @keyframes blink-animation {
      to {
        visibility: hidden;
      }
    }
    @-webkit-keyframes blink-animation {
      to {
        visibility: hidden;
      }
    }
  `,document.head.appendChild(Hu);function b_(){const s=document.querySelectorAll(".work-cms_thumb-vid-wrap"),e=(i,r)=>{const n=i.currentTime/i.duration*100;ie.to(r,{width:`${n}%`,ease:"none",duration:.5})},t=(i,r)=>{let n=0;const a=100;return()=>{const o=new Date().getTime();o-n<a||(n=o,e(i,r))}};s.forEach(i=>{const r=i.querySelector("video"),n=i.closest(".work-cms-item"),a=n.querySelector(".work-cms_time-line"),o=n.querySelector(".work-cms-item-link");r.muted=!0,r.setAttribute("playsinline",""),r.loop=!0,r.addEventListener("loadedmetadata",()=>{r.duration>1&&(r.currentTime=1),r.pause()});const l=t(r,a);r.addEventListener("timeupdate",l),o.addEventListener("mouseenter",()=>{r.play().catch(h=>console.error("Error trying to play the video:",h)),ie.to(a,{opacity:1,duration:.8})}),o.addEventListener("mouseleave",()=>{r.pause(),ie.to(a,{opacity:0,duration:.8})})})}/*!
 * matrix 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Xi,Vr,xl,wa,dn,Ta,ka,pn,di="transform",wl=di+"Origin",Yu,Tl=function(e){var t=e.ownerDocument||e;for(!(di in e.style)&&("msTransform"in e.style)&&(di="msTransform",wl=di+"Origin");t.parentNode&&(t=t.parentNode););if(Vr=window,ka=new Ur,t){Xi=t,xl=t.documentElement,wa=t.body,pn=Xi.createElementNS("http://www.w3.org/2000/svg","g"),pn.style.transform="none";var i=t.createElement("div"),r=t.createElement("div"),n=t&&(t.body||t.firstElementChild);n&&n.appendChild&&(n.appendChild(i),i.appendChild(r),i.setAttribute("style","position:static;transform:translate3d(0,0,1px)"),Yu=r.offsetParent!==i,n.removeChild(i))}return t},v_=function(e){for(var t,i;e&&e!==wa;)i=e._gsap,i&&i.uncache&&i.get(e,"x"),i&&!i.scaleX&&!i.scaleY&&i.renderTransform&&(i.scaleX=i.scaleY=1e-4,i.renderTransform(1,i),t?t.push(i):t=[i]),e=e.parentNode;return t},Xu=[],Gu=[],kl=function(){return Vr.pageYOffset||Xi.scrollTop||xl.scrollTop||wa.scrollTop||0},Sl=function(){return Vr.pageXOffset||Xi.scrollLeft||xl.scrollLeft||wa.scrollLeft||0},Pl=function(e){return e.ownerSVGElement||((e.tagName+"").toLowerCase()==="svg"?e:null)},x_=function s(e){if(Vr.getComputedStyle(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return s(e)},El=function s(e,t){if(e.parentNode&&(Xi||Tl(e))){var i=Pl(e),r=i?i.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",n=i?t?"rect":"g":"div",a=t!==2?0:100,o=t===3?100:0,l="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",h=Xi.createElementNS?Xi.createElementNS(r.replace(/^https/,"http"),n):Xi.createElement(n);return t&&(i?(Ta||(Ta=s(e)),h.setAttribute("width",.01),h.setAttribute("height",.01),h.setAttribute("transform","translate("+a+","+o+")"),Ta.appendChild(h)):(dn||(dn=s(e),dn.style.cssText=l),h.style.cssText=l+"width:0.1px;height:0.1px;top:"+o+"px;left:"+a+"px",dn.appendChild(h))),h}throw"Need document and parent."},w_=function(e){for(var t=new Ur,i=0;i<e.numberOfItems;i++)t.multiply(e.getItem(i).matrix);return t},Ku=function(e){var t=e.getCTM(),i;return t||(i=e.style[di],e.style[di]="none",e.appendChild(pn),t=pn.getCTM(),e.removeChild(pn),i?e.style[di]=i:e.style.removeProperty(di.replace(/([A-Z])/g,"-$1").toLowerCase())),t||ka.clone()},T_=function(e,t){var i=Pl(e),r=e===i,n=i?Xu:Gu,a=e.parentNode,o,l,h,c,u,d;if(e===Vr)return e;if(n.length||n.push(El(e,1),El(e,2),El(e,3)),o=i?Ta:dn,i)r?(h=Ku(e),c=-h.e/h.a,u=-h.f/h.d,l=ka):e.getBBox?(h=e.getBBox(),l=e.transform?e.transform.baseVal:{},l=l.numberOfItems?l.numberOfItems>1?w_(l):l.getItem(0).matrix:ka,c=l.a*h.x+l.c*h.y,u=l.b*h.x+l.d*h.y):(l=new Ur,c=u=0),t&&e.tagName.toLowerCase()==="g"&&(c=u=0),(r?i:a).appendChild(o),o.setAttribute("transform","matrix("+l.a+","+l.b+","+l.c+","+l.d+","+(l.e+c)+","+(l.f+u)+")");else{if(c=u=0,Yu)for(l=e.offsetParent,h=e;h&&(h=h.parentNode)&&h!==l&&h.parentNode;)(Vr.getComputedStyle(h)[di]+"").length>4&&(c=h.offsetLeft,u=h.offsetTop,h=0);if(d=Vr.getComputedStyle(e),d.position!=="absolute"&&d.position!=="fixed")for(l=e.offsetParent;a&&a!==l;)c+=a.scrollLeft||0,u+=a.scrollTop||0,a=a.parentNode;h=o.style,h.top=e.offsetTop-u+"px",h.left=e.offsetLeft-c+"px",h[di]=d[di],h[wl]=d[wl],h.position=d.position==="fixed"?"fixed":"absolute",e.parentNode.appendChild(o)}return o},Cl=function(e,t,i,r,n,a,o){return e.a=t,e.b=i,e.c=r,e.d=n,e.e=a,e.f=o,e},Ur=function(){function s(t,i,r,n,a,o){t===void 0&&(t=1),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=1),a===void 0&&(a=0),o===void 0&&(o=0),Cl(this,t,i,r,n,a,o)}var e=s.prototype;return e.inverse=function(){var i=this.a,r=this.b,n=this.c,a=this.d,o=this.e,l=this.f,h=i*a-r*n||1e-10;return Cl(this,a/h,-r/h,-n/h,i/h,(n*l-a*o)/h,-(i*l-r*o)/h)},e.multiply=function(i){var r=this.a,n=this.b,a=this.c,o=this.d,l=this.e,h=this.f,c=i.a,u=i.c,d=i.b,p=i.d,g=i.e,f=i.f;return Cl(this,c*r+d*a,c*n+d*o,u*r+p*a,u*n+p*o,l+g*r+f*a,h+g*n+f*o)},e.clone=function(){return new s(this.a,this.b,this.c,this.d,this.e,this.f)},e.equals=function(i){var r=this.a,n=this.b,a=this.c,o=this.d,l=this.e,h=this.f;return r===i.a&&n===i.b&&a===i.c&&o===i.d&&l===i.e&&h===i.f},e.apply=function(i,r){r===void 0&&(r={});var n=i.x,a=i.y,o=this.a,l=this.b,h=this.c,c=this.d,u=this.e,d=this.f;return r.x=n*o+a*h+u||0,r.y=n*l+a*c+d||0,r},s}();function Li(s,e,t,i){if(!s||!s.parentNode||(Xi||Tl(s)).documentElement===s)return new Ur;var r=v_(s),n=Pl(s),a=n?Xu:Gu,o=T_(s,t),l=a[0].getBoundingClientRect(),h=a[1].getBoundingClientRect(),c=a[2].getBoundingClientRect(),u=o.parentNode,d=!i&&x_(s),p=new Ur((h.left-l.left)/100,(h.top-l.top)/100,(c.left-l.left)/100,(c.top-l.top)/100,l.left+(d?0:Sl()),l.top+(d?0:kl()));if(u.removeChild(o),r)for(l=r.length;l--;)h=r[l],h.scaleX=h.scaleY=0,h.renderTransform(1,h);return e?p.inverse():p}/*!
 * Flip 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var k_=1,gs,_t,Se,fn,pr,Gi,Al,Qu=function(e,t){return e.actions.forEach(function(i){return i.vars[t]&&i.vars[t](i)})},Ml={},Zu=180/Math.PI,S_=Math.PI/180,Sa={},Ju={},Pa={},Rl=function(e){return typeof e=="string"?e.split(" ").join("").split(","):e},P_=Rl("onStart,onUpdate,onComplete,onReverseComplete,onInterrupt"),Ea=Rl("transform,transformOrigin,width,height,position,top,left,opacity,zIndex,maxWidth,maxHeight,minWidth,minHeight"),gn=function(e){return gs(e)[0]||console.warn("Element not found:",e)},ms=function(e){return Math.round(e*1e4)/1e4||0},Ol=function(e,t,i){return e.forEach(function(r){return r.classList[i](t)})},ed={zIndex:1,kill:1,simple:1,spin:1,clearProps:1,targets:1,toggleClass:1,onComplete:1,onUpdate:1,onInterrupt:1,onStart:1,delay:1,repeat:1,repeatDelay:1,yoyo:1,scale:1,fade:1,absolute:1,props:1,onEnter:1,onLeave:1,custom:1,paused:1,nested:1,prune:1,absoluteOnLeave:1},td={zIndex:1,simple:1,clearProps:1,scale:1,absolute:1,fitChild:1,getVars:1,props:1},id=function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()},_s=function(e,t){var i={},r;for(r in e)t[r]||(i[r]=e[r]);return i},Ll={},rd=function(e){var t=Ll[e]=Rl(e);return Pa[e]=t.concat(Ea),t},E_=function(e){var t=e._gsap||_t.core.getCache(e);return t.gmCache===_t.ticker.frame?t.gMatrix:(t.gmCache=_t.ticker.frame,t.gMatrix=Li(e,!0,!1,!0))},C_=function s(e,t,i){i===void 0&&(i=0);for(var r=e.parentNode,n=1e3*Math.pow(10,i)*(t?-1:1),a=t?-n*900:0;e;)a+=n,e=e.previousSibling;return r?a+s(r,t,i+1):a},Ca=function(e,t,i){return e.forEach(function(r){return r.d=C_(i?r.element:r.t,t)}),e.sort(function(r,n){return r.d-n.d}),e},mn=function(e,t){for(var i=e.element.style,r=e.css=e.css||[],n=t.length,a,o;n--;)a=t[n],o=i[a]||i.getPropertyValue(a),r.push(o?a:Ju[a]||(Ju[a]=id(a)),o);return i},Aa=function(e){var t=e.css,i=e.element.style,r=0;for(e.cache.uncache=1;r<t.length;r+=2)t[r+1]?i[t[r]]=t[r+1]:i.removeProperty(t[r]);!t[t.indexOf("transform")+1]&&i.translate&&(i.removeProperty("translate"),i.removeProperty("scale"),i.removeProperty("rotate"))},sd=function(e,t){e.forEach(function(i){return i.a.cache.uncache=1}),t||e.finalStates.forEach(Aa)},Dl="paddingTop,paddingRight,paddingBottom,paddingLeft,gridArea,transition".split(","),zl=function(e,t,i){var r=e.element,n=e.width,a=e.height,o=e.uncache,l=e.getProp,h=r.style,c=4,u,d,p;if(typeof t!="object"&&(t=e),Se&&i!==1)return Se._abs.push({t:r,b:e,a:e,sd:0}),Se._final.push(function(){return(e.cache.uncache=1)&&Aa(e)}),r;for(d=l("display")==="none",(!e.isVisible||d)&&(d&&(mn(e,["display"]).display=t.display),e.matrix=t.matrix,e.width=n=e.width||t.width,e.height=a=e.height||t.height),mn(e,Dl),p=window.getComputedStyle(r);c--;)h[Dl[c]]=p[Dl[c]];if(h.gridArea="1 / 1 / 1 / 1",h.transition="none",h.position="absolute",h.width=n+"px",h.height=a+"px",h.top||(h.top="0px"),h.left||(h.left="0px"),o)u=new Br(r);else if(u=_s(e,Sa),u.position="absolute",e.simple){var g=r.getBoundingClientRect();u.matrix=new Ur(1,0,0,1,g.left+Sl(),g.top+kl())}else u.matrix=Li(r,!1,!1,!0);return u=ys(u,e,!0),e.x=Gi(u.x,.01),e.y=Gi(u.y,.01),r},nd=function(e,t){return t!==!0&&(t=gs(t),e=e.filter(function(i){if(t.indexOf((i.sd<0?i.b:i.a).element)!==-1)return!0;i.t._gsap.renderTransform(1),i.b.isVisible&&(i.t.style.width=i.b.width+"px",i.t.style.height=i.b.height+"px")})),e},ad=function(e){return Ca(e,!0).forEach(function(t){return(t.a.isVisible||t.b.isVisible)&&zl(t.sd<0?t.b:t.a,t.b,1)})},A_=function(e,t){return t&&e.idLookup[Il(t).id]||e.elementStates[0]},Il=function(e,t,i,r){return e instanceof Br?e:e instanceof pi?A_(e,r):new Br(typeof e=="string"?gn(e)||console.warn(e+" not found"):e,t,i)},M_=function(e,t){for(var i=_t.getProperty(e.element,null,"native"),r=e.props={},n=t.length;n--;)r[t[n]]=(i(t[n])+"").trim();return r.zIndex&&(r.zIndex=parseFloat(r.zIndex)||0),e},od=function(e,t){var i=e.style||e,r;for(r in t)i[r]=t[r]},R_=function(e){var t=e.getAttribute("data-flip-id");return t||e.setAttribute("data-flip-id",t="auto-"+k_++),t},ld=function(e){return e.map(function(t){return t.element})},hd=function(e,t,i){return e&&t.length&&i.add(e(ld(t),i,new pi(t,0,!0)),0)},ys=function(e,t,i,r,n,a){var o=e.element,l=e.cache,h=e.parent,c=e.x,u=e.y,d=t.width,p=t.height,g=t.scaleX,f=t.scaleY,y=t.rotation,b=t.bounds,m=a&&Al&&Al(o,"transform"),v=e,x=t.matrix,w=x.e,T=x.f,k=e.bounds.width!==b.width||e.bounds.height!==b.height||e.scaleX!==g||e.scaleY!==f||e.rotation!==y,A=!k&&e.simple&&t.simple&&!n,E,P,R,M,N,z,O;return A||!h?(g=f=1,y=E=0):(N=E_(h),z=N.clone().multiply(t.ctm?t.matrix.clone().multiply(t.ctm):t.matrix),y=ms(Math.atan2(z.b,z.a)*Zu),E=ms(Math.atan2(z.c,z.d)*Zu+y)%360,g=Math.sqrt(Math.pow(z.a,2)+Math.pow(z.b,2)),f=Math.sqrt(Math.pow(z.c,2)+Math.pow(z.d,2))*Math.cos(E*S_),n&&(n=gs(n)[0],M=_t.getProperty(n),O=n.getBBox&&typeof n.getBBox=="function"&&n.getBBox(),v={scaleX:M("scaleX"),scaleY:M("scaleY"),width:O?O.width:Math.ceil(parseFloat(M("width","px"))),height:O?O.height:parseFloat(M("height","px"))}),l.rotation=y+"deg",l.skewX=E+"deg"),i?(g*=d===v.width||!v.width?1:d/v.width,f*=p===v.height||!v.height?1:p/v.height,l.scaleX=g,l.scaleY=f):(d=Gi(d*g/v.scaleX,0),p=Gi(p*f/v.scaleY,0),o.style.width=d+"px",o.style.height=p+"px"),r&&od(o,t.props),A||!h?(c+=w-e.matrix.e,u+=T-e.matrix.f):k||h!==t.parent?(l.renderTransform(1,l),z=Li(n||o,!1,!1,!0),P=N.apply({x:z.e,y:z.f}),R=N.apply({x:w,y:T}),c+=R.x-P.x,u+=R.y-P.y):(N.e=N.f=0,R=N.apply({x:w-e.matrix.e,y:T-e.matrix.f}),c+=R.x,u+=R.y),c=Gi(c,.02),u=Gi(u,.02),a&&!(a instanceof Br)?m&&m.revert():(l.x=c+"px",l.y=u+"px",l.renderTransform(1,l)),a&&(a.x=c,a.y=u,a.rotation=y,a.skewX=E,i?(a.scaleX=g,a.scaleY=f):(a.width=d,a.height=p)),a||l},Fl=function(e,t){return e instanceof pi?e:new pi(e,t)},cd=function(e,t,i){var r=e.idLookup[i],n=e.alt[i];return n.isVisible&&(!(t.getElementState(n.element)||n).isVisible||!r.isVisible)?n:r},Nl=[],Vl="width,height,overflowX,overflowY".split(","),Ma,ud=function(e){if(e!==Ma){var t=pr.style,i=pr.clientWidth===window.outerWidth,r=pr.clientHeight===window.outerHeight,n=4;if(e&&(i||r)){for(;n--;)Nl[n]=t[Vl[n]];i&&(t.width=pr.clientWidth+"px",t.overflowY="hidden"),r&&(t.height=pr.clientHeight+"px",t.overflowX="hidden"),Ma=e}else if(Ma){for(;n--;)Nl[n]?t[Vl[n]]=Nl[n]:t.removeProperty(id(Vl[n]));Ma=e}}},Ul=function(e,t,i,r){e instanceof pi&&t instanceof pi||console.warn("Not a valid state object."),i=i||{};var n=i,a=n.clearProps,o=n.onEnter,l=n.onLeave,h=n.absolute,c=n.absoluteOnLeave,u=n.custom,d=n.delay,p=n.paused,g=n.repeat,f=n.repeatDelay,y=n.yoyo,b=n.toggleClass,m=n.nested,v=n.zIndex,x=n.scale,w=n.fade,T=n.stagger,k=n.spin,A=n.prune,E=("props"in i?i:e).props,P=_s(i,ed),R=_t.timeline({delay:d,paused:p,repeat:g,repeatDelay:f,yoyo:y,data:"isFlip"}),M=P,N=[],z=[],O=[],L=[],U=k===!0?1:k||0,G=typeof k=="function"?k:function(){return U},ue=e.interrupted||t.interrupted,S=R[r!==1?"to":"from"],Q,ge,Ae,le,Z,te,be,xe,Ne,me,Ee,Lt,W,ae;for(ge in t.idLookup)Ee=t.alt[ge]?cd(t,e,ge):t.idLookup[ge],Z=Ee.element,me=e.idLookup[ge],e.alt[ge]&&Z===me.element&&(e.alt[ge].isVisible||!Ee.isVisible)&&(me=e.alt[ge]),me?(te={t:Z,b:me,a:Ee,sd:me.element===Z?0:Ee.isVisible?1:-1},O.push(te),te.sd&&(te.sd<0&&(te.b=Ee,te.a=me),ue&&mn(te.b,E?Pa[E]:Ea),w&&O.push(te.swap={t:me.element,b:te.b,a:te.a,sd:-te.sd,swap:te})),Z._flip=me.element._flip=Se?Se.timeline:R):Ee.isVisible&&(O.push({t:Z,b:_s(Ee,{isVisible:1}),a:Ee,sd:0,entering:1}),Z._flip=Se?Se.timeline:R);if(E&&(Ll[E]||rd(E)).forEach(function(C){return P[C]=function(qe){return O[qe].a.props[C]}}),O.finalStates=Ne=[],Lt=function(){for(Ca(O),ud(!0),le=0;le<O.length;le++)te=O[le],W=te.a,ae=te.b,A&&!W.isDifferent(ae)&&!te.entering?O.splice(le--,1):(Z=te.t,m&&!(te.sd<0)&&le&&(W.matrix=Li(Z,!1,!1,!0)),ae.isVisible&&W.isVisible?(te.sd<0?(be=new Br(Z,E,e.simple),ys(be,W,x,0,0,be),be.matrix=Li(Z,!1,!1,!0),be.css=te.b.css,te.a=W=be,w&&(Z.style.opacity=ue?ae.opacity:W.opacity),T&&L.push(Z)):te.sd>0&&w&&(Z.style.opacity=ue?W.opacity-ae.opacity:"0"),ys(W,ae,x,E)):ae.isVisible!==W.isVisible&&(ae.isVisible?W.isVisible||(ae.css=W.css,z.push(ae),O.splice(le--,1),h&&m&&ys(W,ae,x,E)):(W.isVisible&&N.push(W),O.splice(le--,1))),x||(Z.style.maxWidth=Math.max(W.width,ae.width)+"px",Z.style.maxHeight=Math.max(W.height,ae.height)+"px",Z.style.minWidth=Math.min(W.width,ae.width)+"px",Z.style.minHeight=Math.min(W.height,ae.height)+"px"),m&&b&&Z.classList.add(b)),Ne.push(W);var qe;if(b&&(qe=Ne.map(function(B){return B.element}),m&&qe.forEach(function(B){return B.classList.remove(b)})),ud(!1),x?(P.scaleX=function(B){return O[B].a.scaleX},P.scaleY=function(B){return O[B].a.scaleY}):(P.width=function(B){return O[B].a.width+"px"},P.height=function(B){return O[B].a.height+"px"},P.autoRound=i.autoRound||!1),P.x=function(B){return O[B].a.x+"px"},P.y=function(B){return O[B].a.y+"px"},P.rotation=function(B){return O[B].a.rotation+(k?G(B,xe[B],xe)*360:0)},P.skewX=function(B){return O[B].a.skewX},xe=O.map(function(B){return B.t}),(v||v===0)&&(P.modifiers={zIndex:function(){return v}},P.zIndex=v,P.immediateRender=i.immediateRender!==!1),w&&(P.opacity=function(B){return O[B].sd<0?0:O[B].sd>0?O[B].a.opacity:"+=0"}),L.length){T=_t.utils.distribute(T);var mi=xe.slice(L.length);P.stagger=function(B,_i){return T(~L.indexOf(_i)?xe.indexOf(O[B].swap.t):B,_i,mi)}}if(P_.forEach(function(B){return i[B]&&R.eventCallback(B,i[B],i[B+"Params"])}),u&&xe.length){M=_s(P,ed),"scale"in u&&(u.scaleX=u.scaleY=u.scale,delete u.scale);for(ge in u)Q=_s(u[ge],td),Q[ge]=P[ge],!("duration"in Q)&&"duration"in P&&(Q.duration=P.duration),Q.stagger=P.stagger,S.call(R,xe,Q,0),delete M[ge]}(xe.length||z.length||N.length)&&(b&&R.add(function(){return Ol(qe,b,R._zTime<0?"remove":"add")},0)&&!p&&Ol(qe,b,"add"),xe.length&&S.call(R,xe,M,0)),hd(o,N,R),hd(l,z,R);var ai=Se&&Se.timeline;ai&&(ai.add(R,0),Se._final.push(function(){return sd(O,!a)})),Ae=R.duration(),R.call(function(){var B=R.time()>=Ae;B&&!ai&&sd(O,!a),b&&Ol(qe,b,B?"remove":"add")})},c&&(h=O.filter(function(C){return!C.sd&&!C.a.isVisible&&C.b.isVisible}).map(function(C){return C.a.element})),Se){var ht;h&&(ht=Se._abs).push.apply(ht,nd(O,h)),Se._run.push(Lt)}else h&&ad(nd(O,h)),Lt();var ct=Se?Se.timeline:R;return ct.revert=function(){return Bl(ct,1,1)},ct},O_=function s(e){e.vars.onInterrupt&&e.vars.onInterrupt.apply(e,e.vars.onInterruptParams||[]),e.getChildren(!0,!1,!0).forEach(s)},Bl=function(e,t,i){if(e&&e.progress()<1&&(!e.paused()||i))return t&&(O_(e),t<2&&e.progress(1),e.kill()),!0},Ra=function(e){for(var t=e.idLookup={},i=e.alt={},r=e.elementStates,n=r.length,a;n--;)a=r[n],t[a.id]?i[a.id]=a:t[a.id]=a},pi=function(){function s(t,i,r){if(this.props=i&&i.props,this.simple=!!(i&&i.simple),r)this.targets=ld(t),this.elementStates=t,Ra(this);else{this.targets=gs(t);var n=i&&(i.kill===!1||i.batch&&!i.kill);Se&&!n&&Se._kill.push(this),this.update(n||!!Se)}}var e=s.prototype;return e.update=function(i){var r=this;return this.elementStates=this.targets.map(function(n){return new Br(n,r.props,r.simple)}),Ra(this),this.interrupt(i),this.recordInlineStyles(),this},e.clear=function(){return this.targets.length=this.elementStates.length=0,Ra(this),this},e.fit=function(i,r,n){for(var a=Ca(this.elementStates.slice(0),!1,!0),o=(i||this).idLookup,l=0,h,c;l<a.length;l++)h=a[l],n&&(h.matrix=Li(h.element,!1,!1,!0)),c=o[h.id],c&&ys(h,c,r,!0,0,h),h.matrix=Li(h.element,!1,!1,!0);return this},e.getProperty=function(i,r){var n=this.getElementState(i)||Sa;return(r in n?n:n.props||Sa)[r]},e.add=function(i){for(var r=i.targets.length,n=this.idLookup,a=this.alt,o,l,h;r--;)l=i.elementStates[r],h=n[l.id],h&&(l.element===h.element||a[l.id]&&a[l.id].element===l.element)?(o=this.elementStates.indexOf(l.element===h.element?h:a[l.id]),this.targets.splice(o,1,i.targets[r]),this.elementStates.splice(o,1,l)):(this.targets.push(i.targets[r]),this.elementStates.push(l));return i.interrupted&&(this.interrupted=!0),i.simple||(this.simple=!1),Ra(this),this},e.compare=function(i){var r=i.idLookup,n=this.idLookup,a=[],o=[],l=[],h=[],c=[],u=i.alt,d=this.alt,p=function(A,E,P){return(A.isVisible!==E.isVisible?A.isVisible?l:h:A.isVisible?o:a).push(P)&&c.push(P)},g=function(A,E,P){return c.indexOf(P)<0&&p(A,E,P)},f,y,b,m,v,x,w,T;for(b in r)v=u[b],x=d[b],f=v?cd(i,this,b):r[b],m=f.element,y=n[b],x?(T=y.isVisible||!x.isVisible&&m===y.element?y:x,w=v&&!f.isVisible&&!v.isVisible&&T.element===v.element?v:f,w.isVisible&&T.isVisible&&w.element!==T.element?((w.isDifferent(T)?o:a).push(w.element,T.element),c.push(w.element,T.element)):p(w,T,w.element),v&&w.element===v.element&&(v=r[b]),g(w.element!==y.element&&v?v:w,y,y.element),g(v&&v.element===x.element?v:w,x,x.element),v&&g(v,x.element===v.element?x:y,v.element)):(y?y.isDifferent(f)?p(f,y,m):a.push(m):l.push(m),v&&g(v,y,v.element));for(b in n)r[b]||(h.push(n[b].element),d[b]&&h.push(d[b].element));return{changed:o,unchanged:a,enter:l,leave:h}},e.recordInlineStyles=function(){for(var i=Pa[this.props]||Ea,r=this.elementStates.length;r--;)mn(this.elementStates[r],i)},e.interrupt=function(i){var r=this,n=[];this.targets.forEach(function(a){var o=a._flip,l=Bl(o,i?0:1);i&&l&&n.indexOf(o)<0&&o.add(function(){return r.updateVisibility()}),l&&n.push(o)}),!i&&n.length&&this.updateVisibility(),this.interrupted||(this.interrupted=!!n.length)},e.updateVisibility=function(){this.elementStates.forEach(function(i){var r=i.element.getBoundingClientRect();i.isVisible=!!(r.width||r.height||r.top||r.left),i.uncache=1})},e.getElementState=function(i){return this.elementStates[this.targets.indexOf(gn(i))]},e.makeAbsolute=function(){return Ca(this.elementStates.slice(0),!0,!0).map(zl)},s}(),Br=function(){function s(t,i,r){this.element=t,this.update(i,r)}var e=s.prototype;return e.isDifferent=function(i){var r=this.bounds,n=i.bounds;return r.top!==n.top||r.left!==n.left||r.width!==n.width||r.height!==n.height||!this.matrix.equals(i.matrix)||this.opacity!==i.opacity||this.props&&i.props&&JSON.stringify(this.props)!==JSON.stringify(i.props)},e.update=function(i,r){var n=this,a=n.element,o=_t.getProperty(a),l=_t.core.getCache(a),h=a.getBoundingClientRect(),c=a.getBBox&&typeof a.getBBox=="function"&&a.nodeName.toLowerCase()!=="svg"&&a.getBBox(),u=r?new Ur(1,0,0,1,h.left+Sl(),h.top+kl()):Li(a,!1,!1,!0);n.getProp=o,n.element=a,n.id=R_(a),n.matrix=u,n.cache=l,n.bounds=h,n.isVisible=!!(h.width||h.height||h.left||h.top),n.display=o("display"),n.position=o("position"),n.parent=a.parentNode,n.x=o("x"),n.y=o("y"),n.scaleX=l.scaleX,n.scaleY=l.scaleY,n.rotation=o("rotation"),n.skewX=o("skewX"),n.opacity=o("opacity"),n.width=c?c.width:Gi(o("width","px"),.04),n.height=c?c.height:Gi(o("height","px"),.04),i&&M_(n,Ll[i]||rd(i)),n.ctm=a.getCTM&&a.nodeName.toLowerCase()==="svg"&&Ku(a).inverse(),n.simple=r||ms(u.a)===1&&!ms(u.b)&&!ms(u.c)&&ms(u.d)===1,n.uncache=0},s}(),L_=function(){function s(t,i){this.vars=t,this.batch=i,this.states=[],this.timeline=i.timeline}var e=s.prototype;return e.getStateById=function(i){for(var r=this.states.length;r--;)if(this.states[r].idLookup[i])return this.states[r]},e.kill=function(){this.batch.remove(this)},s}(),D_=function(){function s(t){this.id=t,this.actions=[],this._kill=[],this._final=[],this._abs=[],this._run=[],this.data={},this.state=new pi,this.timeline=_t.timeline()}var e=s.prototype;return e.add=function(i){var r=this.actions.filter(function(n){return n.vars===i});return r.length?r[0]:(r=new L_(typeof i=="function"?{animate:i}:i,this),this.actions.push(r),r)},e.remove=function(i){var r=this.actions.indexOf(i);return r>=0&&this.actions.splice(r,1),this},e.getState=function(i){var r=this,n=Se,a=fn;return Se=this,this.state.clear(),this._kill.length=0,this.actions.forEach(function(o){o.vars.getState&&(o.states.length=0,fn=o,o.state=o.vars.getState(o)),i&&o.states.forEach(function(l){return r.state.add(l)})}),fn=a,Se=n,this.killConflicts(),this},e.animate=function(){var i=this,r=Se,n=this.timeline,a=this.actions.length,o,l;for(Se=this,n.clear(),this._abs.length=this._final.length=this._run.length=0,this.actions.forEach(function(h){h.vars.animate&&h.vars.animate(h);var c=h.vars.onEnter,u=h.vars.onLeave,d=h.targets,p,g;d&&d.length&&(c||u)&&(p=new pi,h.states.forEach(function(f){return p.add(f)}),g=p.compare(ii.getState(d)),g.enter.length&&c&&c(g.enter),g.leave.length&&u&&u(g.leave))}),ad(this._abs),this._run.forEach(function(h){return h()}),l=n.duration(),o=this._final.slice(0),n.add(function(){l<=n.time()&&(o.forEach(function(h){return h()}),Qu(i,"onComplete"))}),Se=r;a--;)this.actions[a].vars.once&&this.actions[a].kill();return Qu(this,"onStart"),n.restart(),this},e.loadState=function(i){i||(i=function(){return 0});var r=[];return this.actions.forEach(function(n){if(n.vars.loadState){var a,o=function l(h){h&&(n.targets=h),a=r.indexOf(l),~a&&(r.splice(a,1),r.length||i())};r.push(o),n.vars.loadState(o)}}),r.length||i(),this},e.setState=function(){return this.actions.forEach(function(i){return i.targets=i.vars.setState&&i.vars.setState(i)}),this},e.killConflicts=function(i){return this.state.interrupt(i),this._kill.forEach(function(r){return r.interrupt(i)}),this},e.run=function(i,r){var n=this;return this!==Se&&(i||this.getState(r),this.loadState(function(){n._killed||(n.setState(),n.animate())})),this},e.clear=function(i){this.state.clear(),i||(this.actions.length=0)},e.getStateById=function(i){for(var r=this.actions.length,n;r--;)if(n=this.actions[r].getStateById(i),n)return n;return this.state.idLookup[i]&&this.state},e.kill=function(){this._killed=1,this.clear(),delete Ml[this.id]},s}(),ii=function(){function s(){}return s.getState=function(t,i){var r=Fl(t,i);return fn&&fn.states.push(r),i&&i.batch&&s.batch(i.batch).state.add(r),r},s.from=function(t,i){return i=i||{},"clearProps"in i||(i.clearProps=!0),Ul(t,Fl(i.targets||t.targets,{props:i.props||t.props,simple:i.simple,kill:!!i.kill}),i,-1)},s.to=function(t,i){return Ul(t,Fl(i.targets||t.targets,{props:i.props||t.props,simple:i.simple,kill:!!i.kill}),i,1)},s.fromTo=function(t,i,r){return Ul(t,i,r)},s.fit=function(t,i,r){var n=r?_s(r,td):{},a=r||n,o=a.absolute,l=a.scale,h=a.getVars,c=a.props,u=a.runBackwards,d=a.onComplete,p=a.simple,g=r&&r.fitChild&&gn(r.fitChild),f=Il(i,c,p,t),y=Il(t,0,p,f),b=c?Pa[c]:Ea,m=_t.context();return c&&od(n,f.props),mn(y,b),u&&("immediateRender"in n||(n.immediateRender=!0),n.onComplete=function(){Aa(y),d&&d.apply(this,arguments)}),o&&zl(y,f),n=ys(y,f,l||g,c,g,n.duration||h?n:0),m&&!h&&m.add(function(){return function(){return Aa(y)}}),h?n:n.duration?_t.to(y.element,n):null},s.makeAbsolute=function(t,i){return(t instanceof pi?t:new pi(t,i)).makeAbsolute()},s.batch=function(t){return t||(t="default"),Ml[t]||(Ml[t]=new D_(t))},s.killFlipsOf=function(t,i){(t instanceof pi?t.targets:gs(t)).forEach(function(r){return r&&Bl(r._flip,i!==!1?1:2)})},s.isFlipping=function(t){var i=s.getByTarget(t);return!!i&&i.isActive()},s.getByTarget=function(t){return(gn(t)||Sa)._flip},s.getElementState=function(t,i){return new Br(gn(t),i)},s.convertCoordinates=function(t,i,r){var n=Li(i,!0,!0).multiply(Li(t));return r?n.apply(r):n},s.register=function(t){if(pr=typeof document<"u"&&document.body,pr){_t=t,Tl(pr),gs=_t.utils.toArray,Al=_t.core.getStyleSaver;var i=_t.utils.snap(.1);Gi=function(n,a){return i(parseFloat(n)+a)}}},s}();ii.version="3.12.5",typeof window<"u"&&window.gsap&&window.gsap.registerPlugin(ii),ie.registerPlugin(ii);function z_(s="grid"){let e=s;const t=()=>{document.querySelectorAll("[data-view]").forEach(r=>{const n=r.getAttribute("data-view")===e;r.querySelector(".work-view_link-circle-wrap").classList.toggle("is-active",n)})},i=r=>{const n=document.querySelectorAll(".work-cms-list, .work-cms-item, .work-cms-num, .work-cms_thumb-main, .work-cms_content, .work-cms-year, .work-cms-line.top, .work-cms-line.btm, .section.cc-work-hero, .work-view_link, .navigation-main, .work-cms_content-btm-list, .work-cms_content-btm-grid, .section.cc-work-hero-top, .filter-menu-parent, .filter-list-parent, .work-cms_icon"),a=document.querySelector(".section.cc-work-hero");a.style.minHeight=a.offsetHeight+"px";const o=ii.getState(n,{props:"backgroundColor, color, width, height, margin, padding, opacity"});n.forEach(l=>{l.classList.toggle("list-view",r==="list")}),ii.from(o,{duration:1.4,ease:"power3.inOut",nested:!0,absolute:!0,props:"backgroundColor, color, width, height, margin, padding, opacity",onComplete:()=>{a.style.minHeight="auto"}}),e=r,t()};document.addEventListener("DOMContentLoaded",()=>{i(s==="list"?"list":"grid"),t()}),document.querySelectorAll("[data-view]").forEach(r=>{r.addEventListener("click",function(){const n=this.getAttribute("data-view");n!==e&&i(n)})})}ie.registerPlugin(ii);function I_(){const s=document.querySelectorAll(".filter-list-item"),e=document.querySelector(".filter-list-item-arrow"),t=document.querySelector(".filter-menu-parent"),i=document.querySelector(".filter-list-parent"),r=document.querySelector(".filter-menu-icon-v"),n=document.querySelector(".filter-menu");let a;const o=h=>{const c=ii.getState(e,{props:"color, backgroundColor, opacity"});h.appendChild(e),ii.from(c,{duration:.4,ease:"power1.inOut",props:"color, backgroundColor, opacity"})};s.forEach(h=>{h.addEventListener("click",function(){s.forEach(c=>{c.classList.remove("is--active")}),h.classList.add("is--active"),o(h)}),h.addEventListener("mouseenter",()=>{o(h)}),h.addEventListener("mouseleave",()=>{const c=document.querySelector(".filter-list-item.is--active");c&&o(c)})});const l=(h=!1)=>{const c=h?!1:!t.classList.contains("is--open");t.classList.toggle("is--open",c),i.classList.toggle("is--open",c),ie.to(r,{duration:.4,rotate:c?90:0,ease:"power3.inOut"}),c?(ie.set(s,{display:"flex",opacity:0}),ie.to(s,{opacity:1,stagger:.1,duration:.4,ease:"power1.out",clearProps:"opacity"})):ie.to(s,{opacity:0,stagger:.05,duration:.4,ease:"power1.in",onComplete:()=>ie.set(s,{display:"none"})})};t.addEventListener("click",()=>l()),n.addEventListener("mouseleave",()=>{clearTimeout(a),a=setTimeout(()=>{t.classList.contains("is--open")&&l(!0)},200)})}ie.registerPlugin(ii,ScrambleTextPlugin);const F_=()=>{const s=document.querySelectorAll(".filter-list-item"),e=ie.utils.toArray(".work-cms-item"),t=document.querySelector(".section.cc-work-hero"),i=document.querySelector('[data-element="category-name"]'),r=document.querySelector('[data-element="work-list-number"]'),n=a=>{ie.to(r,{duration:1,scrambleText:{text:String(a).padStart(2,"0"),chars:"{01234567890!@#$%^&*()}",speed:.5}})};n(e.length),s.forEach(a=>{a.addEventListener("click",function(o){o.preventDefault();const l=this.getAttribute("data-filter").trim().toLowerCase(),h=ie.getProperty(t,"height"),c=ii.getState(e);let u=0;e.forEach(g=>{const f=g.getAttribute("data-category").trim().toLowerCase(),y=l==="all works"||f===l;g.style.display=y?"flex":"none",y&&u++}),n(u),ie.to(i,{duration:1,scrambleText:{text:l==="all works"?"All Works":l,chars:"upperCase",speed:.5,delimiter:""}});const d=ie.getProperty(t,"height"),p=ii.from(c,{duration:.8,ease:"power2.inOut",stagger:.08,absolute:!0,scale:!0,onEnter:g=>ie.fromTo(g,{opacity:0,scale:0},{opacity:1,scale:1,duration:1}),onLeave:g=>ie.to(g,{opacity:0,scale:0,duration:1})});p.fromTo(t,{height:h},{height:d,clearProps:"height",duration:p.duration()},0)})})};function dd(s,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(s,i.key,i)}}function N_(s,e,t){return e&&dd(s.prototype,e),t&&dd(s,t),s}/*!
 * Observer 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var lt,Oa,Ht,fr,gr,bs,pd,$r,_n,fd,Ki,fi,gd,md=function(){return lt||typeof window<"u"&&(lt=window.gsap)&&lt.registerPlugin&&lt},_d=1,vs=[],se=[],Di=[],yn=Date.now,$l=function(e,t){return t},V_=function(){var e=_n.core,t=e.bridge||{},i=e._scrollers,r=e._proxies;i.push.apply(i,se),r.push.apply(r,Di),se=i,Di=r,$l=function(a,o){return t[a](o)}},mr=function(e,t){return~Di.indexOf(e)&&Di[Di.indexOf(e)+1][t]},bn=function(e){return!!~fd.indexOf(e)},Pt=function(e,t,i,r,n){return e.addEventListener(t,i,{passive:r!==!1,capture:!!n})},Et=function(e,t,i,r){return e.removeEventListener(t,i,!!r)},La="scrollLeft",Da="scrollTop",Wl=function(){return Ki&&Ki.isPressed||se.cache++},za=function(e,t){var i=function r(n){if(n||n===0){_d&&(Ht.history.scrollRestoration="manual");var a=Ki&&Ki.isPressed;n=r.v=Math.round(n)||(Ki&&Ki.iOS?1:0),e(n),r.cacheID=se.cache,a&&$l("ss",n)}else(t||se.cache!==r.cacheID||$l("ref"))&&(r.cacheID=se.cache,r.v=e());return r.v+r.offset};return i.offset=0,e&&i},Ct={s:La,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:za(function(s){return arguments.length?Ht.scrollTo(s,Qe.sc()):Ht.pageXOffset||fr[La]||gr[La]||bs[La]||0})},Qe={s:Da,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Ct,sc:za(function(s){return arguments.length?Ht.scrollTo(Ct.sc(),s):Ht.pageYOffset||fr[Da]||gr[Da]||bs[Da]||0})},Ut=function(e,t){return(t&&t._ctx&&t._ctx.selector||lt.utils.toArray)(e)[0]||(typeof e=="string"&&lt.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},_r=function(e,t){var i=t.s,r=t.sc;bn(e)&&(e=fr.scrollingElement||gr);var n=se.indexOf(e),a=r===Qe.sc?1:2;!~n&&(n=se.push(e)-1),se[n+a]||Pt(e,"scroll",Wl);var o=se[n+a],l=o||(se[n+a]=za(mr(e,i),!0)||(bn(e)?r:za(function(h){return arguments.length?e[i]=h:e[i]})));return l.target=e,o||(l.smooth=lt.getProperty(e,"scrollBehavior")==="smooth"),l},ql=function(e,t,i){var r=e,n=e,a=yn(),o=a,l=t||50,h=Math.max(500,l*3),c=function(g,f){var y=yn();f||y-a>l?(n=r,r=g,o=a,a=y):i?r+=g:r=n+(g-n)/(y-o)*(a-o)},u=function(){n=r=i?0:r,o=a=0},d=function(g){var f=o,y=n,b=yn();return(g||g===0)&&g!==r&&c(g),a===o||b-o>h?0:(r+(i?y:-y))/((i?b:a)-f)*1e3};return{update:c,reset:u,getVelocity:d}},vn=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},yd=function(e){var t=Math.max.apply(Math,e),i=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(i)?t:i},bd=function(){_n=lt.core.globals().ScrollTrigger,_n&&_n.core&&V_()},vd=function(e){return lt=e||md(),!Oa&&lt&&typeof document<"u"&&document.body&&(Ht=window,fr=document,gr=fr.documentElement,bs=fr.body,fd=[Ht,fr,gr,bs],lt.utils.clamp,gd=lt.core.context||function(){},$r="onpointerenter"in bs?"pointer":"mouse",pd=We.isTouch=Ht.matchMedia&&Ht.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Ht||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,fi=We.eventTypes=("ontouchstart"in gr?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in gr?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return _d=0},500),bd(),Oa=1),Oa};Ct.op=Qe,se.cache=0;var We=function(){function s(t){this.init(t)}var e=s.prototype;return e.init=function(i){Oa||vd(lt)||console.warn("Please gsap.registerPlugin(Observer)"),_n||bd();var r=i.tolerance,n=i.dragMinimum,a=i.type,o=i.target,l=i.lineHeight,h=i.debounce,c=i.preventDefault,u=i.onStop,d=i.onStopDelay,p=i.ignore,g=i.wheelSpeed,f=i.event,y=i.onDragStart,b=i.onDragEnd,m=i.onDrag,v=i.onPress,x=i.onRelease,w=i.onRight,T=i.onLeft,k=i.onUp,A=i.onDown,E=i.onChangeX,P=i.onChangeY,R=i.onChange,M=i.onToggleX,N=i.onToggleY,z=i.onHover,O=i.onHoverEnd,L=i.onMove,U=i.ignoreCheck,G=i.isNormalizer,ue=i.onGestureStart,S=i.onGestureEnd,Q=i.onWheel,ge=i.onEnable,Ae=i.onDisable,le=i.onClick,Z=i.scrollSpeed,te=i.capture,be=i.allowClicks,xe=i.lockAxis,Ne=i.onLockAxis;this.target=o=Ut(o)||gr,this.vars=i,p&&(p=lt.utils.toArray(p)),r=r||1e-9,n=n||0,g=g||1,Z=Z||1,a=a||"wheel,touch,pointer",h=h!==!1,l||(l=parseFloat(Ht.getComputedStyle(bs).lineHeight)||22);var me,Ee,Lt,W,ae,ht,ct,C=this,qe=0,mi=0,ai=i.passive||!c,B=_r(o,Ct),_i=_r(o,Qe),Qr=B(),Cs=_i(),at=~a.indexOf("touch")&&!~a.indexOf("pointer")&&fi[0]==="pointerdown",br=bn(o),je=o.ownerDocument||fr,yi=[0,0,0],oi=[0,0,0],Ji=0,In=function(){return Ji=yn()},Ge=function(H,_e){return(C.event=H)&&p&&~p.indexOf(H.target)||_e&&at&&H.pointerType!=="touch"||U&&U(H,_e)},io=function(){C._vx.reset(),C._vy.reset(),Ee.pause(),u&&u(C)},vr=function(){var H=C.deltaX=yd(yi),_e=C.deltaY=yd(oi),F=Math.abs(H)>=r,ee=Math.abs(_e)>=r;R&&(F||ee)&&R(C,H,_e,yi,oi),F&&(w&&C.deltaX>0&&w(C),T&&C.deltaX<0&&T(C),E&&E(C),M&&C.deltaX<0!=qe<0&&M(C),qe=C.deltaX,yi[0]=yi[1]=yi[2]=0),ee&&(A&&C.deltaY>0&&A(C),k&&C.deltaY<0&&k(C),P&&P(C),N&&C.deltaY<0!=mi<0&&N(C),mi=C.deltaY,oi[0]=oi[1]=oi[2]=0),(W||Lt)&&(L&&L(C),Lt&&(m(C),Lt=!1),W=!1),ht&&!(ht=!1)&&Ne&&Ne(C),ae&&(Q(C),ae=!1),me=0},As=function(H,_e,F){yi[F]+=H,oi[F]+=_e,C._vx.update(H),C._vy.update(_e),h?me||(me=requestAnimationFrame(vr)):vr()},Ms=function(H,_e){xe&&!ct&&(C.axis=ct=Math.abs(H)>Math.abs(_e)?"x":"y",ht=!0),ct!=="y"&&(yi[2]+=H,C._vx.update(H,!0)),ct!=="x"&&(oi[2]+=_e,C._vy.update(_e,!0)),h?me||(me=requestAnimationFrame(vr)):vr()},xr=function(H){if(!Ge(H,1)){H=vn(H,c);var _e=H.clientX,F=H.clientY,ee=_e-C.x,q=F-C.y,K=C.isDragging;C.x=_e,C.y=F,(K||Math.abs(C.startX-_e)>=n||Math.abs(C.startY-F)>=n)&&(m&&(Lt=!0),K||(C.isDragging=!0),Ms(ee,q),K||y&&y(C))}},Zr=C.onPress=function(J){Ge(J,1)||J&&J.button||(C.axis=ct=null,Ee.pause(),C.isPressed=!0,J=vn(J),qe=mi=0,C.startX=C.x=J.clientX,C.startY=C.y=J.clientY,C._vx.reset(),C._vy.reset(),Pt(G?o:je,fi[1],xr,ai,!0),C.deltaX=C.deltaY=0,v&&v(C))},oe=C.onRelease=function(J){if(!Ge(J,1)){Et(G?o:je,fi[1],xr,!0);var H=!isNaN(C.y-C.startY),_e=C.isDragging,F=_e&&(Math.abs(C.x-C.startX)>3||Math.abs(C.y-C.startY)>3),ee=vn(J);!F&&H&&(C._vx.reset(),C._vy.reset(),c&&be&&lt.delayedCall(.08,function(){if(yn()-Ji>300&&!J.defaultPrevented){if(J.target.click)J.target.click();else if(je.createEvent){var q=je.createEvent("MouseEvents");q.initMouseEvent("click",!0,!0,Ht,1,ee.screenX,ee.screenY,ee.clientX,ee.clientY,!1,!1,!1,!1,0,null),J.target.dispatchEvent(q)}}})),C.isDragging=C.isGesturing=C.isPressed=!1,u&&_e&&!G&&Ee.restart(!0),b&&_e&&b(C),x&&x(C,F)}},Jr=function(H){return H.touches&&H.touches.length>1&&(C.isGesturing=!0)&&ue(H,C.isDragging)},bi=function(){return(C.isGesturing=!1)||S(C)},vi=function(H){if(!Ge(H)){var _e=B(),F=_i();As((_e-Qr)*Z,(F-Cs)*Z,1),Qr=_e,Cs=F,u&&Ee.restart(!0)}},xi=function(H){if(!Ge(H)){H=vn(H,c),Q&&(ae=!0);var _e=(H.deltaMode===1?l:H.deltaMode===2?Ht.innerHeight:1)*g;As(H.deltaX*_e,H.deltaY*_e,0),u&&!G&&Ee.restart(!0)}},es=function(H){if(!Ge(H)){var _e=H.clientX,F=H.clientY,ee=_e-C.x,q=F-C.y;C.x=_e,C.y=F,W=!0,u&&Ee.restart(!0),(ee||q)&&Ms(ee,q)}},Rs=function(H){C.event=H,z(C)},er=function(H){C.event=H,O(C)},Fn=function(H){return Ge(H)||vn(H,c)&&le(C)};Ee=C._dc=lt.delayedCall(d||.25,io).pause(),C.deltaX=C.deltaY=0,C._vx=ql(0,50,!0),C._vy=ql(0,50,!0),C.scrollX=B,C.scrollY=_i,C.isDragging=C.isGesturing=C.isPressed=!1,gd(this),C.enable=function(J){return C.isEnabled||(Pt(br?je:o,"scroll",Wl),a.indexOf("scroll")>=0&&Pt(br?je:o,"scroll",vi,ai,te),a.indexOf("wheel")>=0&&Pt(o,"wheel",xi,ai,te),(a.indexOf("touch")>=0&&pd||a.indexOf("pointer")>=0)&&(Pt(o,fi[0],Zr,ai,te),Pt(je,fi[2],oe),Pt(je,fi[3],oe),be&&Pt(o,"click",In,!0,!0),le&&Pt(o,"click",Fn),ue&&Pt(je,"gesturestart",Jr),S&&Pt(je,"gestureend",bi),z&&Pt(o,$r+"enter",Rs),O&&Pt(o,$r+"leave",er),L&&Pt(o,$r+"move",es)),C.isEnabled=!0,J&&J.type&&Zr(J),ge&&ge(C)),C},C.disable=function(){C.isEnabled&&(vs.filter(function(J){return J!==C&&bn(J.target)}).length||Et(br?je:o,"scroll",Wl),C.isPressed&&(C._vx.reset(),C._vy.reset(),Et(G?o:je,fi[1],xr,!0)),Et(br?je:o,"scroll",vi,te),Et(o,"wheel",xi,te),Et(o,fi[0],Zr,te),Et(je,fi[2],oe),Et(je,fi[3],oe),Et(o,"click",In,!0),Et(o,"click",Fn),Et(je,"gesturestart",Jr),Et(je,"gestureend",bi),Et(o,$r+"enter",Rs),Et(o,$r+"leave",er),Et(o,$r+"move",es),C.isEnabled=C.isPressed=C.isDragging=!1,Ae&&Ae(C))},C.kill=C.revert=function(){C.disable();var J=vs.indexOf(C);J>=0&&vs.splice(J,1),Ki===C&&(Ki=0)},vs.push(C),G&&bn(o)&&(Ki=C),C.enable(f)},N_(s,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),s}();We.version="3.12.5",We.create=function(s){return new We(s)},We.register=vd,We.getAll=function(){return vs.slice()},We.getById=function(s){return vs.filter(function(e){return e.vars.id===s})[0]},md()&&lt.registerPlugin(We);/*!
 * ScrollTrigger 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var V,xs,ce,De,gi,Pe,xd,Ia,xn,wn,Tn,Fa,yt,Na,jl,At,wd,Td,ws,kd,Hl,Sd,Mt,Yl,Pd,Ed,yr,Xl,Gl,Ts,Kl,Va,Ql,Zl,Ua=1,bt=Date.now,Jl=bt(),ri=0,kn=0,Cd=function(e,t,i){var r=Yt(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return i["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},Ad=function(e,t){return t&&(!Yt(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},U_=function s(){return kn&&requestAnimationFrame(s)},Md=function(){return Na=1},Rd=function(){return Na=0},zi=function(e){return e},Sn=function(e){return Math.round(e*1e5)/1e5||0},Od=function(){return typeof window<"u"},Ld=function(){return V||Od()&&(V=window.gsap)&&V.registerPlugin&&V},Wr=function(e){return!!~xd.indexOf(e)},Dd=function(e){return(e==="Height"?Kl:ce["inner"+e])||gi["client"+e]||Pe["client"+e]},zd=function(e){return mr(e,"getBoundingClientRect")||(Wr(e)?function(){return Ja.width=ce.innerWidth,Ja.height=Kl,Ja}:function(){return Qi(e)})},B_=function(e,t,i){var r=i.d,n=i.d2,a=i.a;return(a=mr(e,"getBoundingClientRect"))?function(){return a()[r]}:function(){return(t?Dd(n):e["client"+n])||0}},$_=function(e,t){return!t||~Di.indexOf(e)?zd(e):function(){return Ja}},Ii=function(e,t){var i=t.s,r=t.d2,n=t.d,a=t.a;return Math.max(0,(i="scroll"+r)&&(a=mr(e,i))?a()-zd(e)()[n]:Wr(e)?(gi[i]||Pe[i])-Dd(r):e[i]-e["offset"+r])},Ba=function(e,t){for(var i=0;i<ws.length;i+=3)(!t||~t.indexOf(ws[i+1]))&&e(ws[i],ws[i+1],ws[i+2])},Yt=function(e){return typeof e=="string"},Rt=function(e){return typeof e=="function"},Pn=function(e){return typeof e=="number"},qr=function(e){return typeof e=="object"},En=function(e,t,i){return e&&e.progress(t?0:1)&&i&&e.pause()},eh=function(e,t){if(e.enabled){var i=e._ctx?e._ctx.add(function(){return t(e)}):t(e);i&&i.totalTime&&(e.callbackAnimation=i)}},ks=Math.abs,Id="left",Fd="top",th="right",ih="bottom",jr="width",Hr="height",Cn="Right",An="Left",Mn="Top",Rn="Bottom",Xe="padding",si="margin",Ss="Width",rh="Height",Ze="px",ni=function(e){return ce.getComputedStyle(e)},W_=function(e){var t=ni(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},Nd=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},Qi=function(e,t){var i=t&&ni(e)[jl]!=="matrix(1, 0, 0, 1, 0, 0)"&&V.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return i&&i.progress(0).kill(),r},$a=function(e,t){var i=t.d2;return e["offset"+i]||e["client"+i]||0},Vd=function(e){var t=[],i=e.labels,r=e.duration(),n;for(n in i)t.push(i[n]/r);return t},q_=function(e){return function(t){return V.utils.snap(Vd(e),t)}},sh=function(e){var t=V.utils.snap(e),i=Array.isArray(e)&&e.slice(0).sort(function(r,n){return r-n});return i?function(r,n,a){a===void 0&&(a=.001);var o;if(!n)return t(r);if(n>0){for(r-=a,o=0;o<i.length;o++)if(i[o]>=r)return i[o];return i[o-1]}else for(o=i.length,r+=a;o--;)if(i[o]<=r)return i[o];return i[0]}:function(r,n,a){a===void 0&&(a=.001);var o=t(r);return!n||Math.abs(o-r)<a||o-r<0==n<0?o:t(n<0?r-e:r+e)}},j_=function(e){return function(t,i){return sh(Vd(e))(t,i.direction)}},Wa=function(e,t,i,r){return i.split(",").forEach(function(n){return e(t,n,r)})},st=function(e,t,i,r,n){return e.addEventListener(t,i,{passive:!r,capture:!!n})},nt=function(e,t,i,r){return e.removeEventListener(t,i,!!r)},qa=function(e,t,i){i=i&&i.wheelHandler,i&&(e(t,"wheel",i),e(t,"touchmove",i))},Ud={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},ja={toggleActions:"play",anticipatePin:0},Ha={top:0,left:0,center:.5,bottom:1,right:1},Ya=function(e,t){if(Yt(e)){var i=e.indexOf("="),r=~i?+(e.charAt(i-1)+1)*parseFloat(e.substr(i+1)):0;~i&&(e.indexOf("%")>i&&(r*=t/100),e=e.substr(0,i-1)),e=r+(e in Ha?Ha[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},Xa=function(e,t,i,r,n,a,o,l){var h=n.startColor,c=n.endColor,u=n.fontSize,d=n.indent,p=n.fontWeight,g=De.createElement("div"),f=Wr(i)||mr(i,"pinType")==="fixed",y=e.indexOf("scroller")!==-1,b=f?Pe:i,m=e.indexOf("start")!==-1,v=m?h:c,x="border-color:"+v+";font-size:"+u+";color:"+v+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return x+="position:"+((y||l)&&f?"fixed;":"absolute;"),(y||l||!f)&&(x+=(r===Qe?th:ih)+":"+(a+parseFloat(d))+"px;"),o&&(x+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),g._isStart=m,g.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),g.style.cssText=x,g.innerText=t||t===0?e+"-"+t:e,b.children[0]?b.insertBefore(g,b.children[0]):b.appendChild(g),g._offset=g["offset"+r.op.d2],Ga(g,0,r,m),g},Ga=function(e,t,i,r){var n={display:"block"},a=i[r?"os2":"p2"],o=i[r?"p2":"os2"];e._isFlipped=r,n[i.a+"Percent"]=r?-100:0,n[i.a]=r?"1px":0,n["border"+a+Ss]=1,n["border"+o+Ss]=0,n[i.p]=t+"px",V.set(e,n)},re=[],nh={},On,Bd=function(){return bt()-ri>34&&(On||(On=requestAnimationFrame(Zi)))},Ps=function(){(!Mt||!Mt.isPressed||Mt.startX>Pe.clientWidth)&&(se.cache++,Mt?On||(On=requestAnimationFrame(Zi)):Zi(),ri||Xr("scrollStart"),ri=bt())},ah=function(){Ed=ce.innerWidth,Pd=ce.innerHeight},Ln=function(){se.cache++,!yt&&!Sd&&!De.fullscreenElement&&!De.webkitFullscreenElement&&(!Yl||Ed!==ce.innerWidth||Math.abs(ce.innerHeight-Pd)>ce.innerHeight*.25)&&Ia.restart(!0)},Yr={},H_=[],$d=function s(){return nt(ne,"scrollEnd",s)||Kr(!0)},Xr=function(e){return Yr[e]&&Yr[e].map(function(t){return t()})||H_},Xt=[],Wd=function(e){for(var t=0;t<Xt.length;t+=5)(!e||Xt[t+4]&&Xt[t+4].query===e)&&(Xt[t].style.cssText=Xt[t+1],Xt[t].getBBox&&Xt[t].setAttribute("transform",Xt[t+2]||""),Xt[t+3].uncache=1)},oh=function(e,t){var i;for(At=0;At<re.length;At++)i=re[At],i&&(!t||i._ctx===t)&&(e?i.kill(1):i.revert(!0,!0));Va=!0,t&&Wd(t),t||Xr("revert")},qd=function(e,t){se.cache++,(t||!Ot)&&se.forEach(function(i){return Rt(i)&&i.cacheID++&&(i.rec=0)}),Yt(e)&&(ce.history.scrollRestoration=Gl=e)},Ot,Gr=0,jd,Y_=function(){if(jd!==Gr){var e=jd=Gr;requestAnimationFrame(function(){return e===Gr&&Kr(!0)})}},Hd=function(){Pe.appendChild(Ts),Kl=!Mt&&Ts.offsetHeight||ce.innerHeight,Pe.removeChild(Ts)},Yd=function(e){return xn(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},Kr=function(e,t){if(ri&&!e&&!Va){st(ne,"scrollEnd",$d);return}Hd(),Ot=ne.isRefreshing=!0,se.forEach(function(r){return Rt(r)&&++r.cacheID&&(r.rec=r())});var i=Xr("refreshInit");kd&&ne.sort(),t||oh(),se.forEach(function(r){Rt(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),re.slice(0).forEach(function(r){return r.refresh()}),Va=!1,re.forEach(function(r){if(r._subPinOffset&&r.pin){var n=r.vars.horizontal?"offsetWidth":"offsetHeight",a=r.pin[n];r.revert(!0,1),r.adjustPinSpacing(r.pin[n]-a),r.refresh()}}),Ql=1,Yd(!0),re.forEach(function(r){var n=Ii(r.scroller,r._dir),a=r.vars.end==="max"||r._endClamp&&r.end>n,o=r._startClamp&&r.start>=n;(a||o)&&r.setPositions(o?n-1:r.start,a?Math.max(o?n:r.start+1,n):r.end,!0)}),Yd(!1),Ql=0,i.forEach(function(r){return r&&r.render&&r.render(-1)}),se.forEach(function(r){Rt(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),qd(Gl,1),Ia.pause(),Gr++,Ot=2,Zi(2),re.forEach(function(r){return Rt(r.vars.onRefresh)&&r.vars.onRefresh(r)}),Ot=ne.isRefreshing=!1,Xr("refresh")},lh=0,Ka=1,Dn,Zi=function(e){if(e===2||!Ot&&!Va){ne.isUpdating=!0,Dn&&Dn.update(0);var t=re.length,i=bt(),r=i-Jl>=50,n=t&&re[0].scroll();if(Ka=lh>n?-1:1,Ot||(lh=n),r&&(ri&&!Na&&i-ri>200&&(ri=0,Xr("scrollEnd")),Tn=Jl,Jl=i),Ka<0){for(At=t;At-- >0;)re[At]&&re[At].update(0,r);Ka=1}else for(At=0;At<t;At++)re[At]&&re[At].update(0,r);ne.isUpdating=!1}On=0},hh=[Id,Fd,ih,th,si+Rn,si+Cn,si+Mn,si+An,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Qa=hh.concat([jr,Hr,"boxSizing","max"+Ss,"max"+rh,"position",si,Xe,Xe+Mn,Xe+Cn,Xe+Rn,Xe+An]),X_=function(e,t,i){Es(i);var r=e._gsap;if(r.spacerIsNative)Es(r.spacerState);else if(e._gsap.swappedIn){var n=t.parentNode;n&&(n.insertBefore(e,t),n.removeChild(t))}e._gsap.swappedIn=!1},ch=function(e,t,i,r){if(!e._gsap.swappedIn){for(var n=hh.length,a=t.style,o=e.style,l;n--;)l=hh[n],a[l]=i[l];a.position=i.position==="absolute"?"absolute":"relative",i.display==="inline"&&(a.display="inline-block"),o[ih]=o[th]="auto",a.flexBasis=i.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[jr]=$a(e,Ct)+Ze,a[Hr]=$a(e,Qe)+Ze,a[Xe]=o[si]=o[Fd]=o[Id]="0",Es(r),o[jr]=o["max"+Ss]=i[jr],o[Hr]=o["max"+rh]=i[Hr],o[Xe]=i[Xe],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},G_=/([A-Z])/g,Es=function(e){if(e){var t=e.t.style,i=e.length,r=0,n,a;for((e.t._gsap||V.core.getCache(e.t)).uncache=1;r<i;r+=2)a=e[r+1],n=e[r],a?t[n]=a:t[n]&&t.removeProperty(n.replace(G_,"-$1").toLowerCase())}},Za=function(e){for(var t=Qa.length,i=e.style,r=[],n=0;n<t;n++)r.push(Qa[n],i[Qa[n]]);return r.t=e,r},K_=function(e,t,i){for(var r=[],n=e.length,a=i?8:0,o;a<n;a+=2)o=e[a],r.push(o,o in t?t[o]:e[a+1]);return r.t=e.t,r},Ja={left:0,top:0},Xd=function(e,t,i,r,n,a,o,l,h,c,u,d,p,g){Rt(e)&&(e=e(l)),Yt(e)&&e.substr(0,3)==="max"&&(e=d+(e.charAt(4)==="="?Ya("0"+e.substr(3),i):0));var f=p?p.time():0,y,b,m;if(p&&p.seek(0),isNaN(e)||(e=+e),Pn(e))p&&(e=V.utils.mapRange(p.scrollTrigger.start,p.scrollTrigger.end,0,d,e)),o&&Ga(o,i,r,!0);else{Rt(t)&&(t=t(l));var v=(e||"0").split(" "),x,w,T,k;m=Ut(t,l)||Pe,x=Qi(m)||{},(!x||!x.left&&!x.top)&&ni(m).display==="none"&&(k=m.style.display,m.style.display="block",x=Qi(m),k?m.style.display=k:m.style.removeProperty("display")),w=Ya(v[0],x[r.d]),T=Ya(v[1]||"0",i),e=x[r.p]-h[r.p]-c+w+n-T,o&&Ga(o,T,r,i-T<20||o._isStart&&T>20),i-=i-T}if(g&&(l[g]=e||-.001,e<0&&(e=0)),a){var A=e+i,E=a._isStart;y="scroll"+r.d2,Ga(a,A,r,E&&A>20||!E&&(u?Math.max(Pe[y],gi[y]):a.parentNode[y])<=A+1),u&&(h=Qi(o),u&&(a.style[r.op.p]=h[r.op.p]-r.op.m-a._offset+Ze))}return p&&m&&(y=Qi(m),p.seek(d),b=Qi(m),p._caScrollDist=y[r.p]-b[r.p],e=e/p._caScrollDist*d),p&&p.seek(f),p?e:Math.round(e)},Q_=/(webkit|moz|length|cssText|inset)/i,Gd=function(e,t,i,r){if(e.parentNode!==t){var n=e.style,a,o;if(t===Pe){e._stOrig=n.cssText,o=ni(e);for(a in o)!+a&&!Q_.test(a)&&o[a]&&typeof n[a]=="string"&&a!=="0"&&(n[a]=o[a]);n.top=i,n.left=r}else n.cssText=e._stOrig;V.core.getCache(e).uncache=1,t.appendChild(e)}},Kd=function(e,t,i){var r=t,n=r;return function(a){var o=Math.round(e());return o!==r&&o!==n&&Math.abs(o-r)>3&&Math.abs(o-n)>3&&(a=o,i&&i()),n=r,r=a,a}},eo=function(e,t,i){var r={};r[t.p]="+="+i,V.set(e,r)},Qd=function(e,t){var i=_r(e,t),r="_scroll"+t.p2,n=function a(o,l,h,c,u){var d=a.tween,p=l.onComplete,g={};h=h||i();var f=Kd(i,h,function(){d.kill(),a.tween=0});return u=c&&u||0,c=c||o-h,d&&d.kill(),l[r]=o,l.inherit=!1,l.modifiers=g,g[r]=function(){return f(h+c*d.ratio+u*d.ratio*d.ratio)},l.onUpdate=function(){se.cache++,a.tween&&Zi()},l.onComplete=function(){a.tween=0,p&&p.call(d)},d=a.tween=V.to(e,l),d};return e[r]=i,i.wheelHandler=function(){return n.tween&&n.tween.kill()&&(n.tween=0)},st(e,"wheel",i.wheelHandler),ne.isTouch&&st(e,"touchmove",i.wheelHandler),n},ne=function(){function s(t,i){xs||s.register(V)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),Xl(this),this.init(t,i)}var e=s.prototype;return e.init=function(i,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!kn){this.update=this.refresh=this.kill=zi;return}i=Nd(Yt(i)||Pn(i)||i.nodeType?{trigger:i}:i,ja);var n=i,a=n.onUpdate,o=n.toggleClass,l=n.id,h=n.onToggle,c=n.onRefresh,u=n.scrub,d=n.trigger,p=n.pin,g=n.pinSpacing,f=n.invalidateOnRefresh,y=n.anticipatePin,b=n.onScrubComplete,m=n.onSnapComplete,v=n.once,x=n.snap,w=n.pinReparent,T=n.pinSpacer,k=n.containerAnimation,A=n.fastScrollEnd,E=n.preventOverlaps,P=i.horizontal||i.containerAnimation&&i.horizontal!==!1?Ct:Qe,R=!u&&u!==0,M=Ut(i.scroller||ce),N=V.core.getCache(M),z=Wr(M),O=("pinType"in i?i.pinType:mr(M,"pinType")||z&&"fixed")==="fixed",L=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],U=R&&i.toggleActions.split(" "),G="markers"in i?i.markers:ja.markers,ue=z?0:parseFloat(ni(M)["border"+P.p2+Ss])||0,S=this,Q=i.onRefreshInit&&function(){return i.onRefreshInit(S)},ge=B_(M,z,P),Ae=$_(M,z),le=0,Z=0,te=0,be=_r(M,P),xe,Ne,me,Ee,Lt,W,ae,ht,ct,C,qe,mi,ai,B,_i,Qr,Cs,at,br,je,yi,oi,Ji,In,Ge,io,vr,As,Ms,xr,Zr,oe,Jr,bi,vi,xi,es,Rs,er;if(S._startClamp=S._endClamp=!1,S._dir=P,y*=45,S.scroller=M,S.scroll=k?k.time.bind(k):be,Ee=be(),S.vars=i,r=r||i.animation,"refreshPriority"in i&&(kd=1,i.refreshPriority===-9999&&(Dn=S)),N.tweenScroll=N.tweenScroll||{top:Qd(M,Qe),left:Qd(M,Ct)},S.tweenTo=xe=N.tweenScroll[P.p],S.scrubDuration=function(F){Jr=Pn(F)&&F,Jr?oe?oe.duration(F):oe=V.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Jr,paused:!0,onComplete:function(){return b&&b(S)}}):(oe&&oe.progress(1).kill(),oe=0)},r&&(r.vars.lazy=!1,r._initted&&!S.isReverted||r.vars.immediateRender!==!1&&i.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),S.animation=r.pause(),r.scrollTrigger=S,S.scrubDuration(u),xr=0,l||(l=r.vars.id)),x&&((!qr(x)||x.push)&&(x={snapTo:x}),"scrollBehavior"in Pe.style&&V.set(z?[Pe,gi]:M,{scrollBehavior:"auto"}),se.forEach(function(F){return Rt(F)&&F.target===(z?De.scrollingElement||gi:M)&&(F.smooth=!1)}),me=Rt(x.snapTo)?x.snapTo:x.snapTo==="labels"?q_(r):x.snapTo==="labelsDirectional"?j_(r):x.directional!==!1?function(F,ee){return sh(x.snapTo)(F,bt()-Z<500?0:ee.direction)}:V.utils.snap(x.snapTo),bi=x.duration||{min:.1,max:2},bi=qr(bi)?wn(bi.min,bi.max):wn(bi,bi),vi=V.delayedCall(x.delay||Jr/2||.1,function(){var F=be(),ee=bt()-Z<500,q=xe.tween;if((ee||Math.abs(S.getVelocity())<10)&&!q&&!Na&&le!==F){var K=(F-W)/B,ot=r&&!R?r.totalProgress():K,de=ee?0:(ot-Zr)/(bt()-Tn)*1e3||0,He=V.utils.clamp(-K,1-K,ks(de/2)*de/.185),vt=K+(x.inertia===!1?0:He),Ve,Me,Te=x,wi=Te.onStart,ze=Te.onInterrupt,Gt=Te.onComplete;if(Ve=me(vt,S),Pn(Ve)||(Ve=vt),Me=Math.round(W+Ve*B),F<=ae&&F>=W&&Me!==F){if(q&&!q._initted&&q.data<=ks(Me-F))return;x.inertia===!1&&(He=Ve-K),xe(Me,{duration:bi(ks(Math.max(ks(vt-ot),ks(Ve-ot))*.185/de/.05||0)),ease:x.ease||"power3",data:ks(Me-F),onInterrupt:function(){return vi.restart(!0)&&ze&&ze(S)},onComplete:function(){S.update(),le=be(),r&&(oe?oe.resetTo("totalProgress",Ve,r._tTime/r._tDur):r.progress(Ve)),xr=Zr=r&&!R?r.totalProgress():S.progress,m&&m(S),Gt&&Gt(S)}},F,He*B,Me-F-He*B),wi&&wi(S,xe.tween)}}else S.isActive&&le!==F&&vi.restart(!0)}).pause()),l&&(nh[l]=S),d=S.trigger=Ut(d||p!==!0&&p),er=d&&d._gsap&&d._gsap.stRevert,er&&(er=er(S)),p=p===!0?d:Ut(p),Yt(o)&&(o={targets:d,className:o}),p&&(g===!1||g===si||(g=!g&&p.parentNode&&p.parentNode.style&&ni(p.parentNode).display==="flex"?!1:Xe),S.pin=p,Ne=V.core.getCache(p),Ne.spacer?_i=Ne.pinState:(T&&(T=Ut(T),T&&!T.nodeType&&(T=T.current||T.nativeElement),Ne.spacerIsNative=!!T,T&&(Ne.spacerState=Za(T))),Ne.spacer=at=T||De.createElement("div"),at.classList.add("pin-spacer"),l&&at.classList.add("pin-spacer-"+l),Ne.pinState=_i=Za(p)),i.force3D!==!1&&V.set(p,{force3D:!0}),S.spacer=at=Ne.spacer,Ms=ni(p),In=Ms[g+P.os2],je=V.getProperty(p),yi=V.quickSetter(p,P.a,Ze),ch(p,at,Ms),Cs=Za(p)),G){mi=qr(G)?Nd(G,Ud):Ud,C=Xa("scroller-start",l,M,P,mi,0),qe=Xa("scroller-end",l,M,P,mi,0,C),br=C["offset"+P.op.d2];var Fn=Ut(mr(M,"content")||M);ht=this.markerStart=Xa("start",l,Fn,P,mi,br,0,k),ct=this.markerEnd=Xa("end",l,Fn,P,mi,br,0,k),k&&(Rs=V.quickSetter([ht,ct],P.a,Ze)),!O&&!(Di.length&&mr(M,"fixedMarkers")===!0)&&(W_(z?Pe:M),V.set([C,qe],{force3D:!0}),io=V.quickSetter(C,P.a,Ze),As=V.quickSetter(qe,P.a,Ze))}if(k){var J=k.vars.onUpdate,H=k.vars.onUpdateParams;k.eventCallback("onUpdate",function(){S.update(0,0,1),J&&J.apply(k,H||[])})}if(S.previous=function(){return re[re.indexOf(S)-1]},S.next=function(){return re[re.indexOf(S)+1]},S.revert=function(F,ee){if(!ee)return S.kill(!0);var q=F!==!1||!S.enabled,K=yt;q!==S.isReverted&&(q&&(xi=Math.max(be(),S.scroll.rec||0),te=S.progress,es=r&&r.progress()),ht&&[ht,ct,C,qe].forEach(function(ot){return ot.style.display=q?"none":"block"}),q&&(yt=S,S.update(q)),p&&(!w||!S.isActive)&&(q?X_(p,at,_i):ch(p,at,ni(p),Ge)),q||S.update(q),yt=K,S.isReverted=q)},S.refresh=function(F,ee,q,K){if(!((yt||!S.enabled)&&!ee)){if(p&&F&&ri){st(s,"scrollEnd",$d);return}!Ot&&Q&&Q(S),yt=S,xe.tween&&!q&&(xe.tween.kill(),xe.tween=0),oe&&oe.pause(),f&&r&&r.revert({kill:!1}).invalidate(),S.isReverted||S.revert(!0,!0),S._subPinOffset=!1;var ot=ge(),de=Ae(),He=k?k.duration():Ii(M,P),vt=B<=.01,Ve=0,Me=K||0,Te=qr(q)?q.end:i.end,wi=i.endTrigger||d,ze=qr(q)?q.start:i.start||(i.start===0||!d?0:p?"0 0":"0 100%"),Gt=S.pinnedContainer=i.pinnedContainer&&Ut(i.pinnedContainer,S),Fi=d&&Math.max(0,re.indexOf(S))||0,ut=Fi,dt,xt,ts,ro,wt,Je,Ni,dh,sp,Nn,Vi,Vn,so;for(G&&qr(q)&&(Vn=V.getProperty(C,P.p),so=V.getProperty(qe,P.p));ut--;)Je=re[ut],Je.end||Je.refresh(0,1)||(yt=S),Ni=Je.pin,Ni&&(Ni===d||Ni===p||Ni===Gt)&&!Je.isReverted&&(Nn||(Nn=[]),Nn.unshift(Je),Je.revert(!0,!0)),Je!==re[ut]&&(Fi--,ut--);for(Rt(ze)&&(ze=ze(S)),ze=Cd(ze,"start",S),W=Xd(ze,d,ot,P,be(),ht,C,S,de,ue,O,He,k,S._startClamp&&"_startClamp")||(p?-.001:0),Rt(Te)&&(Te=Te(S)),Yt(Te)&&!Te.indexOf("+=")&&(~Te.indexOf(" ")?Te=(Yt(ze)?ze.split(" ")[0]:"")+Te:(Ve=Ya(Te.substr(2),ot),Te=Yt(ze)?ze:(k?V.utils.mapRange(0,k.duration(),k.scrollTrigger.start,k.scrollTrigger.end,W):W)+Ve,wi=d)),Te=Cd(Te,"end",S),ae=Math.max(W,Xd(Te||(wi?"100% 0":He),wi,ot,P,be()+Ve,ct,qe,S,de,ue,O,He,k,S._endClamp&&"_endClamp"))||-.001,Ve=0,ut=Fi;ut--;)Je=re[ut],Ni=Je.pin,Ni&&Je.start-Je._pinPush<=W&&!k&&Je.end>0&&(dt=Je.end-(S._startClamp?Math.max(0,Je.start):Je.start),(Ni===d&&Je.start-Je._pinPush<W||Ni===Gt)&&isNaN(ze)&&(Ve+=dt*(1-Je.progress)),Ni===p&&(Me+=dt));if(W+=Ve,ae+=Ve,S._startClamp&&(S._startClamp+=Ve),S._endClamp&&!Ot&&(S._endClamp=ae||-.001,ae=Math.min(ae,Ii(M,P))),B=ae-W||(W-=.01)&&.001,vt&&(te=V.utils.clamp(0,1,V.utils.normalize(W,ae,xi))),S._pinPush=Me,ht&&Ve&&(dt={},dt[P.a]="+="+Ve,Gt&&(dt[P.p]="-="+be()),V.set([ht,ct],dt)),p&&!(Ql&&S.end>=Ii(M,P)))dt=ni(p),ro=P===Qe,ts=be(),oi=parseFloat(je(P.a))+Me,!He&&ae>1&&(Vi=(z?De.scrollingElement||gi:M).style,Vi={style:Vi,value:Vi["overflow"+P.a.toUpperCase()]},z&&ni(Pe)["overflow"+P.a.toUpperCase()]!=="scroll"&&(Vi.style["overflow"+P.a.toUpperCase()]="scroll")),ch(p,at,dt),Cs=Za(p),xt=Qi(p,!0),dh=O&&_r(M,ro?Ct:Qe)(),g?(Ge=[g+P.os2,B+Me+Ze],Ge.t=at,ut=g===Xe?$a(p,P)+B+Me:0,ut&&(Ge.push(P.d,ut+Ze),at.style.flexBasis!=="auto"&&(at.style.flexBasis=ut+Ze)),Es(Ge),Gt&&re.forEach(function(Un){Un.pin===Gt&&Un.vars.pinSpacing!==!1&&(Un._subPinOffset=!0)}),O&&be(xi)):(ut=$a(p,P),ut&&at.style.flexBasis!=="auto"&&(at.style.flexBasis=ut+Ze)),O&&(wt={top:xt.top+(ro?ts-W:dh)+Ze,left:xt.left+(ro?dh:ts-W)+Ze,boxSizing:"border-box",position:"fixed"},wt[jr]=wt["max"+Ss]=Math.ceil(xt.width)+Ze,wt[Hr]=wt["max"+rh]=Math.ceil(xt.height)+Ze,wt[si]=wt[si+Mn]=wt[si+Cn]=wt[si+Rn]=wt[si+An]="0",wt[Xe]=dt[Xe],wt[Xe+Mn]=dt[Xe+Mn],wt[Xe+Cn]=dt[Xe+Cn],wt[Xe+Rn]=dt[Xe+Rn],wt[Xe+An]=dt[Xe+An],Qr=K_(_i,wt,w),Ot&&be(0)),r?(sp=r._initted,Hl(1),r.render(r.duration(),!0,!0),Ji=je(P.a)-oi+B+Me,vr=Math.abs(B-Ji)>1,O&&vr&&Qr.splice(Qr.length-2,2),r.render(0,!0,!0),sp||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),Hl(0)):Ji=B,Vi&&(Vi.value?Vi.style["overflow"+P.a.toUpperCase()]=Vi.value:Vi.style.removeProperty("overflow-"+P.a));else if(d&&be()&&!k)for(xt=d.parentNode;xt&&xt!==Pe;)xt._pinOffset&&(W-=xt._pinOffset,ae-=xt._pinOffset),xt=xt.parentNode;Nn&&Nn.forEach(function(Un){return Un.revert(!1,!0)}),S.start=W,S.end=ae,Ee=Lt=Ot?xi:be(),!k&&!Ot&&(Ee<xi&&be(xi),S.scroll.rec=0),S.revert(!1,!0),Z=bt(),vi&&(le=-1,vi.restart(!0)),yt=0,r&&R&&(r._initted||es)&&r.progress()!==es&&r.progress(es||0,!0).render(r.time(),!0,!0),(vt||te!==S.progress||k||f)&&(r&&!R&&r.totalProgress(k&&W<-.001&&!te?V.utils.normalize(W,ae,0):te,!0),S.progress=vt||(Ee-W)/B===te?0:te),p&&g&&(at._pinOffset=Math.round(S.progress*Ji)),oe&&oe.invalidate(),isNaN(Vn)||(Vn-=V.getProperty(C,P.p),so-=V.getProperty(qe,P.p),eo(C,P,Vn),eo(ht,P,Vn-(K||0)),eo(qe,P,so),eo(ct,P,so-(K||0))),vt&&!Ot&&S.update(),c&&!Ot&&!ai&&(ai=!0,c(S),ai=!1)}},S.getVelocity=function(){return(be()-Lt)/(bt()-Tn)*1e3||0},S.endAnimation=function(){En(S.callbackAnimation),r&&(oe?oe.progress(1):r.paused()?R||En(r,S.direction<0,1):En(r,r.reversed()))},S.labelToScroll=function(F){return r&&r.labels&&(W||S.refresh()||W)+r.labels[F]/r.duration()*B||0},S.getTrailing=function(F){var ee=re.indexOf(S),q=S.direction>0?re.slice(0,ee).reverse():re.slice(ee+1);return(Yt(F)?q.filter(function(K){return K.vars.preventOverlaps===F}):q).filter(function(K){return S.direction>0?K.end<=W:K.start>=ae})},S.update=function(F,ee,q){if(!(k&&!q&&!F)){var K=Ot===!0?xi:S.scroll(),ot=F?0:(K-W)/B,de=ot<0?0:ot>1?1:ot||0,He=S.progress,vt,Ve,Me,Te,wi,ze,Gt,Fi;if(ee&&(Lt=Ee,Ee=k?be():K,x&&(Zr=xr,xr=r&&!R?r.totalProgress():de)),y&&p&&!yt&&!Ua&&ri&&(!de&&W<K+(K-Lt)/(bt()-Tn)*y?de=1e-4:de===1&&ae>K+(K-Lt)/(bt()-Tn)*y&&(de=.9999)),de!==He&&S.enabled){if(vt=S.isActive=!!de&&de<1,Ve=!!He&&He<1,ze=vt!==Ve,wi=ze||!!de!=!!He,S.direction=de>He?1:-1,S.progress=de,wi&&!yt&&(Me=de&&!He?0:de===1?1:He===1?2:3,R&&(Te=!ze&&U[Me+1]!=="none"&&U[Me+1]||U[Me],Fi=r&&(Te==="complete"||Te==="reset"||Te in r))),E&&(ze||Fi)&&(Fi||u||!r)&&(Rt(E)?E(S):S.getTrailing(E).forEach(function(ts){return ts.endAnimation()})),R||(oe&&!yt&&!Ua?(oe._dp._time-oe._start!==oe._time&&oe.render(oe._dp._time-oe._start),oe.resetTo?oe.resetTo("totalProgress",de,r._tTime/r._tDur):(oe.vars.totalProgress=de,oe.invalidate().restart())):r&&r.totalProgress(de,!!(yt&&(Z||F)))),p){if(F&&g&&(at.style[g+P.os2]=In),!O)yi(Sn(oi+Ji*de));else if(wi){if(Gt=!F&&de>He&&ae+1>K&&K+1>=Ii(M,P),w)if(!F&&(vt||Gt)){var ut=Qi(p,!0),dt=K-W;Gd(p,Pe,ut.top+(P===Qe?dt:0)+Ze,ut.left+(P===Qe?0:dt)+Ze)}else Gd(p,at);Es(vt||Gt?Qr:Cs),vr&&de<1&&vt||yi(oi+(de===1&&!Gt?Ji:0))}}x&&!xe.tween&&!yt&&!Ua&&vi.restart(!0),o&&(ze||v&&de&&(de<1||!Zl))&&xn(o.targets).forEach(function(ts){return ts.classList[vt||v?"add":"remove"](o.className)}),a&&!R&&!F&&a(S),wi&&!yt?(R&&(Fi&&(Te==="complete"?r.pause().totalProgress(1):Te==="reset"?r.restart(!0).pause():Te==="restart"?r.restart(!0):r[Te]()),a&&a(S)),(ze||!Zl)&&(h&&ze&&eh(S,h),L[Me]&&eh(S,L[Me]),v&&(de===1?S.kill(!1,1):L[Me]=0),ze||(Me=de===1?1:3,L[Me]&&eh(S,L[Me]))),A&&!vt&&Math.abs(S.getVelocity())>(Pn(A)?A:2500)&&(En(S.callbackAnimation),oe?oe.progress(1):En(r,Te==="reverse"?1:!de,1))):R&&a&&!yt&&a(S)}if(As){var xt=k?K/k.duration()*(k._caScrollDist||0):K;io(xt+(C._isFlipped?1:0)),As(xt)}Rs&&Rs(-K/k.duration()*(k._caScrollDist||0))}},S.enable=function(F,ee){S.enabled||(S.enabled=!0,st(M,"resize",Ln),z||st(M,"scroll",Ps),Q&&st(s,"refreshInit",Q),F!==!1&&(S.progress=te=0,Ee=Lt=le=be()),ee!==!1&&S.refresh())},S.getTween=function(F){return F&&xe?xe.tween:oe},S.setPositions=function(F,ee,q,K){if(k){var ot=k.scrollTrigger,de=k.duration(),He=ot.end-ot.start;F=ot.start+He*F/de,ee=ot.start+He*ee/de}S.refresh(!1,!1,{start:Ad(F,q&&!!S._startClamp),end:Ad(ee,q&&!!S._endClamp)},K),S.update()},S.adjustPinSpacing=function(F){if(Ge&&F){var ee=Ge.indexOf(P.d)+1;Ge[ee]=parseFloat(Ge[ee])+F+Ze,Ge[1]=parseFloat(Ge[1])+F+Ze,Es(Ge)}},S.disable=function(F,ee){if(S.enabled&&(F!==!1&&S.revert(!0,!0),S.enabled=S.isActive=!1,ee||oe&&oe.pause(),xi=0,Ne&&(Ne.uncache=1),Q&&nt(s,"refreshInit",Q),vi&&(vi.pause(),xe.tween&&xe.tween.kill()&&(xe.tween=0)),!z)){for(var q=re.length;q--;)if(re[q].scroller===M&&re[q]!==S)return;nt(M,"resize",Ln),z||nt(M,"scroll",Ps)}},S.kill=function(F,ee){S.disable(F,ee),oe&&!ee&&oe.kill(),l&&delete nh[l];var q=re.indexOf(S);q>=0&&re.splice(q,1),q===At&&Ka>0&&At--,q=0,re.forEach(function(K){return K.scroller===S.scroller&&(q=1)}),q||Ot||(S.scroll.rec=0),r&&(r.scrollTrigger=null,F&&r.revert({kill:!1}),ee||r.kill()),ht&&[ht,ct,C,qe].forEach(function(K){return K.parentNode&&K.parentNode.removeChild(K)}),Dn===S&&(Dn=0),p&&(Ne&&(Ne.uncache=1),q=0,re.forEach(function(K){return K.pin===p&&q++}),q||(Ne.spacer=0)),i.onKill&&i.onKill(S)},re.push(S),S.enable(!1,!1),er&&er(S),r&&r.add&&!B){var _e=S.update;S.update=function(){S.update=_e,W||ae||S.refresh()},V.delayedCall(.01,S.update),B=.01,W=ae=0}else S.refresh();p&&Y_()},s.register=function(i){return xs||(V=i||Ld(),Od()&&window.document&&s.enable(),xs=kn),xs},s.defaults=function(i){if(i)for(var r in i)ja[r]=i[r];return ja},s.disable=function(i,r){kn=0,re.forEach(function(a){return a[r?"kill":"disable"](i)}),nt(ce,"wheel",Ps),nt(De,"scroll",Ps),clearInterval(Fa),nt(De,"touchcancel",zi),nt(Pe,"touchstart",zi),Wa(nt,De,"pointerdown,touchstart,mousedown",Md),Wa(nt,De,"pointerup,touchend,mouseup",Rd),Ia.kill(),Ba(nt);for(var n=0;n<se.length;n+=3)qa(nt,se[n],se[n+1]),qa(nt,se[n],se[n+2])},s.enable=function(){if(ce=window,De=document,gi=De.documentElement,Pe=De.body,V&&(xn=V.utils.toArray,wn=V.utils.clamp,Xl=V.core.context||zi,Hl=V.core.suppressOverwrites||zi,Gl=ce.history.scrollRestoration||"auto",lh=ce.pageYOffset,V.core.globals("ScrollTrigger",s),Pe)){kn=1,Ts=document.createElement("div"),Ts.style.height="100vh",Ts.style.position="absolute",Hd(),U_(),We.register(V),s.isTouch=We.isTouch,yr=We.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Yl=We.isTouch===1,st(ce,"wheel",Ps),xd=[ce,De,gi,Pe],V.matchMedia?(s.matchMedia=function(l){var h=V.matchMedia(),c;for(c in l)h.add(c,l[c]);return h},V.addEventListener("matchMediaInit",function(){return oh()}),V.addEventListener("matchMediaRevert",function(){return Wd()}),V.addEventListener("matchMedia",function(){Kr(0,1),Xr("matchMedia")}),V.matchMedia("(orientation: portrait)",function(){return ah(),ah})):console.warn("Requires GSAP 3.11.0 or later"),ah(),st(De,"scroll",Ps);var i=Pe.style,r=i.borderTopStyle,n=V.core.Animation.prototype,a,o;for(n.revert||Object.defineProperty(n,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",a=Qi(Pe),Qe.m=Math.round(a.top+Qe.sc())||0,Ct.m=Math.round(a.left+Ct.sc())||0,r?i.borderTopStyle=r:i.removeProperty("border-top-style"),Fa=setInterval(Bd,250),V.delayedCall(.5,function(){return Ua=0}),st(De,"touchcancel",zi),st(Pe,"touchstart",zi),Wa(st,De,"pointerdown,touchstart,mousedown",Md),Wa(st,De,"pointerup,touchend,mouseup",Rd),jl=V.utils.checkPrefix("transform"),Qa.push(jl),xs=bt(),Ia=V.delayedCall(.2,Kr).pause(),ws=[De,"visibilitychange",function(){var l=ce.innerWidth,h=ce.innerHeight;De.hidden?(wd=l,Td=h):(wd!==l||Td!==h)&&Ln()},De,"DOMContentLoaded",Kr,ce,"load",Kr,ce,"resize",Ln],Ba(st),re.forEach(function(l){return l.enable(0,1)}),o=0;o<se.length;o+=3)qa(nt,se[o],se[o+1]),qa(nt,se[o],se[o+2])}},s.config=function(i){"limitCallbacks"in i&&(Zl=!!i.limitCallbacks);var r=i.syncInterval;r&&clearInterval(Fa)||(Fa=r)&&setInterval(Bd,r),"ignoreMobileResize"in i&&(Yl=s.isTouch===1&&i.ignoreMobileResize),"autoRefreshEvents"in i&&(Ba(nt)||Ba(st,i.autoRefreshEvents||"none"),Sd=(i.autoRefreshEvents+"").indexOf("resize")===-1)},s.scrollerProxy=function(i,r){var n=Ut(i),a=se.indexOf(n),o=Wr(n);~a&&se.splice(a,o?6:2),r&&(o?Di.unshift(ce,r,Pe,r,gi,r):Di.unshift(n,r))},s.clearMatchMedia=function(i){re.forEach(function(r){return r._ctx&&r._ctx.query===i&&r._ctx.kill(!0,!0)})},s.isInViewport=function(i,r,n){var a=(Yt(i)?Ut(i):i).getBoundingClientRect(),o=a[n?jr:Hr]*r||0;return n?a.right-o>0&&a.left+o<ce.innerWidth:a.bottom-o>0&&a.top+o<ce.innerHeight},s.positionInViewport=function(i,r,n){Yt(i)&&(i=Ut(i));var a=i.getBoundingClientRect(),o=a[n?jr:Hr],l=r==null?o/2:r in Ha?Ha[r]*o:~r.indexOf("%")?parseFloat(r)*o/100:parseFloat(r)||0;return n?(a.left+l)/ce.innerWidth:(a.top+l)/ce.innerHeight},s.killAll=function(i){if(re.slice(0).forEach(function(n){return n.vars.id!=="ScrollSmoother"&&n.kill()}),i!==!0){var r=Yr.killAll||[];Yr={},r.forEach(function(n){return n()})}},s}();ne.version="3.12.5",ne.saveStyles=function(s){return s?xn(s).forEach(function(e){if(e&&e.style){var t=Xt.indexOf(e);t>=0&&Xt.splice(t,5),Xt.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),V.core.getCache(e),Xl())}}):Xt},ne.revert=function(s,e){return oh(!s,e)},ne.create=function(s,e){return new ne(s,e)},ne.refresh=function(s){return s?Ln():(xs||ne.register())&&Kr(!0)},ne.update=function(s){return++se.cache&&Zi(s===!0?2:0)},ne.clearScrollMemory=qd,ne.maxScroll=function(s,e){return Ii(s,e?Ct:Qe)},ne.getScrollFunc=function(s,e){return _r(Ut(s),e?Ct:Qe)},ne.getById=function(s){return nh[s]},ne.getAll=function(){return re.filter(function(s){return s.vars.id!=="ScrollSmoother"})},ne.isScrolling=function(){return!!ri},ne.snapDirectional=sh,ne.addEventListener=function(s,e){var t=Yr[s]||(Yr[s]=[]);~t.indexOf(e)||t.push(e)},ne.removeEventListener=function(s,e){var t=Yr[s],i=t&&t.indexOf(e);i>=0&&t.splice(i,1)},ne.batch=function(s,e){var t=[],i={},r=e.interval||.016,n=e.batchMax||1e9,a=function(h,c){var u=[],d=[],p=V.delayedCall(r,function(){c(u,d),u=[],d=[]}).pause();return function(g){u.length||p.restart(!0),u.push(g.trigger),d.push(g),n<=u.length&&p.progress(1)}},o;for(o in e)i[o]=o.substr(0,2)==="on"&&Rt(e[o])&&o!=="onRefreshInit"?a(o,e[o]):e[o];return Rt(n)&&(n=n(),st(ne,"refresh",function(){return n=e.batchMax()})),xn(s).forEach(function(l){var h={};for(o in i)h[o]=i[o];h.trigger=l,t.push(ne.create(h))}),t};var Zd=function(e,t,i,r){return t>r?e(r):t<0&&e(0),i>r?(r-t)/(i-t):i<0?t/(t-i):1},uh=function s(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(We.isTouch?" pinch-zoom":""):"none",e===gi&&s(Pe,t)},to={auto:1,scroll:1},Z_=function(e){var t=e.event,i=e.target,r=e.axis,n=(t.changedTouches?t.changedTouches[0]:t).target,a=n._gsap||V.core.getCache(n),o=bt(),l;if(!a._isScrollT||o-a._isScrollT>2e3){for(;n&&n!==Pe&&(n.scrollHeight<=n.clientHeight&&n.scrollWidth<=n.clientWidth||!(to[(l=ni(n)).overflowY]||to[l.overflowX]));)n=n.parentNode;a._isScroll=n&&n!==i&&!Wr(n)&&(to[(l=ni(n)).overflowY]||to[l.overflowX]),a._isScrollT=o}(a._isScroll||r==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},Jd=function(e,t,i,r){return We.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&Z_,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return i&&st(De,We.eventTypes[0],tp,!1,!0)},onDisable:function(){return nt(De,We.eventTypes[0],tp,!0)}})},J_=/(input|label|select|textarea)/i,ep,tp=function(e){var t=J_.test(e.target.tagName);(t||ep)&&(e._gsapAllow=!0,ep=t)},ey=function(e){qr(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,i=t.normalizeScrollX,r=t.momentum,n=t.allowNestedScroll,a=t.onRelease,o,l,h=Ut(e.target)||gi,c=V.core.globals().ScrollSmoother,u=c&&c.get(),d=yr&&(e.content&&Ut(e.content)||u&&e.content!==!1&&!u.smooth()&&u.content()),p=_r(h,Qe),g=_r(h,Ct),f=1,y=(We.isTouch&&ce.visualViewport?ce.visualViewport.scale*ce.visualViewport.width:ce.outerWidth)/ce.innerWidth,b=0,m=Rt(r)?function(){return r(o)}:function(){return r||2.8},v,x,w=Jd(h,e.type,!0,n),T=function(){return x=!1},k=zi,A=zi,E=function(){l=Ii(h,Qe),A=wn(yr?1:0,l),i&&(k=wn(0,Ii(h,Ct))),v=Gr},P=function(){d._gsap.y=Sn(parseFloat(d._gsap.y)+p.offset)+"px",d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(d._gsap.y)+", 0, 1)",p.offset=p.cacheID=0},R=function(){if(x){requestAnimationFrame(T);var G=Sn(o.deltaY/2),ue=A(p.v-G);if(d&&ue!==p.v+p.offset){p.offset=ue-p.v;var S=Sn((parseFloat(d&&d._gsap.y)||0)-p.offset);d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+S+", 0, 1)",d._gsap.y=S+"px",p.cacheID=se.cache,Zi()}return!0}p.offset&&P(),x=!0},M,N,z,O,L=function(){E(),M.isActive()&&M.vars.scrollY>l&&(p()>l?M.progress(1)&&p(l):M.resetTo("scrollY",l))};return d&&V.set(d,{y:"+=0"}),e.ignoreCheck=function(U){return yr&&U.type==="touchmove"&&R()||f>1.05&&U.type!=="touchstart"||o.isGesturing||U.touches&&U.touches.length>1},e.onPress=function(){x=!1;var U=f;f=Sn((ce.visualViewport&&ce.visualViewport.scale||1)/y),M.pause(),U!==f&&uh(h,f>1.01?!0:i?!1:"x"),N=g(),z=p(),E(),v=Gr},e.onRelease=e.onGestureStart=function(U,G){if(p.offset&&P(),!G)O.restart(!0);else{se.cache++;var ue=m(),S,Q;i&&(S=g(),Q=S+ue*.05*-U.velocityX/.227,ue*=Zd(g,S,Q,Ii(h,Ct)),M.vars.scrollX=k(Q)),S=p(),Q=S+ue*.05*-U.velocityY/.227,ue*=Zd(p,S,Q,Ii(h,Qe)),M.vars.scrollY=A(Q),M.invalidate().duration(ue).play(.01),(yr&&M.vars.scrollY>=l||S>=l-1)&&V.to({},{onUpdate:L,duration:ue})}a&&a(U)},e.onWheel=function(){M._ts&&M.pause(),bt()-b>1e3&&(v=0,b=bt())},e.onChange=function(U,G,ue,S,Q){if(Gr!==v&&E(),G&&i&&g(k(S[2]===G?N+(U.startX-U.x):g()+G-S[1])),ue){p.offset&&P();var ge=Q[2]===ue,Ae=ge?z+U.startY-U.y:p()+ue-Q[1],le=A(Ae);ge&&Ae!==le&&(z+=le-Ae),p(le)}(ue||G)&&Zi()},e.onEnable=function(){uh(h,i?!1:"x"),ne.addEventListener("refresh",L),st(ce,"resize",L),p.smooth&&(p.target.style.scrollBehavior="auto",p.smooth=g.smooth=!1),w.enable()},e.onDisable=function(){uh(h,!0),nt(ce,"resize",L),ne.removeEventListener("refresh",L),w.kill()},e.lockAxis=e.lockAxis!==!1,o=new We(e),o.iOS=yr,yr&&!p()&&p(1),yr&&V.ticker.add(zi),O=o._dc,M=V.to(o,{ease:"power4",paused:!0,inherit:!1,scrollX:i?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Kd(p,p(),function(){return M.pause()})},onUpdate:Zi,onComplete:O.vars.onComplete}),o};ne.sort=function(s){return re.sort(s||function(e,t){return(e.vars.refreshPriority||0)*-1e6+e.start-(t.start+(t.vars.refreshPriority||0)*-1e6)})},ne.observe=function(s){return new We(s)},ne.normalizeScroll=function(s){if(typeof s>"u")return Mt;if(s===!0&&Mt)return Mt.enable();if(s===!1){Mt&&Mt.kill(),Mt=s;return}var e=s instanceof We?s:ey(s);return Mt&&Mt.target===e.target&&Mt.kill(),Wr(e.target)&&(Mt=e),e},ne.core={_getVelocityProp:ql,_inputObserver:Jd,_scrollers:se,_proxies:Di,bridge:{ss:function(){ri||Xr("scrollStart"),ri=bt()},ref:function(){return yt}}},Ld()&&V.registerPlugin(ne),ie.registerPlugin(ne);function ty(){window.addEventListener("DOMContentLoaded",s=>{function e(t,i){const r=typeof t;return typeof i!="string"||i.trim()===""?t:i==="true"&&r==="boolean"?!0:i==="false"&&r==="boolean"?!1:isNaN(i)&&r==="string"?i:!isNaN(i)&&r==="number"?+i:t}$("[tr-marquee-element='component']").each(function(t){let i=$(this),r=i.find("[tr-marquee-element='panel']"),n=i.find("[tr-marquee-element='triggerhover']"),a=i.find("[tr-marquee-element='triggerclick']"),o=e(100,i.attr("tr-marquee-speed")),l=e(!1,i.attr("tr-marquee-vertical")),h=e(!1,i.attr("tr-marquee-reverse")),c=e(!1,i.attr("tr-marquee-scrolldirection")),u=e(!1,i.attr("tr-marquee-scrollscrub")),d=-100,p=1,g=!1;h&&(d=100);let f=ie.timeline({repeat:-1,onReverseComplete:()=>f.progress(1)});l?(o=r.first().height()/o,f.fromTo(r,{yPercent:0},{yPercent:d,ease:"none",duration:o})):(o=r.first().width()/o,f.fromTo(r,{xPercent:0},{xPercent:d,ease:"none",duration:o}));let y={value:1};ne.create({trigger:"body",start:"top top",end:"bottom bottom",onUpdate:m=>{if(!g&&(c&&p!==m.direction&&(p=m.direction,f.timeScale(m.direction)),u)){let v=m.getVelocity()*.006;v=ie.utils.clamp(-60,60,v),ie.timeline({onUpdate:()=>f.timeScale(y.value)}).fromTo(y,{value:v},{value:p,duration:.5})}}});function b(m){g=m;let v={value:1},x=ie.timeline({onUpdate:()=>f.timeScale(v.value)});m?(x.fromTo(v,{value:p},{value:0,duration:.5}),a.addClass("is-paused")):(x.fromTo(v,{value:0},{value:p,duration:.5}),a.removeClass("is-paused"))}window.matchMedia("(pointer: fine)").matches&&(n.on("mouseenter",()=>b(!0)),n.on("mouseleave",()=>b(!1))),a.on("click",function(){$(this).hasClass("is-paused")?b(!1):b(!0)})})}),console.log("marquee initialized")}class iy{constructor({element:e,config:t,addClass:i}){this.element=e,this.config={root:null,margin:(t==null?void 0:t.margin)||"10px",threshold:(t==null?void 0:t.threshold)||0,once:t.once},i!==void 0&&(this.addClass=i),this.init(),this.start()}init(){this.in=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&this.isIn()})},{rootMargin:this.config.margin,threshold:this.config.threshold}),this.out=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting||this.isOut()})},{rootMargin:"000px",threshold:0})}start(){this.in.observe(this.element),this.out.observe(this.element)}stop(){this.in.unobserve(this.element),this.out.unobserve(this.element)}isIn(){this.addClass&&this.element.classList.add(this.addClass),this.config.once&&this.stop(),this.animateIn()}isOut(){this.addClass&&this.element.classList.remove(this.addClass),this.animateOut()}}class ip extends iy{constructor(e){const t={margin:e.dataset.obsM||"10px",threshold:+e.dataset.obsT||0,once:e.dataset.obsOnce==="true",aSplit:e.dataset.aSplit||"word",aDuration:e.dataset.aDuration??1.9,aEach:e.dataset.aEach??.05,aDelay:e.dataset.aDelay??0,aEase:e.dataset.aEase??"expo.out",aFrom:e.dataset.aFrom??"start"};super({element:e,config:t}),this.config=t,this.item=e,this.animated=sy(e),this.a={y:"120%",x:"0%"},ie.set(this.animated,{y:this.a.y})}animateIn(){var e;(e=this.animation)==null||e.kill(),this.animation=ie.to(this.animated,{y:"0%",delay:this.config.aDelay,duration:this.config.aDuration,stagger:{each:this.config.aEach,from:this.config.aFrom},ease:this.config.aEase})}animateOut(){var e;(e=this.animation)==null||e.kill(),this.animation=ie.set(this.animated,{y:this.a.y})}}class ry{constructor(e){this.selector=e,this.reference=[...document.querySelectorAll(`[${e}]`)],this.reference&&(this.injectCss(),this.init())}init(){this.animations=this.reference.map(e=>new ip(e))}injectCss(){const e=document.createElement("style"),t=`
         [${this.selector}] > div {
          overflow: hidden;
        }
      `;e.textContent=t,document.head.append(e)}}window.staggerText=new ry("data-a-split");function sy(s){switch(s.dataset.aSplit){case"char":return ny(zn(s));case"word":return zn(zn(s));case"line":return rp(rp(s));default:return zn(zn(s))}}function ny(s){return new da(s,{types:"chars"}).chars}function zn(s){return new da(s,{types:"words"}).words}function rp(s){return new da(s,{types:"lines"}).lines}const ay=()=>{const s=document.querySelectorAll("[a-line]");s.forEach(e=>{const t=document.createElement("span");t.setAttribute("a-underline",""),e.appendChild(t)}),s.forEach(e=>{const t=e.querySelector("[a-underline]");e.addEventListener("mouseenter",()=>{ie.to(t,{scaleX:1,duration:.25,ease:"power1.out",transformOrigin:"left"})}),e.addEventListener("mouseleave",()=>{ie.to(t,{scaleX:0,duration:.25,ease:"power1.out",transformOrigin:"right"})})})};function oy(s,e=100,t=4){let i=0;const r=setInterval(()=>{s.style.opacity=s.style.opacity==="1"?"0":"1",i++,i>=t*2&&(clearInterval(r),(s.closest("[nav-link]").classList.contains("w--current")||s.classList.contains("is-active"))&&(s.style.opacity="1"))},e)}const ly=()=>{document.querySelectorAll("[nav-link]").forEach(e=>{const t=e.querySelector("[nav-link-dot]"),i=new MutationObserver(()=>{e.classList.contains("w--current")||t.classList.contains("is-active")?t.style.opacity="1":t.style.opacity="0"});i.observe(e,{attributes:!0,attributeFilter:["class"]}),i.observe(t,{attributes:!0,attributeFilter:["class"]}),e.addEventListener("mouseenter",()=>{oy(t)}),e.addEventListener("mouseleave",()=>{!e.classList.contains("w--current")&&!t.classList.contains("is-active")&&(t.style.opacity="0")})})};function hy(){document.querySelectorAll("[data-a-split]").forEach(e=>{new ip(e)}),ay(),ly()}const cy=()=>{let s=0;const e=document.querySelector('[data-calc="total-price"]'),t=document.querySelector('[data-calc="reset"]'),i=document.querySelectorAll('[data-calc="radio-group"]'),r=document.querySelectorAll('[data-calc="check-group"]'),n={};console.log("Initializing calculator...");const a=()=>{console.log("Updating total price:",s),e.textContent=`$${s.toFixed(2)}`},o=(l,h)=>l+l*h/100;i.forEach((l,h)=>{l.querySelectorAll('[data-calc="answer"]').forEach(u=>{u.addEventListener("click",()=>{const d=parseInt(u.getAttribute("data-answer"),10),p=u.hasAttribute("data-calc-percentage");if(console.log(`Radio option clicked: Price = ${d}, Is Percentage = ${p}`),n[h]!==u){if(n[h]){let f=parseInt(n[h].getAttribute("data-answer"),10);n[h].hasAttribute("data-calc-percentage")&&(f=o(s-f,f)-(s-f)),s-=f,n[h].classList.remove("is--checked")}let g=d;p&&(g=o(s,d)-s),s+=g,u.classList.add("is--checked"),n[h]=u}a()})})}),r.forEach(l=>{l.querySelectorAll('[data-calc="answer"]').forEach(c=>{c.addEventListener("click",()=>{const u=parseInt(c.getAttribute("data-answer"),10),d=c.hasAttribute("data-calc-percentage");if(console.log(`Checkbox option clicked: Price = ${u}, Is Percentage = ${d}`),c.classList.contains("is--checked")){let p=u;d&&(p=o(s,u)-s),s-=p,c.classList.remove("is--checked")}else{let p=u;d&&(p=o(s,u)-s),s+=p,c.classList.add("is--checked")}a()})})}),t.addEventListener("click",()=>{console.log("Reset button clicked"),s=0,Object.keys(n).forEach(l=>{n[l]&&n[l].classList.remove("is--checked")}),r.forEach(l=>{l.querySelectorAll('[data-calc="answer"]').forEach(h=>h.classList.remove("is--checked"))}),a()}),a()};function uy(){var s=document.querySelectorAll('a[href^="/"]');s.forEach(function(e){e.addEventListener("click",function(t){if(!this.classList.contains("external")&&!this.hasAttribute("data-exclude")){t.preventDefault();var i=this.getAttribute("href"),r=document.querySelector(".page-transition");r.style.display="block",r.style.position="fixed",r.style.bottom="auto",r.style.top="0",r.style.left="0",r.style.right="0",r.style.width="100%",r.style.height="0%",r.style.zIndex="100",ie.to(".page-transition",{duration:1,height:"100%",ease:"expo.inOut",onComplete:function(){setTimeout(function(){window.location=i},100)}})}})})}window.addEventListener("load",Sg),document.addEventListener("DOMContentLoaded",()=>{Og(),Vf(),hy(),uy(),document.querySelector(".home-page")&&dm(),document.querySelector(".plyr_component")&&__(),document.querySelector(".page-wrapper")&&y_(),document.querySelector(".work-cms-page, .about-page")&&ty(),document.querySelector(".work-page")&&z_(),document.querySelector(".work-page")&&I_(),document.querySelector(".work-page")&&F_(),document.querySelector(".work-page")&&b_(),document.querySelector(".contact-page")&&cy()})});
